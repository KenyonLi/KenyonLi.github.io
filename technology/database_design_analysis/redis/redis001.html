<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/logo_v.png"><meta name="keywords" content="kenyonli"><title>分布式中间件-Redis | Kenyon Li 随笔 </title><meta name="description" content="欢迎您，来到 Kenyon Li 世界！">
    <link rel="preload" href="/assets/style-d5da7002.css" as="style"><link rel="stylesheet" href="/assets/style-d5da7002.css">
    <link rel="modulepreload" href="/assets/app-c1c3c937.js"><link rel="modulepreload" href="/assets/redis001.html-81baf7e4.js"><link rel="modulepreload" href="/assets/redis001.html-235bdc89.js"><link rel="prefetch" href="/assets/index.html-0c5df828.js" as="script"><link rel="prefetch" href="/assets/index.html-122d66cc.js" as="script"><link rel="prefetch" href="/assets/index.html-1565d8e0.js" as="script"><link rel="prefetch" href="/assets/index.html-6eb9f9a2.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-f8b49934.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-e84486e3.js" as="script"><link rel="prefetch" href="/assets/read01.html-3499d74d.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-ebc74c11.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-c0b97768.js" as="script"><link rel="prefetch" href="/assets/design001.html-683e1b25.js" as="script"><link rel="prefetch" href="/assets/design002.html-d00aa6ad.js" as="script"><link rel="prefetch" href="/assets/design003.html-ac2e30f0.js" as="script"><link rel="prefetch" href="/assets/ea001.html-e8ab0da6.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-fbb9c4b1.js" as="script"><link rel="prefetch" href="/assets/abp001.html-4d078b9b.js" as="script"><link rel="prefetch" href="/assets/abp002.html-361c1354.js" as="script"><link rel="prefetch" href="/assets/abp003.html-370e112b.js" as="script"><link rel="prefetch" href="/assets/abp004.html-2a550719.js" as="script"><link rel="prefetch" href="/assets/abp005.html-b7b8040d.js" as="script"><link rel="prefetch" href="/assets/abp006.html-afe3148a.js" as="script"><link rel="prefetch" href="/assets/abp007.html-c73814a2.js" as="script"><link rel="prefetch" href="/assets/abp008.html-3c920bb6.js" as="script"><link rel="prefetch" href="/assets/abp009.html-5aa18139.js" as="script"><link rel="prefetch" href="/assets/abp010.html-2f60cd08.js" as="script"><link rel="prefetch" href="/assets/abp011.html-144ed9f8.js" as="script"><link rel="prefetch" href="/assets/abp012.html-b0b755c1.js" as="script"><link rel="prefetch" href="/assets/abp013.html-07f9ef95.js" as="script"><link rel="prefetch" href="/assets/abp014.html-d9b342ae.js" as="script"><link rel="prefetch" href="/assets/abp015.html-2f03e87a.js" as="script"><link rel="prefetch" href="/assets/abp016.html-94352902.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-af71ea93.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-22ac1590.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-fe194269.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-c78a6bc2.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-658ff302.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-229b0517.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0007.html-943fd56b.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-c0fd71da.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-1a1fd836.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-8139592f.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-da7de1f7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-cf03f10f.js" as="script"><link rel="prefetch" href="/assets/index.html-e99c2026.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-08c0927b.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-9daf028e.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-6c7c2a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-6379db3c.js" as="script"><link rel="prefetch" href="/assets/socket001.html-7e4e5d27.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-da1479cf.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-bb49ddf5.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d20844e4.js" as="script"><link rel="prefetch" href="/assets/minio001.html-98035ebe.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-6d96f442.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-d7e85cf9.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-4e11cba4.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-3469aa09.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-61d6ef57.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-6628017a.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-a5dde2f7.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-054bc685.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-f5259f7c.js" as="script"><link rel="prefetch" href="/assets/index.html-89e48f33.js" as="script"><link rel="prefetch" href="/assets/index.html-33fe1ab6.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-fc05ec9d.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-a6b66b2f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-068822cb.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-506d1653.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-790a1718.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-223ae1b5.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-4b2d3f6a.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-50ae10d4.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-7601e865.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-43a9f4a0.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-84b83419.js" as="script"><link rel="prefetch" href="/assets/index.html-106989a1.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1eda9371.js" as="script"><link rel="prefetch" href="/assets/dns001.html-d38b2d4f.js" as="script"><link rel="prefetch" href="/assets/docker01.html-c099819b.js" as="script"><link rel="prefetch" href="/assets/docker02.html-2fa931a0.js" as="script"><link rel="prefetch" href="/assets/docker03.html-feb12d1f.js" as="script"><link rel="prefetch" href="/assets/docker04.html-8213c817.js" as="script"><link rel="prefetch" href="/assets/frp001.html-86b24d68.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-d0fcb613.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-e73b097e.js" as="script"><link rel="prefetch" href="/assets/index.html-7a43a8bb.js" as="script"><link rel="prefetch" href="/assets/linux001.html-a464543d.js" as="script"><link rel="prefetch" href="/assets/linux002.html-58cf1ca5.js" as="script"><link rel="prefetch" href="/assets/linux003.html-51f3f2b1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-23a1a9e7.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-d411bec4.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-9041f95f.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-10bdbaeb.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-c838e0a5.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-e8ab8a03.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-c594a14a.js" as="script"><link rel="prefetch" href="/assets/index.html-f213c134.js" as="script"><link rel="prefetch" href="/assets/index.html-d290a688.js" as="script"><link rel="prefetch" href="/assets/index.html-32bd2362.js" as="script"><link rel="prefetch" href="/assets/index.html-aae62809.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-337bca08.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-8076a85d.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-1db2663f.js" as="script"><link rel="prefetch" href="/assets/index.html-e7f831f3.js" as="script"><link rel="prefetch" href="/assets/index.html-8b52f0d9.js" as="script"><link rel="prefetch" href="/assets/index.html-4648e07d.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-8a98ac78.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-f5dc1ae7.js" as="script"><link rel="prefetch" href="/assets/read01.html-1687e123.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-64856c47.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-1470ec02.js" as="script"><link rel="prefetch" href="/assets/design001.html-2dca36d3.js" as="script"><link rel="prefetch" href="/assets/design002.html-d7f05fa3.js" as="script"><link rel="prefetch" href="/assets/design003.html-d38fa6cb.js" as="script"><link rel="prefetch" href="/assets/ea001.html-a0d6ab52.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-570f8bf2.js" as="script"><link rel="prefetch" href="/assets/abp001.html-e8e8c350.js" as="script"><link rel="prefetch" href="/assets/abp002.html-8b64116a.js" as="script"><link rel="prefetch" href="/assets/abp003.html-97dcc164.js" as="script"><link rel="prefetch" href="/assets/abp004.html-61336e39.js" as="script"><link rel="prefetch" href="/assets/abp005.html-c353f637.js" as="script"><link rel="prefetch" href="/assets/abp006.html-1440855d.js" as="script"><link rel="prefetch" href="/assets/abp007.html-ab8fed2b.js" as="script"><link rel="prefetch" href="/assets/abp008.html-6d348981.js" as="script"><link rel="prefetch" href="/assets/abp009.html-49dfe559.js" as="script"><link rel="prefetch" href="/assets/abp010.html-9c827b9c.js" as="script"><link rel="prefetch" href="/assets/abp011.html-3fb5d44f.js" as="script"><link rel="prefetch" href="/assets/abp012.html-97019b82.js" as="script"><link rel="prefetch" href="/assets/abp013.html-70d09ec2.js" as="script"><link rel="prefetch" href="/assets/abp014.html-df3b5c55.js" as="script"><link rel="prefetch" href="/assets/abp015.html-68bba06f.js" as="script"><link rel="prefetch" href="/assets/abp016.html-301af947.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-fb866520.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-aac60f40.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-72bb2608.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-0aa290ee.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-84e05aa9.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-4fda8e55.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0007.html-69b1b7dd.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-cf956168.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-9ac9702e.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-87af3317.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-3da615b7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-e913010d.js" as="script"><link rel="prefetch" href="/assets/index.html-318c85d6.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-2c14b5d2.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-01750e0b.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-8c224ecf.js" as="script"><link rel="prefetch" href="/assets/index.html-1916077d.js" as="script"><link rel="prefetch" href="/assets/socket001.html-ba30a642.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-7430deaa.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-c4327d81.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d0597fdb.js" as="script"><link rel="prefetch" href="/assets/minio001.html-e4e18988.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-94778e50.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-5d7ed981.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-db33de28.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-e178b1f2.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-81ee10f0.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-3915c089.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-d28fbc5d.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-45498f86.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-53075a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-83472dc7.js" as="script"><link rel="prefetch" href="/assets/index.html-2e07e830.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-ac44abd4.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-d7f1867f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-8fc8d63a.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-9c9af126.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-4b3160ce.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-205ddc38.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-76bb44c4.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-e1071d89.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-c24d3548.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-4826990b.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-f8502a25.js" as="script"><link rel="prefetch" href="/assets/index.html-341ba3fa.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1e454cb6.js" as="script"><link rel="prefetch" href="/assets/dns001.html-2add38d8.js" as="script"><link rel="prefetch" href="/assets/docker01.html-748273dd.js" as="script"><link rel="prefetch" href="/assets/docker02.html-d1864030.js" as="script"><link rel="prefetch" href="/assets/docker03.html-b13fc535.js" as="script"><link rel="prefetch" href="/assets/docker04.html-4a38e8b5.js" as="script"><link rel="prefetch" href="/assets/frp001.html-92c57efc.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-c62bbaa1.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-186fb4f5.js" as="script"><link rel="prefetch" href="/assets/index.html-aed31d7b.js" as="script"><link rel="prefetch" href="/assets/linux001.html-99ea1dd0.js" as="script"><link rel="prefetch" href="/assets/linux002.html-2fbd42df.js" as="script"><link rel="prefetch" href="/assets/linux003.html-3c59ddc1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-b7f6db9b.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-42016abb.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-2ae1a7b1.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-66ddcbf5.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-022cbbf6.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-5dfd0aa1.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-23a7ed3a.js" as="script"><link rel="prefetch" href="/assets/index.html-b3e0fb83.js" as="script"><link rel="prefetch" href="/assets/index.html-1142373e.js" as="script"><link rel="prefetch" href="/assets/index.html-06a86388.js" as="script"><link rel="prefetch" href="/assets/index.html-5ce4eeab.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-e60bbb12.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-c805580e.js" as="script"><link rel="prefetch" href="/assets/404.html-e3ed7bad.js" as="script"><link rel="prefetch" href="/assets/index-e32a7948.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-f21db64e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/home_logo_v.png" alt="Kenyon Li 随笔 "><span class="site-name can-hide">Kenyon Li 随笔 </span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">前端设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">javasrcipt <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/javascript/index.md" class="sidebar-item" aria-label="js语法基础"><!--[--><!--]--> js语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">H5语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/h5/index.md" class="sidebar-item" aria-label="H5语法基础"><!--[--><!--]--> H5语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">CSS样式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/css/index.md" class="sidebar-item" aria-label="CSS语法基础"><!--[--><!--]--> CSS语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Vue语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/vue/index.md" class="sidebar-item" aria-label="vue语法基础"><!--[--><!--]--> vue语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">后端设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">C#语法特性 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/csharp/csharp01.md" class="sidebar-item" aria-label="C#语法特性"><!--[--><!--]--> C#语法特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">C/C++ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/cppreference/index.md" class="sidebar-item" aria-label="c/c++"><!--[--><!--]--> c/c++ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">dotnet Core <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/dotnetcore/dotnet01.md" class="sidebar-item" aria-label="dotnet 安装 CLI/SDK"><!--[--><!--]--> dotnet 安装 CLI/SDK <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/index.md" class="sidebar-item" aria-label="EFCore数据库迁移命令"><!--[--><!--]--> EFCore数据库迁移命令 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/socket001.md" class="sidebar-item" aria-label="Socket网络编程"><!--[--><!--]--> Socket网络编程 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/dotnet02.md" class="sidebar-item" aria-label="Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法"><!--[--><!--]--> Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">ABP vNnext <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abp/abp001.md" class="sidebar-item" aria-label="ABP CLI"><!--[--><!--]--> ABP CLI <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp002.md" class="sidebar-item" aria-label="ABP vNnext  核心根基模块化"><!--[--><!--]--> ABP vNnext  核心根基模块化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp003.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(一)-落地实战"><!--[--><!--]--> ABP核心项目-电商项目(一)-落地实战 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp004.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(二)-领域层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(二)-领域层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp005.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(三)-仓储、服务层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(三)-仓储、服务层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp006.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理"><!--[--><!--]--> ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp007.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(五)-动态c#API客户端模块"><!--[--><!--]--> ABP核心项目-电商项目(五)-动态c#API客户端模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp008.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(六)-用户组件-用户身份模块"><!--[--><!--]--> ABP核心项目-电商项目(六)-用户组件-用户身份模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp009.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(七)-用户组件-账户模块"><!--[--><!--]--> ABP核心项目-电商项目(七)-用户组件-账户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp010.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(八)-用户组件-权限模块"><!--[--><!--]--> ABP核心项目-电商项目(八)-用户组件-权限模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp011.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(九)-用户组件-多租户模块"><!--[--><!--]--> ABP核心项目-电商项目(九)-用户组件-多租户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp012.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十)-疑问记录"><!--[--><!--]--> ABP核心项目-电商项目(十)-疑问记录 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp013.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十一)-设置模块"><!--[--><!--]--> ABP核心项目-电商项目(十一)-设置模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp014.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十二)-特征模块"><!--[--><!--]--> ABP核心项目-电商项目(十二)-特征模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp015.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十三)-异常/认证/本地化模块"><!--[--><!--]--> ABP核心项目-电商项目(十三)-异常/认证/本地化模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp016.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十四)-虚拟文件系统"><!--[--><!--]--> ABP核心项目-电商项目(十四)-虚拟文件系统 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Apb微服务项目 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0001.md" class="sidebar-item" aria-label="微服务电商项目落地"><!--[--><!--]--> 微服务电商项目落地 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0002.md" class="sidebar-item" aria-label="微服务通信"><!--[--><!--]--> 微服务通信 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0003.md" class="sidebar-item" aria-label="微服务网关-Ocelot"><!--[--><!--]--> 微服务网关-Ocelot <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0004.md" class="sidebar-item" aria-label="微服务注册中心-Consul"><!--[--><!--]--> 微服务注册中心-Consul <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0005.md" class="sidebar-item" aria-label="微服务注配置中心-Nacos"><!--[--><!--]--> 微服务注配置中心-Nacos <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0006.md" class="sidebar-item" aria-label="微服务事件总线-CAP"><!--[--><!--]--> 微服务事件总线-CAP <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0007.md" class="sidebar-item" aria-label="微服务链路监控-skywalking"><!--[--><!--]--> 微服务链路监控-skywalking <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0008.md" class="sidebar-item" aria-label="微服务日志中心"><!--[--><!--]--> 微服务日志中心 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0009.md" class="sidebar-item" aria-label="微服务分布式事务"><!--[--><!--]--> 微服务分布式事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0010.md" class="sidebar-item" aria-label="微服务分布式权限"><!--[--><!--]--> 微服务分布式权限 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0011.md" class="sidebar-item" aria-label="微服务分布式文件系统、分布式缓存、分布式锁"><!--[--><!--]--> 微服务分布式文件系统、分布式缓存、分布式锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0012.md" class="sidebar-item" aria-label="微服务大数据库MongoDB、任务调度Hangfire"><!--[--><!--]--> 微服务大数据库MongoDB、任务调度Hangfire <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-RabbitMQ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/rabbitmq/rabbitmq01.md" class="sidebar-item" aria-label="RabbitMQ简介（一）"><!--[--><!--]--> RabbitMQ简介（一） <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/rabbitmq/rabbitmq02.md" class="sidebar-item" aria-label="RabbitMQ（二）"><!--[--><!--]--> RabbitMQ（二） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-Kafka <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/kafka/kafka01.md" class="sidebar-item" aria-label="Kafka介绍（一）"><!--[--><!--]--> Kafka介绍（一） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ShardingSphere-Proxy <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/sharding_sphere_proxy/sharding_sphere_proxy001.md" class="sidebar-item" aria-label="分布式中间件-ShardingSphere-Proxy"><!--[--><!--]--> 分布式中间件-ShardingSphere-Proxy <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ElasticSearch <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/elasticsearch/elasticsearch001.md" class="sidebar-item" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/elasticsearch/elasticsearch002.md" class="sidebar-item" aria-label="ElasticSearch-分词器"><!--[--><!--]--> ElasticSearch-分词器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-Minio <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/minio/minio001.md" class="sidebar-item" aria-label="Minio"><!--[--><!--]--> Minio <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式任务调度中间件-ScheduleMaster <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/schedule_master/schedule_master001.md" class="sidebar-item" aria-label="分布式任务调度中间件-ScheduleMaster"><!--[--><!--]--> 分布式任务调度中间件-ScheduleMaster <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">性能调优 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/tuning/tuning001.md" class="sidebar-item" aria-label="DNS调优"><!--[--><!--]--> DNS调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning002.md" class="sidebar-item" aria-label="CDN调优"><!--[--><!--]--> CDN调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning003.md" class="sidebar-item" aria-label="Nginx调优"><!--[--><!--]--> Nginx调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning004.md" class="sidebar-item" aria-label="WebAPI调优"><!--[--><!--]--> WebAPI调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning005.md" class="sidebar-item" aria-label="EFCore调优"><!--[--><!--]--> EFCore调优 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">数据库设计与技术 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">MySql数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mysql/index.md" class="sidebar-item" aria-label="Mysql8.0 Ubuntu 20.4 安装"><!--[--><!--]--> Mysql8.0 Ubuntu 20.4 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/09mysql_centos.md" class="sidebar-item" aria-label="Mysql8.0 CentOS Stream 9 安装"><!--[--><!--]--> Mysql8.0 CentOS Stream 9 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/10mysql_write_read.md" class="sidebar-item" aria-label="Mysql 8.0 主从部署-读写分离"><!--[--><!--]--> Mysql 8.0 主从部署-读写分离 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="sidebar-item" aria-label="Mysql 架构体系详解"><!--[--><!--]--> Mysql 架构体系详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/02mysql_info.md" class="sidebar-item" aria-label="InnoDB架构详解、事务介绍"><!--[--><!--]--> InnoDB架构详解、事务介绍 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/03mysql_innoDB.md" class="sidebar-item" aria-label="InnoDB事务"><!--[--><!--]--> InnoDB事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/04mysql_info.md" class="sidebar-item" aria-label="InnoDB索引"><!--[--><!--]--> InnoDB索引 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/05InnoDB_lock.md" class="sidebar-item" aria-label="Mysql InnoDB锁"><!--[--><!--]--> Mysql InnoDB锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/06mysql_info.md" class="sidebar-item" aria-label="Mysql 性能优化"><!--[--><!--]--> Mysql 性能优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/07mysql_info.md" class="sidebar-item" aria-label="MySQL分库分表"><!--[--><!--]--> MySQL分库分表 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/08mysql_info.md" class="sidebar-item" aria-label="MySQL集群篇"><!--[--><!--]--> MySQL集群篇 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">MongoDB数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mongodb/mongodb001.md" class="sidebar-item" aria-label="分布式中间件-MongoDB"><!--[--><!--]--> 分布式中间件-MongoDB <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active collapsible">Redis数据库 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/redis/redis001.md" class="sidebar-item active" aria-label="分布式中间件-Redis"><!--[--><!--]--> 分布式中间件-Redis <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">架构设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">设计模式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/design/design001.md" class="sidebar-item" aria-label="工厂、抽象工厂、策略模式"><!--[--><!--]--> 工厂、抽象工厂、策略模式 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design002.md" class="sidebar-item" aria-label="设计模式-应用场景和优缺点"><!--[--><!--]--> 设计模式-应用场景和优缺点 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design003.md" class="sidebar-item" aria-label="存储高可用"><!--[--><!--]--> 存储高可用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">EA工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="sidebar-item" aria-label="UML、类图、顺序图 "><!--[--><!--]--> UML、类图、顺序图  <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">部署与运维技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">linux系统 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/linux/index.md" class="sidebar-item" aria-label="linux基础"><!--[--><!--]--> linux基础 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/centos9_001.md" class="sidebar-item" aria-label="linux（centos9）root密码忘记了，怎么重置或修改密码"><!--[--><!--]--> linux（centos9）root密码忘记了，怎么重置或修改密码 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn01.md" class="sidebar-item" aria-label="Ubuntu20.4 搭建vpn服务器"><!--[--><!--]--> Ubuntu20.4 搭建vpn服务器 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn02.md" class="sidebar-item" aria-label="Linux实现socks终端代理、全局代理"><!--[--><!--]--> Linux实现socks终端代理、全局代理 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn03.md" class="sidebar-item" aria-label="搭建 vpn 使用 x-ui 部署配置"><!--[--><!--]--> 搭建 vpn 使用 x-ui 部署配置 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux001.md" class="sidebar-item" aria-label="yum及yum-config-manager命令详解"><!--[--><!--]--> yum及yum-config-manager命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux002.md" class="sidebar-item" aria-label="dnf命令详解"><!--[--><!--]--> dnf命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux003.md" class="sidebar-item" aria-label="linux 运行 AppImage 应用"><!--[--><!--]--> linux 运行 AppImage 应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Nginx工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/nginx/nginx001.md" class="sidebar-item" aria-label="分布式中间件-Nginx"><!--[--><!--]--> 分布式中间件-Nginx <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Docker容器 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/docker/docker01.md" class="sidebar-item" aria-label="微服务部署Docker"><!--[--><!--]--> 微服务部署Docker <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker02.md" class="sidebar-item" aria-label="Docker集群"><!--[--><!--]--> Docker集群 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker03.md" class="sidebar-item" aria-label="微服务部署-k8s(一)"><!--[--><!--]--> 微服务部署-k8s(一) <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker04.md" class="sidebar-item" aria-label="微服务部署-k8s(二)-应用"><!--[--><!--]--> 微服务部署-k8s(二)-应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">jenkins工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/jenkins/jenkins001.md" class="sidebar-item" aria-label="Jenkins 安装部署"><!--[--><!--]--> Jenkins 安装部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">frp 网络穿透工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/frp/frp001.md" class="sidebar-item" aria-label="Frp网络穿透工具"><!--[--><!--]--> Frp网络穿透工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">产品设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Axure原型工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/product_design_analysis/axure/axure_rp_10_001.md" class="sidebar-item" aria-label="axure原型设计工具"><!--[--><!--]--> axure原型设计工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">代码管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">git工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/git/index.md" class="sidebar-item" aria-label="git 常用命令"><!--[--><!--]--> git 常用命令 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Markdown语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/markdown/index.md" class="sidebar-item" aria-label="Markdown使用手册"><!--[--><!--]--> Markdown使用手册 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/artificial_intelligence/ai/ai0001.md" class="sidebar-item" aria-label="什么是人工智能"><!--[--><!--]--> 什么是人工智能 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">项目管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">工作职责 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/project_management/project/management_0001.md" class="sidebar-item" aria-label="项目管理工作职责"><!--[--><!--]--> 项目管理工作职责 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><nav class="table-of-contents"><ul><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#目录" class="router-link-active router-link-exact-active">目录</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#分布式中间件-redis" class="router-link-active router-link-exact-active">分布式中间件-Redis</a><ul><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#什么是redis" class="router-link-active router-link-exact-active">什么是Redis</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#什么地方使用redis" class="router-link-active router-link-exact-active">什么地方使用Redis</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#集群系统中为什么要使用redis" class="router-link-active router-link-exact-active">集群系统中为什么要使用Redis</a></li></ul></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#集群系统如何落地redis" class="router-link-active router-link-exact-active">集群系统如何落地Redis</a><ul><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#查询商品缓存redis原理" class="router-link-active router-link-exact-active">查询商品缓存Redis原理</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#查询商品缓存场景落地-情况1" class="router-link-active router-link-exact-active">查询商品缓存场景落地-情况1</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#查询商品缓存场景落地-情况2" class="router-link-active router-link-exact-active">查询商品缓存场景落地-情况2</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#修改商品销量场景落地" class="router-link-active router-link-exact-active">修改商品销量场景落地</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#商品销量批量存储场景落地" class="router-link-active router-link-exact-active">商品销量批量存储场景落地</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#扣减商品库存业务场景落地" class="router-link-active router-link-exact-active">扣减商品库存业务场景落地</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#扣减商品库存业务分析" class="router-link-active router-link-exact-active">扣减商品库存业务分析</a></li></ul></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#redis-cluster-集群" class="router-link-active router-link-exact-active">Redis-cluster(集群)</a><ul><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#什么是redis-cluster" class="router-link-active router-link-exact-active">什么是redis-cluster</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#项目中为什么要使用redis-cluster" class="router-link-active router-link-exact-active">项目中为什么要使用redis-cluster</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#集群电商系统中如何落地redis-cluster" class="router-link-active router-link-exact-active">集群电商系统中如何落地redis-cluster</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#redis-cluster-主从角色分配" class="router-link-active router-link-exact-active">redis-cluster 主从角色分配</a></li></ul></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#redis7-2-版本后-redist-trib-rb-集群配置都在-redis-cli-配置" class="router-link-active router-link-exact-active">redis7.2 版本后， redist-trib.rb 集群配置都在 redis-cli 配置</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#redis-客户端工具" class="router-link-active router-link-exact-active">Redis 客户端工具</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#apache-bench安装" class="router-link-active router-link-exact-active">Apache Bench安装</a><ul><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#ubuntu" class="router-link-active router-link-exact-active">Ubuntu</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#centos-9" class="router-link-active router-link-exact-active">Centos 9</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#windows" class="router-link-active router-link-exact-active">windows</a></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#ab-使用说明" class="router-link-active router-link-exact-active">ab 使用说明</a></li></ul></li><li><a aria-current="page" href="/technology/database_design_analysis/redis/redis001.html#总线" class="router-link-active router-link-exact-active">总线</a></li></ul></nav><h2 id="分布式中间件-redis" tabindex="-1"><a class="header-anchor" href="#分布式中间件-redis" aria-hidden="true">#</a> 分布式中间件-Redis</h2><h3 id="什么是redis" tabindex="-1"><a class="header-anchor" href="#什么是redis" aria-hidden="true">#</a> 什么是Redis</h3><p>Redis是分布式缓存，主要是为了提升系统查询性能</p><p><img src="/images/redis/redis_0001image.png" alt="Alt text"></p><h3 id="什么地方使用redis" tabindex="-1"><a class="header-anchor" href="#什么地方使用redis" aria-hidden="true">#</a> 什么地方使用Redis</h3><p>Redis主要用在集群系统中。</p><h3 id="集群系统中为什么要使用redis" tabindex="-1"><a class="header-anchor" href="#集群系统中为什么要使用redis" aria-hidden="true">#</a> 集群系统中为什么要使用Redis</h3><p>单体电商</p><p><img src="/images/redis/redis_0002image.png" alt="Alt text"></p><p>单体电商-本地缓存</p><p><img src="/images/redis/redis_0003image.png" alt="Alt text"></p><p>电商集群</p><p><img src="/images/redis/redis_0004image.png" alt="Alt text"></p><p>电商集群-Redis</p><p><img src="/images/redis/redis_0005image.png" alt="Alt text"></p><p>分析：单个系统，主要用来处理客户端的请求，一个系统处理客户端的请求量是有限的，当客户端的并发量，超过了系统的并发处理的并发能力，就会导致系统处理速度变慢，也就是所谓的性能下降。所以，为了提升性能。因此我们需要通过多个实例来分离。所以，，我们会创建多个系统实例，形成的系统就叫做集群系统。可以，集群系统，如何均衡处理客户端的请求。<br> 分流代表技术，就是Redis.<br> 在什么样的集群系统中使用redis呢？<br> 用的比较多的就是电商集群系统。那么，在电商集群系统中如何落地Redis?<br> 业务场景：创建商品业务场景</p><h2 id="集群系统如何落地redis" tabindex="-1"><a class="header-anchor" href="#集群系统如何落地redis" aria-hidden="true">#</a> 集群系统如何落地Redis</h2><p>前提：<br> 1、电商系统<br> 2、Redis<br> 步骤</p><blockquote><p>1、电商集群系统准备 通过vs创建.net7电商系统<br> 2、Redis准备</p><blockquote><p>2.1 Redis 前提准备<br> Redist 下载地址：http://download.redis.io/releases/redis-7.2.0.tar.gz<br><a href="http://download.redis.io/releases/redis-7.2.0.tar.gz" target="_blank" rel="noopener noreferrer">redis-7.2.0.tar.gz 下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># wget http://download.redis.io/releases/redis-7.2.0.tar.gz </span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># tar -xzf redis-7.2.0.tar.gz</span>
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cd redis-7.2.0/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装中遇到的错误：<br><a href="https://www.cnblogs.com/operationhome/p/9752935.html" target="_blank" rel="noopener noreferrer">redis 安装 与错误解决办法 参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><code>jemalloc/jemalloc.h: No such file or directory。</code> 这个错误，是因为系统没有安装gcc 如何导致的，当安装好gcc后，执行的命令<code>makk</code><br> 正确的解决</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># make distclean  &amp;&amp; make</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">分析：导致出现这个错误的原因</p><p>错误的本质是我们在开始执行make 时遇到了错误（大部分是由于gcc未安装），然后我们安装好了gcc 后，我们再执行make ,这时就出现了jemalloc/jemalloc.h: No such file or directory。这是因为上次的</p><p>编译失败，有残留的文件，我们需要清理下，然后重新编译就可以了。</p><p>网上的解决办法是有什么错误吗？</p><p>网上的解决办法虽然最后也是可以成功安装好 redis ,但是是有一些隐患的，首先我们要知道redis 需要使用内存分配器的， make MALLOC=jemalloc 就是指定内存分配器为 jemalloc ，make MALLOC=libc 就是指定内存分配器为 libc ，这个是有安全隐患的，jemalloc 内存分配器在实践中处理内存碎片是要比libc 好的，而且在README.md 文档也说明到了，jemalloc内存分配器也是包含在源码包里面的，可以在deps 目录下看到 jemalloc 目录。</p></div><blockquote><blockquote><p>2.2 然后打开redis.conf配置，在里面添加 <code>bind 0.0.0 -::1</code> ,并且关闭 <code>protected-mode</code> 值为<code>no</code> 否则外网不可访问。</p></blockquote></blockquote><p><img src="/images/redis/redis_0006image.png" alt="Alt text"></p><blockquote><blockquote><p>2.3 然后启动Redis</p></blockquote></blockquote><p><img src="/images/redis/redis_0007image.png" alt="Alt text"></p><blockquote><p>3、客户端访问</p><blockquote><p>3.1 进入浏览器进行访问</p></blockquote></blockquote><p><img src="/images/redis/redis_0008image.png" alt="Alt text"></p><h3 id="查询商品缓存redis原理" tabindex="-1"><a class="header-anchor" href="#查询商品缓存redis原理" aria-hidden="true">#</a> 查询商品缓存Redis原理</h3><h4 id="redis做了3件事情" tabindex="-1"><a class="header-anchor" href="#redis做了3件事情" aria-hidden="true">#</a> redis做了3件事情</h4><p>1、建立连接<br> 2、存储数据到本地缓存中（redis）<br> 3、持久化数据到文件（开启新线程）</p><h4 id="为什么使用单线程" tabindex="-1"><a class="header-anchor" href="#为什么使用单线程" aria-hidden="true">#</a> 为什么使用单线程</h4><p>原因： 数据完全基于内存操作，性能足够，而且多线程消耗性能</p><h4 id="redis-使用多线程" tabindex="-1"><a class="header-anchor" href="#redis-使用多线程" aria-hidden="true">#</a> redis 使用多线程</h4><p>1、开启多个线程做不同的事情<br> 2、而不是开启多个线程做同样的一件事情<br> Redis 通信原理（建立连接）<br> Redis 处理事件的简单模型：多路复用机制。微服务：订阅发布<br> 简单理解： 一个线程处理多个客户端连接<br> 操作系统：epoll<br> redis: reactor 机制</p><p><img src="/images/redis/redis_0009image.png" alt="Alt text"></p><p>由上图可以看出，处理请求事件时，Redis的事件消费者只是被事件发布者进程短期调用而已，这种设计使得网络性能、用户感知的请求时延都得到了提升，每个用户的请求所产生的事件及响应，整个服务器网络吞吐量都会由事件的及时响应而增加。当然，这也带来了一定的要求，即每个事件消费者都不能有阻塞行为，否则将会长时间占用事件发布者进程而导致其他事件得不到及时响应，Redis的非阻塞特性就是由于它的模块都是满足这个要求的。</p><p>Redis数据存储原理：</p><p>Redis string 原理（存储数据到redis本地缓存中）<br> 可变字符串</p><p><img src="/images/redis/redis_0010image.png" alt="Alt text"></p><p>数据持久化<br> 防止数据丢失</p><p>Redis List 原理</p><p><img src="/images/redis/redis_0011image.png" alt="Alt text"></p><p>Redis Set原理<br> 数组 + Hash表</p><p><img src="/images/redis/redis_0012image.png" alt="Alt text"></p><p>数组存储数据<br> Hash 表：作用<br> 防止数据重复，使用Hash 碰撞</p><p>Redis Hash 原理图<br> 数组+ Hash + 单向链表</p><p><img src="/images/redis/redis_0013image.png" alt="Alt text"></p><p>完全基于内存操作：内存不足的缺陷。不适合存储海量数据TP级</p><p>Redis Zset原理图</p><p><img src="/images/redis/redis_0014image.png" alt="Alt text"></p><h3 id="查询商品缓存场景落地-情况1" tabindex="-1"><a class="header-anchor" href="#查询商品缓存场景落地-情况1" aria-hidden="true">#</a> 查询商品缓存场景落地-情况1</h3><p>情况1：当客户端通过集群电商系统从<code>redis</code>中查询数据的时候，都是一个一个查询的，如何实现批量查询呢？<br> 方案： 批量查询<br> 条件</p><ol><li>Set<br> 步骤<br> 1.1、在ProductController类添加代码</li></ol><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>/// &lt;summary&gt;
    /// 商品控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductController : ControllerBase
    {
        private readonly ConnectionMultiplexer _connectionMultiplexer;
        public ProductController(ConnectionMultiplexer connectionMultiplexer)
        {
            _connectionMultiplexer = connectionMultiplexer;
        }
        /// &lt;summary&gt;
        /// 查询商品
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;productCreateDto&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost]
        public Product GetProduct()
        {
           #region 2、存储商品对象-集合商品数据
            {
                // 1、从redis中取对象
                RedisValue[] productvalues = _connectionMultiplexer.GetDatabase(0).SetMembers(&quot;products&quot;);
                List&lt;Product&gt; products = new List&lt;Product&gt;();
                if (productvalues.Length == 0)
                {
                    // 2、从数据库中查询
                    products = _productDbContext.Products.ToList();

                    // 3、存储到redis中
                    List&lt;RedisValue&gt; redisValues = new List&lt;RedisValue&gt;();
                    foreach (var product1 in products)
                    {
                        string productjson = JsonConvert.SerializeObject(product1);//序列化
                        redisValues.Add(productjson);
                    }

                    _connectionMultiplexer.GetDatabase(0).SetAdd(&quot;products&quot;, redisValues.ToArray());

                    return products;
                }

                // 4、序列化，反序列化
                foreach (var redisValue in productvalues)
                {
                    product = JsonConvert.DeserializeObject&lt;Product&gt;(redisValue);//反序列化
                    products.Add(product);
                }
                return product;
            }
            #endregion
        }
    }     
        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询商品缓存场景落地-情况2" tabindex="-1"><a class="header-anchor" href="#查询商品缓存场景落地-情况2" aria-hidden="true">#</a> 查询商品缓存场景落地-情况2</h3><p>情况2：当客户端通过集群电商系统从redis批量查询数据的时候，全部一起查询，由于数据量过大，导致查询性能低下，如何提升查询性能？<br> 方案：分页查询<br> 条件<br> 1.SetScan<br> 步骤<br> 1.1、在ProductController类添加代码</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> /// <span class="token operator">&lt;</span>summary<span class="token operator">&gt;</span>
    /// 商品控制器
    /// <span class="token operator">&lt;</span>/summary<span class="token operator">&gt;</span>
    <span class="token punctuation">[</span>ApiController<span class="token punctuation">]</span>
    <span class="token punctuation">[</span>Route<span class="token punctuation">(</span><span class="token string">&quot;[controller]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    public class ProductController <span class="token builtin class-name">:</span> ControllerBase
    <span class="token punctuation">{</span>
        private <span class="token builtin class-name">readonly</span> ConnectionMultiplexer _connectionMultiplexer<span class="token punctuation">;</span>
        public ProductController<span class="token punctuation">(</span>ConnectionMultiplexer connectionMultiplexer<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            _connectionMultiplexer <span class="token operator">=</span> connectionMultiplexer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
         /// <span class="token operator">&lt;</span>summary<span class="token operator">&gt;</span>
        /// 查询商品
        /// <span class="token operator">&lt;</span>/summary<span class="token operator">&gt;</span>
        /// <span class="token operator">&lt;</span>param <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;productCreateDto&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/param<span class="token operator">&gt;</span>
        /// <span class="token operator">&lt;</span>returns<span class="token operator">&gt;</span><span class="token operator">&lt;</span>/returns<span class="token operator">&gt;</span>
        <span class="token punctuation">[</span>HttpPost<span class="token punctuation">]</span>
        public Product <span class="token function-name function">GetProduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
          <span class="token comment">#region 3、存储商品对象-集合-分页查询</span>
            <span class="token punctuation">{</span>
                // <span class="token number">1</span>、从redis中取对象
                RedisValue<span class="token punctuation">[</span><span class="token punctuation">]</span> productvalues <span class="token operator">=</span> _connectionMultiplexer.GetDatabase<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>.SetScan<span class="token punctuation">(</span><span class="token string">&quot;products&quot;</span>, <span class="token number">10</span>, <span class="token number">0</span>, <span class="token number">10</span><span class="token punctuation">)</span>.ToArray<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                List<span class="token operator">&lt;</span>Product<span class="token operator">&gt;</span> products <span class="token operator">=</span> new List<span class="token operator">&lt;</span>Product<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>productvalues.Length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    // <span class="token number">2</span>、从数据库中查询
                    products <span class="token operator">=</span> _productDbContext.Products.ToList<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    // <span class="token number">3</span>、存储到redis中
                    List<span class="token operator">&lt;</span>RedisValue<span class="token operator">&gt;</span> redisValues <span class="token operator">=</span> new List<span class="token operator">&lt;</span>RedisValue<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    foreach <span class="token punctuation">(</span>var product1 <span class="token keyword">in</span> products<span class="token punctuation">)</span>
                    <span class="token punctuation">{</span>
                        string productjson <span class="token operator">=</span> JsonConvert.SerializeObject<span class="token punctuation">(</span>product1<span class="token punctuation">)</span><span class="token punctuation">;</span>//序列化
                        redisValues.Add<span class="token punctuation">(</span>productjson<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>

                    _connectionMultiplexer.GetDatabase<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>.SetAdd<span class="token punctuation">(</span><span class="token string">&quot;products&quot;</span>, redisValues.ToArray<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

                // <span class="token number">4</span>、序列化，反序列化
                foreach <span class="token punctuation">(</span>var redisValue <span class="token keyword">in</span> productvalues<span class="token punctuation">)</span>
                <span class="token punctuation">{</span>
                    product <span class="token operator">=</span> JsonConvert.DeserializeObject<span class="token operator">&lt;</span>Product<span class="token operator">&gt;</span><span class="token punctuation">(</span>redisValue<span class="token punctuation">)</span><span class="token punctuation">;</span>//反序列化
                    products.Add<span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token builtin class-name">return</span> product<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">#endregion</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>     
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改商品销量场景落地" tabindex="-1"><a class="header-anchor" href="#修改商品销量场景落地" aria-hidden="true">#</a> 修改商品销量场景落地</h3><p>分析： 当客户端通过电商网站，每次购买一件商品，就会导致商品销量增加，由于商品存储到<code>redis</code>是以<code>json</code>的形式进行存储的，导致每次修改商品销量字段都需要进行商品数据序列化和反序列化，由于序列化和反序列化比较多，导致修改改商品销量性能下降，如何提升性能呢？<br> 方案： Hash字典<br> 条件<br> 1、<code>max_fails=2 fail_timeout=10s </code>;<br> 步骤<br> 1、在ProductController类添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code> /// &lt;summary&gt;
    /// 商品控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductController : ControllerBase
    {
        private readonly ConnectionMultiplexer _connectionMultiplexer;
        public ProductController(ConnectionMultiplexer connectionMultiplexer)
        {
            _connectionMultiplexer = connectionMultiplexer;
        }
         /// &lt;summary&gt;
        /// 查询商品
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;productCreateDto&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost]
        public Product GetProduct()
        {
          #region 4、存储商品对象-字典形式
            {
                string ProductSold = _connectionMultiplexer.GetDatabase(0).HashGet(&quot;productHash&quot;, &quot;ProductSold&quot;);
                if (string.IsNullOrEmpty(ProductSold))
                {
                    product = _productDbContext.Products.FirstOrDefault(s =&gt; s.Id == 1);
                    _connectionMultiplexer.GetDatabase(0).HashSet(&quot;productHash&quot;, &quot;ProductSold&quot;, product.ProductStock);
                   //设置过期时间  10 秒
                    _connectionMultiplexer.GetDatabase(0).KeyExpire(&quot;productHash&quot;, TimeSpan.FromSeconds(10));
                }

                // 1、增加销量
                _connectionMultiplexer.GetDatabase(0).HashIncrement(&quot;productHash&quot;, &quot;ProductSold&quot;);
                return product;
            }
            #endregion
        }
    }     
       
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="商品销量批量存储场景落地" tabindex="-1"><a class="header-anchor" href="#商品销量批量存储场景落地" aria-hidden="true">#</a> 商品销量批量存储场景落地</h3><p>分析：当数据库中商品销量数据存储到<code>redis</code>的时候，是一个个存储，多次和redis建立连接，导致添加效率下降，如何提升添加商品销量数据的性能？<br> 方案：批量添加</p><h4 id="如何落地批量添加" tabindex="-1"><a class="header-anchor" href="#如何落地批量添加" aria-hidden="true">#</a> 如何落地批量添加？</h4><p>条件<br> 1、IBatch<br> 步骤<br> 1、在ProductController类添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code> /// &lt;summary&gt;
    /// 商品控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductController : ControllerBase
    {
        private readonly ConnectionMultiplexer _connectionMultiplexer;
        public ProductController(ConnectionMultiplexer connectionMultiplexer)
        {
            _connectionMultiplexer = connectionMultiplexer;
        }
         /// &lt;summary&gt;
        /// 查询商品
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;productCreateDto&quot;&gt;&lt;/param&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost]
        public Product GetProduct()
        {
          #region 6、存储商品对象-批量操作
            {
                var batch = _connectionMultiplexer.GetDatabase(0).CreateBatch();

                List&lt;Product&gt; products = new List&lt;Product&gt;();
                // 2、从数据库中查询
                products = _productDbContext.Products.ToList();

                // 3、存储到redis中
                for (int i = 0; i &lt; products.Count; i++)
                {
                    batch.HashSetAsync(&quot;productHash&quot; + i, &quot;ProductSold&quot;, products[i].ProductSold);
                }
                batch.Execute();

                return product;
            }
            #endregion
        }
    }     
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="扣减商品库存业务场景落地" tabindex="-1"><a class="header-anchor" href="#扣减商品库存业务场景落地" aria-hidden="true">#</a> 扣减商品库存业务场景落地</h3><p>条件<br> 1、电商系统<br> 2、Mysql8.0.23<br> 3、客户端<br> 步骤<br> 1、在电商系统中添加具体类</p><p><img src="/images/redis/redis_0015image.png" alt="Alt text"></p><p>1.1、在电商系统中ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>/// &lt;summary&gt;
    /// 商品控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductController : ControllerBase
    {
         /// &lt;summary&gt;
        /// 扣减商品库存
        /// 做4件事情
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpGet(&quot;SubStock&quot;)]
        public IActionResult SubStock()
        {
            #region 1、扣减库存流程
            {
                  // 1、获取商品库存
                  var stocks = getPorductStocks();

                    // 2、判断商品库存是否为空
                    if (stocks.Count == 0)
                    {
                        // 2.1 秒杀失败消息
                        Console.WriteLine($&quot;{Thread.CurrentThread.ManagedThreadId}：不好意思，秒杀已结束，商品编号:{stocks.Count}&quot;);
                    return new JsonResult(&quot;秒杀失败&quot;);
                    }

                    // 3、秒杀成功消息
                    Console.WriteLine($&quot;{Thread.CurrentThread.ManagedThreadId}：恭喜你，秒杀成功，商品编号:{stocks.Count}&quot;);

                    // 4、扣减商品库存
                    subtracProductStocks(stocks);
                return new JsonResult(&quot;秒杀成功&quot;);
            }
            #endregion

            return new JsonResult(&quot;秒杀成功&quot;);
        }
        
        
        /// &lt;summary&gt;
        /// 获取商品库存
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        private Stocks getPorductStocks()
        {
            // 1、查询数据库获取库存，获取第一个商品的库存数(1)
            Stocks stocks = _productDbContext.Stocks.FirstOrDefault(s =&gt; s.Id == 1);

            // 2、返回库存
            return stocks;
        }

        /// &lt;summary&gt;
        /// 扣减商品库存
        /// &lt;/summary&gt;
        private void subtracProductStocks(Stocks stocks)
        {
            // 1、扣减商品库存
            Stocks updateStocks = _productDbContext.Stocks.FirstOrDefault(s =&gt; s.Id == stocks.Id);
            updateStocks.Count = stocks.Count - 1;

            // 2、更新数据库
            _productDbContext.SaveChanges();
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.2、启动电商网站</p><p><img src="/images/redis/redis_0016image.png" alt="Alt text"></p><p>2、在Mysql中创建Stock表</p><p><img src="/images/redis/redis_0017image.png" alt="Alt text"></p><p>3、客户端访问 <img src="/images/redis/redis_0018image.png" alt="Alt text"></p><h3 id="扣减商品库存业务分析" tabindex="-1"><a class="header-anchor" href="#扣减商品库存业务分析" aria-hidden="true">#</a> 扣减商品库存业务分析</h3><p>分析： 当客户端从电商网站购买商品的时候，需要扣减商品库存，直接从数据库进行扣减，当电商系统是单实例的时候，如果客户端扣减库存并发量比较大，会出现超卖问题。如何解决超卖（10件商品卖出12件等）问题？ 这个使用lock锁的方式可以进行解决，当电商系统是集群实例的时候，如果客户端扣减库存并发量比较大，这个时候，lock锁就会出现缺陷，依然存在超卖问题。如何解决集群电商系统中的超卖问题？<br> 方案： 分布式锁</p><h4 id="如何落地分布式锁" tabindex="-1"><a class="header-anchor" href="#如何落地分布式锁" aria-hidden="true">#</a> 如何落地分布式锁</h4><p>条件<br> 1、RedisLock<br> 步骤<br> 1、封装分布式锁<br> 1.1 、 先在电商系统中创建RedisLock类</p><p><img src="/images/redis/redis_0019image.png" alt="Alt text"></p><p>1.2、 然后在RedisLock类添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>/// &lt;summary&gt;
/// redis分布式锁
/// 1、封装redis分布锁
///    1、加锁
///    2、解锁
/// 2、应用分布式锁
/// &lt;/summary&gt;
public class RedisLock
{
   // 1、redis连接管理类
   private ConnectionMultiplexer connectionMultiplexer = null;

   // 2、redis数据操作类
   private IDatabase database = null;
   public RedisLock()
   {
       connectionMultiplexer = ConnectionMultiplexer.Connect(&quot;192.168.44.4:6379&quot;);

       database = connectionMultiplexer.GetDatabase(0);
   }

   /// &lt;summary&gt;
   /// 加锁
   /// 1、key:锁名称
   /// 2、value:谁加的这把锁。线程1
   /// 3、exprie：过期时间：目的是为了防止死锁
   /// 
   /// &lt;/summary&gt;

   public void Lock()
   {
       while (true)
       {
           bool flag = database.LockTake(&quot;redis-lock&quot;, Thread.CurrentThread.ManagedThreadId, TimeSpan.FromSeconds(60));
           // 1、true 加锁成功 2、false 加锁失败
           if (flag)
           {
               break;
           }
           // 防止死循环。通过等待时间，释放资源
           Thread.Sleep(10);
       }
   }

   /// &lt;summary&gt;
   /// 解锁
   /// &lt;/summary&gt;

   public void UnLock()
   {
       bool flag = database.LockRelease(&quot;redis-lock&quot;, Thread.CurrentThread.ManagedThreadId);

       // true:释放成功  false 释放失败
       // 方案：释放资源
       connectionMultiplexer.Close();
   }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、应用分布式锁<br> 2.1、在电商系统中ProductController类中添加分布式锁代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>/// &lt;summary&gt;
    /// 商品控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductController : ControllerBase
    {
         /// &lt;summary&gt;
        /// 扣减商品库存
        /// 做4件事情
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpGet(&quot;SubStock&quot;)]
        public IActionResult SubStock()
        {
            #region 1、扣减库存流程
            {
              
                RedisLock redisLock = new RedisLock();
                redisLock.Lock();
                  // 1、获取商品库存
                  var stocks = getPorductStocks();

                    // 2、判断商品库存是否为空
                    if (stocks.Count == 0)
                    {
                        // 2.1 秒杀失败消息
                        Console.WriteLine($&quot;{Thread.CurrentThread.ManagedThreadId}：不好意思，秒杀已结束，商品编号:{stocks.Count}&quot;);
                    redisLock.UnLock();
                    return new JsonResult(&quot;秒杀失败&quot;);
                    }

                    // 3、秒杀成功消息
                    Console.WriteLine($&quot;{Thread.CurrentThread.ManagedThreadId}：恭喜你，秒杀成功，商品编号:{stocks.Count}&quot;);

                    // 4、扣减商品库存
                    subtracProductStocks(stocks);
                redisLock.UnLock();
                return new JsonResult(&quot;秒杀成功&quot;);
            }
            #endregion

            return new JsonResult(&quot;秒杀成功&quot;);
        }
        
        
        /// &lt;summary&gt;
        /// 获取商品库存
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        private Stocks getPorductStocks()
        {
            // 1、查询数据库获取库存，获取第一个商品的库存数(1)
            Stocks stocks = _productDbContext.Stocks.FirstOrDefault(s =&gt; s.Id == 1);

            // 2、返回库存
            return stocks;
        }

        /// &lt;summary&gt;
        /// 扣减商品库存
        /// &lt;/summary&gt;
        private void subtracProductStocks(Stocks stocks)
        {
            // 1、扣减商品库存
            Stocks updateStocks = _productDbContext.Stocks.FirstOrDefault(s =&gt; s.Id == stocks.Id);
            updateStocks.Count = stocks.Count - 1;

            // 2、更新数据库
            _productDbContext.SaveChanges();
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="redis-cluster-集群" tabindex="-1"><a class="header-anchor" href="#redis-cluster-集群" aria-hidden="true">#</a> Redis-cluster(集群)</h2><h3 id="什么是redis-cluster" tabindex="-1"><a class="header-anchor" href="#什么是redis-cluster" aria-hidden="true">#</a> 什么是redis-cluster</h3><p>redis-cluster 就是redis集群</p><h3 id="项目中为什么要使用redis-cluster" tabindex="-1"><a class="header-anchor" href="#项目中为什么要使用redis-cluster" aria-hidden="true">#</a> 项目中为什么要使用redis-cluster</h3><h4 id="电商集群系统使用redis" tabindex="-1"><a class="header-anchor" href="#电商集群系统使用redis" aria-hidden="true">#</a> 电商集群系统使用redis</h4><p><img src="/images/redis/redis_0020image.png" alt="Alt text"></p><h4 id="单体redis" tabindex="-1"><a class="header-anchor" href="#单体redis" aria-hidden="true">#</a> 单体redis</h4><p><img src="/images/redis/redis_0021image.png" alt="Alt text"></p><p>缺陷：单体redis可能由于各种原因导致宕机的问题。所以，需要使用redis主从集群<br> redis-主从集群</p><p><img src="/images/redis/redis_0022image.png" alt="Alt text"></p><p>缺陷：redis-主从集群，如果主节点宕机。导致整个redis集群不可用，所以，需要使用哨兵集群</p><p><img src="/images/redis/redis_0023image.png" alt="Alt text"></p><p>缺陷：<br> 1、无法解决高并发写<br> 2、无法解决海里数据存储<br> 所以：需要使用redis-cluster<br> redis-cluster(集群)</p><p><img src="/images/redis/redis_0024image.png" alt="Alt text"></p><p>redis-缓存架构</p><p><img src="/images/redis/redis_0025image.png" alt="Alt text"></p><p>redis-cluster架构说明<br> 1、6个redis实例。 reids-cluster 运行需要的角色实例<br> 2、redis-trib.rb.作用：分配redis 主从角色</p><h3 id="集群电商系统中如何落地redis-cluster" tabindex="-1"><a class="header-anchor" href="#集群电商系统中如何落地redis-cluster" aria-hidden="true">#</a> 集群电商系统中如何落地redis-cluster</h3><p>redis-cluster前提准备<br> 条件<br> 1、redis(6个实例)<br> 步骤<br> 1、在redisk 创建6个配置文件 <img src="/images/redis/redis_0026image.png" alt="Alt text"></p><p>1.1、在redis.6380.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6380</span>
<span class="token comment">#bind 127.0.0.1 </span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0       
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6380.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6380.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​1.2、在redis.6381.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6381</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0        
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6381.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6381.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.3、在redis.6382.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6382</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0        
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6382.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6382.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.4、在redis.6383.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6383</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0         
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6383.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6383.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.5、在redis.6384.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6384</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0        
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6384.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6380.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1.6、在redis.6385.conf文件中，添加内容</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>port <span class="token number">6385</span>
<span class="token builtin class-name">bind</span> <span class="token number">0.0</span>.0.0        
appendonly <span class="token function">yes</span>
appendfilename <span class="token string">&quot;appendonly.6385.aof&quot;</span>   
cluster-enabled <span class="token function">yes</span>                                    
cluster-config-file nodes.6385.conf
cluster-node-timeout <span class="token number">15000</span>
cluster-slave-validity-factor <span class="token number">10</span>
cluster-migration-barrier <span class="token number">1</span>
cluster-require-full-coverage <span class="token function">yes</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、启动6个redis实例</p><p>1.1 启动redis.6380.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6380.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0027image.png" alt="Alt text"></p><p>1.2 启动redis.6381.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6381.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0028image.png" alt="Alt text"></p><p>1.3 启动redis.6382.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6382.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0029image.png" alt="Alt text"></p><p>1.4 启动redis.6383.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6383.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0030image.png" alt="Alt text"></p><p>1.5 启动redis.6384.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6384.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0031image.png" alt="Alt text"></p><p>1.6 启动redis.6385.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-server  ./redis-config/redis.6385.conf </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0032image.png" alt="Alt text"></p><h3 id="redis-cluster-主从角色分配" tabindex="-1"><a class="header-anchor" href="#redis-cluster-主从角色分配" aria-hidden="true">#</a> redis-cluster 主从角色分配</h3><p>条件<br> 1、redis-trib.rb<br><a href="https://cache.ruby-lang.org/pub/ruby/3.0/ruby-3.0.6.tar.gz" target="_blank" rel="noopener noreferrer">ruby-3.0.6下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br> 步骤<br> 1、ruby环境安装<br> 1.1 windows<br> ruby环境下载：https://github.com/oneclick/rubyinstaller2/releases/download/RubyInstaller-3.2.2-1/rubyinstaller-3.2.2-1-x64.exe<br><a href="https://rubyinstaller.org/downloads/" target="_blank" rel="noopener noreferrer">rubyinstaller 下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br> 1.2 centos9</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> yum  <span class="token function">install</span>  ruby
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2、 安装 redsi-3.2.2.gem 使用脚本命令 2.1 window 安装</p><div class="language-bahs line-numbers-mode" data-ext="bahs"><pre class="language-bahs"><code> gem install redis -v 3.2.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0033image.png" alt="Alt text"></p><p>2.2 centos9 安装</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ruby<span class="token punctuation">]</span><span class="token comment"># gem install redis -v 3.2.2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0034image.png" alt="Alt text"><br> ​ 2.3、redis-3.2.2.gem下载地址：https://rubygems.org/gems/redis/versions/3.2.2</p><p>3、redis-trib.rb搭建redis-cluster主从<br> 3.1、 redis-trib.rb 下载地址：https://github.com/beebol/redis-trib.rb<br><a href="https://github.com/redis/redis/blob/3.2/src/redis-trib.rb" target="_blank" rel="noopener noreferrer">redis-trib.rb 源码下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="/images/redis/redis_0035image.png" alt="Alt text"></p><p>3.2、 redis-trib.rb使用<br> 通过cmd使用redis-trib.rb <code>bash ruby redis-trib.rb create --replicas 1 127.0.0.1:6380 127.0.0.1:6381 127.0.0.1:6382 127.0.0.1:6383 127.0.0.1:6384 127.0.0.1:6385 </code></p><p>3.3 redis-trib.rb redis-cluster集群状态检查</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ruby redis-tris-trib.rb  check <span class="token number">127.0</span>.0.1:6380 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0036image.png" alt="Alt text"></p><h2 id="redis7-2-版本后-redist-trib-rb-集群配置都在-redis-cli-配置" tabindex="-1"><a class="header-anchor" href="#redis7-2-版本后-redist-trib-rb-集群配置都在-redis-cli-配置" aria-hidden="true">#</a> redis7.2 版本后， redist-trib.rb 集群配置都在 redis-cli 配置</h2><p><a href="https://blog.csdn.net/weixin_42176639/article/details/132434053" target="_blank" rel="noopener noreferrer">Anolis 8.6 下 Redis 7.2.0 集群搭建和配置 参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token comment">## 1.在 rd1 复制配置文件</span>
<span class="token function">cp</span> /home/redis-7.2.0/redis.conf /usr/local/redis/redis-cluster.conf
<span class="token comment">## 2.编辑</span>
<span class="token function">vim</span> /usr/local/redis/redis-cluster.conf
<span class="token comment">## 设置密码 requirepass 123456</span>
<span class="token comment">## 关闭保护模式 protected-mode no</span>
<span class="token comment">## 开启集群 cluster-enabled yes 约1586行</span>
<span class="token comment">## 设置配置文件 cluster-config-file redis-cluster.conf 约1594行</span>
<span class="token comment">## 设置超时 cluster-node-timeout 15000 约1600行</span>
<span class="token comment">## 设置主节点密码 masterauth 123456</span>
<span class="token comment">## 设置日志 logfile /var/log/redis/redis-cluster.log</span>
<span class="token comment">## 3.将 redis-cluster.conf 分发到 rd2 / rd3 / rd4 / rd5 / rd6</span>
<span class="token function">scp</span> /usr/local/redis/redis-cluster.conf root@rd2:/usr/local/redis/
<span class="token function">scp</span> /usr/local/redis/redis-cluster.conf root@rd3:/usr/local/redis/
<span class="token function">scp</span> /usr/local/redis/redis-cluster.conf root@rd4:/usr/local/redis/
<span class="token function">scp</span> /usr/local/redis/redis-cluster.conf root@rd5:/usr/local/redis/
<span class="token function">scp</span> /usr/local/redis/redis-cluster.conf root@rd6:/usr/local/redis/
<span class="token comment">## 4.依次启动 rd1 / rd2 /rd3 /rd4 /rd5 / rd6</span>
/usr/local/redis/bin/redis-server /usr/local/redis/redis-cluster.conf <span class="token operator">&amp;</span>
<span class="token comment">## 5.清空已有数据</span>
<span class="token comment">## 5.创建集群 在任一节点执行</span>
<span class="token comment">## -a 密码认证，若没写密码无效带这个参数</span>
<span class="token comment">## --cluster create 创建集群实例列表 IP:PORT IP:PORT IP:PORT IP:PORT IP:PORT IP:PORT</span>
<span class="token comment">## --cluster-replicas 复制因子1（即每个主节点需2个从节点）</span>
/usr/local/redis/bin/redis-cli <span class="token parameter variable">-a</span> <span class="token number">123456</span> <span class="token parameter variable">--cluster</span> create --cluster-replicas <span class="token number">1</span> <span class="token number">127.0</span>.0.1:6380 <span class="token number">127.0</span>.0.1:6381 <span class="token number">127.0</span>.0.1:6382 <span class="token number">127.0</span>.0.1:6383 <span class="token number">127.0</span>.0.1:6384 <span class="token number">127.0</span>.0.1:6385

<span class="token comment">## 1.解压缩</span>
<span class="token function">tar</span> zxvf redis-7.2.0.tar.gz
<span class="token comment">## 2.进入源码安装目录</span>
<span class="token builtin class-name">cd</span> /home/redis-7.2.0/src/
<span class="token comment">## 3.编译和安装</span>
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span> <span class="token assign-left variable">PREFIX</span><span class="token operator">=</span>/usr/local/redis
<span class="token comment">## 4.进入Redis解压目录</span>
<span class="token builtin class-name">cd</span> /home/redis-7.2.0/
<span class="token comment">## 5.修改配置</span>
<span class="token function">vim</span> redis.conf
<span class="token comment">## 6.启动服务</span>
/usr/local/redis/bin/redis-server redis.conf <span class="token operator">&amp;</span>
<span class="token comment">## 7.停止服务</span>
<span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> aux <span class="token operator">|</span><span class="token function">grep</span> redis<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1、查看集群帮文档</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost src<span class="token punctuation">]</span><span class="token comment"># ./redis-cli --cluster help</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0037image.png" alt="Alt text"><br> 2、分配角色</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost src<span class="token punctuation">]</span><span class="token comment"># ./redis-cli --cluster create --cluster-replicas 1 0.0.0.0:6380 0.0.0.0:6381 0.0.0.0:6382 0.0.0.0:6383 0.0.0.0:6384 0.0.0.0:6385</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/redis/redis_0038image.png" alt="Alt text"></p><p>是否同意系统分配，接受 输入 <code>yes</code></p><p><img src="/images/redis/redis_0039image.png" alt="Alt text"></p><p>3、查看节点状态</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#状态</span>
<span class="token punctuation">[</span>root@localhost src<span class="token punctuation">]</span><span class="token comment"># ./redis-cli --cluster check 0.0.0.0:6380</span>
<span class="token number">0.0</span>.0.0:6380 <span class="token punctuation">(</span>26b27f3b<span class="token punctuation">..</span>.<span class="token punctuation">)</span> -<span class="token operator">&gt;</span> <span class="token number">0</span> keys <span class="token operator">|</span> <span class="token number">5461</span> slots <span class="token operator">|</span> <span class="token number">1</span> slaves.
<span class="token number">127.0</span>.0.1:6381 <span class="token punctuation">(</span>c4f1f3e7<span class="token punctuation">..</span>.<span class="token punctuation">)</span> -<span class="token operator">&gt;</span> <span class="token number">0</span> keys <span class="token operator">|</span> <span class="token number">5462</span> slots <span class="token operator">|</span> <span class="token number">1</span> slaves.
<span class="token number">127.0</span>.0.1:6382 <span class="token punctuation">(</span>2a9f5d67<span class="token punctuation">..</span>.<span class="token punctuation">)</span> -<span class="token operator">&gt;</span> <span class="token number">0</span> keys <span class="token operator">|</span> <span class="token number">5461</span> slots <span class="token operator">|</span> <span class="token number">1</span> slaves.
<span class="token punctuation">[</span>OK<span class="token punctuation">]</span> <span class="token number">0</span> keys <span class="token keyword">in</span> <span class="token number">3</span> masters.
<span class="token number">0.00</span> keys per slot on average.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Performing Cluster Check <span class="token punctuation">(</span>using <span class="token function">node</span> <span class="token number">0.0</span>.0.0:6380<span class="token punctuation">)</span>
M: 26b27f3b253331d3e3dab852115d98d7b94e8b86 <span class="token number">0.0</span>.0.0:6380
  slots:<span class="token punctuation">[</span><span class="token number">0</span>-5460<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
  <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
S: 64e0075c643b46b5c76695690f741ba68cd424c2 <span class="token number">127.0</span>.0.1:6383
  slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
  replicates 2a9f5d67f084d24e11989a7cd5f2a3bebca91286
M: c4f1f3e7e23993df60c847696cebbd2228f79c21 <span class="token number">127.0</span>.0.1:6381
  slots:<span class="token punctuation">[</span><span class="token number">5461</span>-10922<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5462</span> slots<span class="token punctuation">)</span> master
  <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
S: 2c195b27f07dd22b2c5a712b5c09f984141caca2 <span class="token number">127.0</span>.0.1:6384
  slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
  replicates 26b27f3b253331d3e3dab852115d98d7b94e8b86
M: 2a9f5d67f084d24e11989a7cd5f2a3bebca91286 <span class="token number">127.0</span>.0.1:6382
  slots:<span class="token punctuation">[</span><span class="token number">10923</span>-16383<span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token number">5461</span> slots<span class="token punctuation">)</span> master
  <span class="token number">1</span> additional replica<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
S: e8a0bd1e391f8665df7e64a817c65a88924cceb2 <span class="token number">127.0</span>.0.1:6385
  slots: <span class="token punctuation">(</span><span class="token number">0</span> slots<span class="token punctuation">)</span> slave
  replicates c4f1f3e7e23993df60c847696cebbd2228f79c21
<span class="token punctuation">[</span>OK<span class="token punctuation">]</span> All nodes agree about slots configuration.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Check <span class="token keyword">for</span> <span class="token function">open</span> slots<span class="token punctuation">..</span>.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> Check slots coverage<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>OK<span class="token punctuation">]</span> All <span class="token number">16384</span> slots covered.

<span class="token comment">#信息</span>
<span class="token punctuation">[</span>root@localhost src<span class="token punctuation">]</span><span class="token comment"># ./redis-cli --cluster info 0.0.0.0:6380</span>
<span class="token comment"># slots信息</span>
<span class="token punctuation">[</span>root@localhost redis-7.2.0<span class="token punctuation">]</span><span class="token comment"># ./src/redis-cli  -p 6380</span>
<span class="token number">127.0</span>.0.1:638<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> CLUSTER SLOTS

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="redis-客户端工具" tabindex="-1"><a class="header-anchor" href="#redis-客户端工具" aria-hidden="true">#</a> Redis 客户端工具</h2><p><a href="https://gitee.com/qishibo/AnotherRedisDesktopManager/releases/tag/v1.6.1" target="_blank" rel="noopener noreferrer">Another-Redis-Desktop-Manager.1.6.1.exe 下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="apache-bench安装" tabindex="-1"><a class="header-anchor" href="#apache-bench安装" aria-hidden="true">#</a> Apache Bench安装</h2><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu" aria-hidden="true">#</a> Ubuntu</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token number">1</span>: 使用apt在线安装
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> apache2-utils
<span class="token number">2</span>:检查安装是否成功：ab <span class="token parameter variable">-V</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="centos-9" tabindex="-1"><a class="header-anchor" href="#centos-9" aria-hidden="true">#</a> Centos 9</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> httpd-tools

ab <span class="token parameter variable">-v</span>
<span class="token comment"># 举例说明如何测试网站并发访问接受能力:</span>
ab <span class="token parameter variable">-c</span> <span class="token number">10</span> <span class="token parameter variable">-n</span> <span class="token number">1000</span> <span class="token parameter variable">-k</span> https://www.baidu.com/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> windows</h3><p><a href="https://www.apachehaus.com/cgi-bin/download.plx" target="_blank" rel="noopener noreferrer">Apache 2.4 Server Binaries 下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="ab-使用说明" tabindex="-1"><a class="header-anchor" href="#ab-使用说明" aria-hidden="true">#</a> ab 使用说明</h3><p><a href="https://blog.csdn.net/qq_22206899/article/details/82348122/" target="_blank" rel="noopener noreferrer">参考<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">-c</span> concurrency 请求并发数，默认为1；

<span class="token parameter variable">-n</span> requests 请求总数；

<span class="token parameter variable">-A</span> auth-username:password 向服务器提供基本认证信息。用户名和密码之间有一个“：”隔开，并将以base64编码形式发送，无论服务器是否需要（即是否发送了401认证需求代码），此字符串都会被发送。

<span class="token parameter variable">-b</span> windowsize Size of TCP send/receive buffer, <span class="token keyword">in</span> bytes.

<span class="token parameter variable">-B</span> local-address Address to <span class="token builtin class-name">bind</span> to when making outgoing connections

<span class="token parameter variable">-C</span> cookie-name<span class="token operator">=</span>value 对请求附加一个“Cookie:”头行。其典型形式是：name<span class="token operator">=</span>value的一个参数对。此参数可以重复。

<span class="token parameter variable">-d</span> 不显示“percentage served within XX<span class="token punctuation">[</span>ms<span class="token punctuation">]</span> table”消息（为以前版本提供支持）

<span class="token parameter variable">-e</span> csv-file 产生一个逗号分隔（CSV）文件，其中包含了处理每个相应百分比请求（从1%到100%）所需要的相应百分比时间（以微妙为单位）。由于这种格式已经“二进制化”。所以比“gnuplot”格式更有用。

<span class="token parameter variable">-f</span> protocol 指定SSL/TLS procotol<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token parameter variable">-g</span> gnuplot-file 把所有测试结果写入一个“gnuplot”或者TSV（以TAB分隔）文件。此文件可以方便地导入Gnuplot,IDL,Mathematica,Excel中。其中的第一行为标题。

<span class="token parameter variable">-h</span> 显示使用方法的帮助信息

<span class="token parameter variable">-H</span> custom-header 对请求附加额外的头信息，此参数的典型形式是一个有效的头信息行，其中包含了以冒号分隔的字段和值（如：”Accept-Encoding:zip/zop<span class="token punctuation">;</span>8bit“）.

<span class="token parameter variable">-i</span> 执行HEAD请求，而不是GET请求

<span class="token parameter variable">-k</span> 启用Keepalive功能，即在一个HTTP会话中执行多个请求。默认不启用此功能

<span class="token parameter variable">-p</span> POST-file 包含了POST数据的文件

<span class="token parameter variable">-P</span> proxy-auth-username:password 对一个中转代理提供基本认证信息。用户名和密码用”：“隔开，并将以base64编码形式发送。无论服务器是否需要（即是否发送了407代理认证需求代码）此字符串都会被发送。

<span class="token parameter variable">-q</span> 如果代理的请求数大于150，ab每处理大约10%或者100个请求时，会在stderr输出一个进度计数、此-q标记可以屏蔽这些信息。

<span class="token parameter variable">-r</span> 在socket接收错误时不退出

<span class="token parameter variable">-s</span> 用于编译中使用了SSL的受保护的https，而不是http协议的时候。此功能是实验性的，最好不要用。

<span class="token parameter variable">-S</span> 不显示中值和标准偏差值，而且在均值和中值为标准偏差值得1-2倍时，也不显示警告和出错信息。默认时，会显示最小值/均值/最大值等数值

<span class="token parameter variable">-t</span> timelimit 测试所进行的最大秒数。内部隐含值是”-n <span class="token number">50000</span>“。它可以时对服务器的测试限制在一个固定的总时间以内。默认时：没有时间限制。

<span class="token parameter variable">-T</span> content-type POST数据时所使用的”Content-type“头信息

<span class="token parameter variable">-u</span> PUT-file File containing data to PUT. Remember to also <span class="token builtin class-name">set</span> <span class="token parameter variable">-T</span>

<span class="token parameter variable">-v</span> verbosity 设置显示信息的详细程度，4或更大值会显示头信息，3或更大值可以显示响应代码（404，200等），2或更大值可以显示警告和其他信息。

<span class="token parameter variable">-V</span> 显示版本号并退出

<span class="token parameter variable">-w</span> 以HTML表格信息输出结果，默认时，它是白色背景的两列宽度的一张表

<span class="token parameter variable">-x</span> <span class="token operator">&lt;</span>table<span class="token operator">&gt;</span>-attributes 设置<span class="token operator">&lt;</span>table<span class="token operator">&gt;</span>属性的字符串。此属性被填入<span class="token operator">&lt;</span>table 这里<span class="token operator">&gt;</span>

<span class="token parameter variable">-X</span> proxy<span class="token punctuation">[</span>:port<span class="token punctuation">]</span> 对请求使用代理服务器

<span class="token parameter variable">-y</span> <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>-attributes 设置<span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>属性的字符串

<span class="token parameter variable">-z</span> <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>-attributes 设置<span class="token operator">&lt;</span>td<span class="token operator">&gt;</span>属性的字符串

<span class="token parameter variable">-Z</span> ciphersuite 指定SSL/TLS密码套件（见openssl密码）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="总线" tabindex="-1"><a class="header-anchor" href="#总线" aria-hidden="true">#</a> 总线</h2><blockquote><p>1、分布锁:</p><blockquote><p>使用场合：集群系统<br> 使用场景：在集群系统中修改字段值的时候，使用。执行update</p></blockquote></blockquote><blockquote><p>2、封装分布试锁<br> 3、使用redis:主要就是集群</p></blockquote></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-c1c3c937.js" defer></script>
  </body>
</html>
