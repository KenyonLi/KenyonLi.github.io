<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/logo_v.png"><meta name="keywords" content="kenyonli"><title>分布式文件系统中间件Minio | Kenyon Li 随笔 </title><meta name="description" content="欢迎您，来到 Kenyon Li 世界！">
    <link rel="preload" href="/assets/style-d5da7002.css" as="style"><link rel="stylesheet" href="/assets/style-d5da7002.css">
    <link rel="modulepreload" href="/assets/app-c1c3c937.js"><link rel="modulepreload" href="/assets/minio001.html-e4e18988.js"><link rel="modulepreload" href="/assets/minio001.html-98035ebe.js"><link rel="prefetch" href="/assets/index.html-0c5df828.js" as="script"><link rel="prefetch" href="/assets/index.html-122d66cc.js" as="script"><link rel="prefetch" href="/assets/index.html-1565d8e0.js" as="script"><link rel="prefetch" href="/assets/index.html-6eb9f9a2.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-f8b49934.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-e84486e3.js" as="script"><link rel="prefetch" href="/assets/read01.html-3499d74d.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-ebc74c11.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-c0b97768.js" as="script"><link rel="prefetch" href="/assets/design001.html-683e1b25.js" as="script"><link rel="prefetch" href="/assets/design002.html-d00aa6ad.js" as="script"><link rel="prefetch" href="/assets/design003.html-ac2e30f0.js" as="script"><link rel="prefetch" href="/assets/ea001.html-e8ab0da6.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-fbb9c4b1.js" as="script"><link rel="prefetch" href="/assets/abp001.html-4d078b9b.js" as="script"><link rel="prefetch" href="/assets/abp002.html-361c1354.js" as="script"><link rel="prefetch" href="/assets/abp003.html-370e112b.js" as="script"><link rel="prefetch" href="/assets/abp004.html-2a550719.js" as="script"><link rel="prefetch" href="/assets/abp005.html-b7b8040d.js" as="script"><link rel="prefetch" href="/assets/abp006.html-afe3148a.js" as="script"><link rel="prefetch" href="/assets/abp007.html-c73814a2.js" as="script"><link rel="prefetch" href="/assets/abp008.html-3c920bb6.js" as="script"><link rel="prefetch" href="/assets/abp009.html-5aa18139.js" as="script"><link rel="prefetch" href="/assets/abp010.html-2f60cd08.js" as="script"><link rel="prefetch" href="/assets/abp011.html-144ed9f8.js" as="script"><link rel="prefetch" href="/assets/abp012.html-b0b755c1.js" as="script"><link rel="prefetch" href="/assets/abp013.html-07f9ef95.js" as="script"><link rel="prefetch" href="/assets/abp014.html-d9b342ae.js" as="script"><link rel="prefetch" href="/assets/abp015.html-2f03e87a.js" as="script"><link rel="prefetch" href="/assets/abp016.html-94352902.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-af71ea93.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-22ac1590.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-fe194269.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-c78a6bc2.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-658ff302.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-229b0517.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0007.html-943fd56b.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-c0fd71da.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-1a1fd836.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-8139592f.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-da7de1f7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-cf03f10f.js" as="script"><link rel="prefetch" href="/assets/index.html-e99c2026.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-08c0927b.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-9daf028e.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-6c7c2a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-6379db3c.js" as="script"><link rel="prefetch" href="/assets/socket001.html-7e4e5d27.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-da1479cf.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-bb49ddf5.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d20844e4.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-6d96f442.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-d7e85cf9.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-4e11cba4.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-3469aa09.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-61d6ef57.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-6628017a.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-a5dde2f7.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-054bc685.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-f5259f7c.js" as="script"><link rel="prefetch" href="/assets/index.html-89e48f33.js" as="script"><link rel="prefetch" href="/assets/index.html-33fe1ab6.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-fc05ec9d.js" as="script"><link rel="prefetch" href="/assets/redis001.html-235bdc89.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-a6b66b2f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-068822cb.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-506d1653.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-790a1718.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-223ae1b5.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-4b2d3f6a.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-50ae10d4.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-7601e865.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-43a9f4a0.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-84b83419.js" as="script"><link rel="prefetch" href="/assets/index.html-106989a1.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1eda9371.js" as="script"><link rel="prefetch" href="/assets/dns001.html-d38b2d4f.js" as="script"><link rel="prefetch" href="/assets/docker01.html-c099819b.js" as="script"><link rel="prefetch" href="/assets/docker02.html-2fa931a0.js" as="script"><link rel="prefetch" href="/assets/docker03.html-feb12d1f.js" as="script"><link rel="prefetch" href="/assets/docker04.html-8213c817.js" as="script"><link rel="prefetch" href="/assets/frp001.html-86b24d68.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-d0fcb613.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-e73b097e.js" as="script"><link rel="prefetch" href="/assets/index.html-7a43a8bb.js" as="script"><link rel="prefetch" href="/assets/linux001.html-a464543d.js" as="script"><link rel="prefetch" href="/assets/linux002.html-58cf1ca5.js" as="script"><link rel="prefetch" href="/assets/linux003.html-51f3f2b1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-23a1a9e7.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-d411bec4.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-9041f95f.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-10bdbaeb.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-c838e0a5.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-e8ab8a03.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-c594a14a.js" as="script"><link rel="prefetch" href="/assets/index.html-f213c134.js" as="script"><link rel="prefetch" href="/assets/index.html-d290a688.js" as="script"><link rel="prefetch" href="/assets/index.html-32bd2362.js" as="script"><link rel="prefetch" href="/assets/index.html-aae62809.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-337bca08.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-8076a85d.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-1db2663f.js" as="script"><link rel="prefetch" href="/assets/index.html-e7f831f3.js" as="script"><link rel="prefetch" href="/assets/index.html-8b52f0d9.js" as="script"><link rel="prefetch" href="/assets/index.html-4648e07d.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-8a98ac78.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-f5dc1ae7.js" as="script"><link rel="prefetch" href="/assets/read01.html-1687e123.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-64856c47.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-1470ec02.js" as="script"><link rel="prefetch" href="/assets/design001.html-2dca36d3.js" as="script"><link rel="prefetch" href="/assets/design002.html-d7f05fa3.js" as="script"><link rel="prefetch" href="/assets/design003.html-d38fa6cb.js" as="script"><link rel="prefetch" href="/assets/ea001.html-a0d6ab52.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-570f8bf2.js" as="script"><link rel="prefetch" href="/assets/abp001.html-e8e8c350.js" as="script"><link rel="prefetch" href="/assets/abp002.html-8b64116a.js" as="script"><link rel="prefetch" href="/assets/abp003.html-97dcc164.js" as="script"><link rel="prefetch" href="/assets/abp004.html-61336e39.js" as="script"><link rel="prefetch" href="/assets/abp005.html-c353f637.js" as="script"><link rel="prefetch" href="/assets/abp006.html-1440855d.js" as="script"><link rel="prefetch" href="/assets/abp007.html-ab8fed2b.js" as="script"><link rel="prefetch" href="/assets/abp008.html-6d348981.js" as="script"><link rel="prefetch" href="/assets/abp009.html-49dfe559.js" as="script"><link rel="prefetch" href="/assets/abp010.html-9c827b9c.js" as="script"><link rel="prefetch" href="/assets/abp011.html-3fb5d44f.js" as="script"><link rel="prefetch" href="/assets/abp012.html-97019b82.js" as="script"><link rel="prefetch" href="/assets/abp013.html-70d09ec2.js" as="script"><link rel="prefetch" href="/assets/abp014.html-df3b5c55.js" as="script"><link rel="prefetch" href="/assets/abp015.html-68bba06f.js" as="script"><link rel="prefetch" href="/assets/abp016.html-301af947.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-fb866520.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-aac60f40.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-72bb2608.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-0aa290ee.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-84e05aa9.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-4fda8e55.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0007.html-69b1b7dd.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-cf956168.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-9ac9702e.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-87af3317.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-3da615b7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-e913010d.js" as="script"><link rel="prefetch" href="/assets/index.html-318c85d6.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-2c14b5d2.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-01750e0b.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-8c224ecf.js" as="script"><link rel="prefetch" href="/assets/index.html-1916077d.js" as="script"><link rel="prefetch" href="/assets/socket001.html-ba30a642.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-7430deaa.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-c4327d81.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d0597fdb.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-94778e50.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-5d7ed981.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-db33de28.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-e178b1f2.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-81ee10f0.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-3915c089.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-d28fbc5d.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-45498f86.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-53075a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-83472dc7.js" as="script"><link rel="prefetch" href="/assets/index.html-2e07e830.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-ac44abd4.js" as="script"><link rel="prefetch" href="/assets/redis001.html-81baf7e4.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-d7f1867f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-8fc8d63a.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-9c9af126.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-4b3160ce.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-205ddc38.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-76bb44c4.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-e1071d89.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-c24d3548.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-4826990b.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-f8502a25.js" as="script"><link rel="prefetch" href="/assets/index.html-341ba3fa.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1e454cb6.js" as="script"><link rel="prefetch" href="/assets/dns001.html-2add38d8.js" as="script"><link rel="prefetch" href="/assets/docker01.html-748273dd.js" as="script"><link rel="prefetch" href="/assets/docker02.html-d1864030.js" as="script"><link rel="prefetch" href="/assets/docker03.html-b13fc535.js" as="script"><link rel="prefetch" href="/assets/docker04.html-4a38e8b5.js" as="script"><link rel="prefetch" href="/assets/frp001.html-92c57efc.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-c62bbaa1.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-186fb4f5.js" as="script"><link rel="prefetch" href="/assets/index.html-aed31d7b.js" as="script"><link rel="prefetch" href="/assets/linux001.html-99ea1dd0.js" as="script"><link rel="prefetch" href="/assets/linux002.html-2fbd42df.js" as="script"><link rel="prefetch" href="/assets/linux003.html-3c59ddc1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-b7f6db9b.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-42016abb.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-2ae1a7b1.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-66ddcbf5.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-022cbbf6.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-5dfd0aa1.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-23a7ed3a.js" as="script"><link rel="prefetch" href="/assets/index.html-b3e0fb83.js" as="script"><link rel="prefetch" href="/assets/index.html-1142373e.js" as="script"><link rel="prefetch" href="/assets/index.html-06a86388.js" as="script"><link rel="prefetch" href="/assets/index.html-5ce4eeab.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-e60bbb12.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-c805580e.js" as="script"><link rel="prefetch" href="/assets/404.html-e3ed7bad.js" as="script"><link rel="prefetch" href="/assets/index-e32a7948.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-f21db64e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/home_logo_v.png" alt="Kenyon Li 随笔 "><span class="site-name can-hide">Kenyon Li 随笔 </span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">前端设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">javasrcipt <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/javascript/index.md" class="sidebar-item" aria-label="js语法基础"><!--[--><!--]--> js语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">H5语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/h5/index.md" class="sidebar-item" aria-label="H5语法基础"><!--[--><!--]--> H5语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">CSS样式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/css/index.md" class="sidebar-item" aria-label="CSS语法基础"><!--[--><!--]--> CSS语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Vue语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/vue/index.md" class="sidebar-item" aria-label="vue语法基础"><!--[--><!--]--> vue语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">后端设计与技术 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">C#语法特性 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/csharp/csharp01.md" class="sidebar-item" aria-label="C#语法特性"><!--[--><!--]--> C#语法特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">C/C++ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/cppreference/index.md" class="sidebar-item" aria-label="c/c++"><!--[--><!--]--> c/c++ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">dotnet Core <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/dotnetcore/dotnet01.md" class="sidebar-item" aria-label="dotnet 安装 CLI/SDK"><!--[--><!--]--> dotnet 安装 CLI/SDK <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/index.md" class="sidebar-item" aria-label="EFCore数据库迁移命令"><!--[--><!--]--> EFCore数据库迁移命令 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/socket001.md" class="sidebar-item" aria-label="Socket网络编程"><!--[--><!--]--> Socket网络编程 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/dotnet02.md" class="sidebar-item" aria-label="Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法"><!--[--><!--]--> Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">ABP vNnext <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abp/abp001.md" class="sidebar-item" aria-label="ABP CLI"><!--[--><!--]--> ABP CLI <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp002.md" class="sidebar-item" aria-label="ABP vNnext  核心根基模块化"><!--[--><!--]--> ABP vNnext  核心根基模块化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp003.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(一)-落地实战"><!--[--><!--]--> ABP核心项目-电商项目(一)-落地实战 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp004.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(二)-领域层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(二)-领域层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp005.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(三)-仓储、服务层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(三)-仓储、服务层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp006.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理"><!--[--><!--]--> ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp007.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(五)-动态c#API客户端模块"><!--[--><!--]--> ABP核心项目-电商项目(五)-动态c#API客户端模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp008.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(六)-用户组件-用户身份模块"><!--[--><!--]--> ABP核心项目-电商项目(六)-用户组件-用户身份模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp009.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(七)-用户组件-账户模块"><!--[--><!--]--> ABP核心项目-电商项目(七)-用户组件-账户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp010.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(八)-用户组件-权限模块"><!--[--><!--]--> ABP核心项目-电商项目(八)-用户组件-权限模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp011.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(九)-用户组件-多租户模块"><!--[--><!--]--> ABP核心项目-电商项目(九)-用户组件-多租户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp012.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十)-疑问记录"><!--[--><!--]--> ABP核心项目-电商项目(十)-疑问记录 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp013.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十一)-设置模块"><!--[--><!--]--> ABP核心项目-电商项目(十一)-设置模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp014.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十二)-特征模块"><!--[--><!--]--> ABP核心项目-电商项目(十二)-特征模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp015.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十三)-异常/认证/本地化模块"><!--[--><!--]--> ABP核心项目-电商项目(十三)-异常/认证/本地化模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp016.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十四)-虚拟文件系统"><!--[--><!--]--> ABP核心项目-电商项目(十四)-虚拟文件系统 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Apb微服务项目 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0001.md" class="sidebar-item" aria-label="微服务电商项目落地"><!--[--><!--]--> 微服务电商项目落地 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0002.md" class="sidebar-item" aria-label="微服务通信"><!--[--><!--]--> 微服务通信 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0003.md" class="sidebar-item" aria-label="微服务网关-Ocelot"><!--[--><!--]--> 微服务网关-Ocelot <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0004.md" class="sidebar-item" aria-label="微服务注册中心-Consul"><!--[--><!--]--> 微服务注册中心-Consul <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0005.md" class="sidebar-item" aria-label="微服务注配置中心-Nacos"><!--[--><!--]--> 微服务注配置中心-Nacos <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0006.md" class="sidebar-item" aria-label="微服务事件总线-CAP"><!--[--><!--]--> 微服务事件总线-CAP <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0007.md" class="sidebar-item" aria-label="微服务链路监控-skywalking"><!--[--><!--]--> 微服务链路监控-skywalking <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0008.md" class="sidebar-item" aria-label="微服务日志中心"><!--[--><!--]--> 微服务日志中心 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0009.md" class="sidebar-item" aria-label="微服务分布式事务"><!--[--><!--]--> 微服务分布式事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0010.md" class="sidebar-item" aria-label="微服务分布式权限"><!--[--><!--]--> 微服务分布式权限 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0011.md" class="sidebar-item" aria-label="微服务分布式文件系统、分布式缓存、分布式锁"><!--[--><!--]--> 微服务分布式文件系统、分布式缓存、分布式锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0012.md" class="sidebar-item" aria-label="微服务大数据库MongoDB、任务调度Hangfire"><!--[--><!--]--> 微服务大数据库MongoDB、任务调度Hangfire <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-RabbitMQ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/rabbitmq/rabbitmq01.md" class="sidebar-item" aria-label="RabbitMQ简介（一）"><!--[--><!--]--> RabbitMQ简介（一） <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/rabbitmq/rabbitmq02.md" class="sidebar-item" aria-label="RabbitMQ（二）"><!--[--><!--]--> RabbitMQ（二） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-Kafka <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/kafka/kafka01.md" class="sidebar-item" aria-label="Kafka介绍（一）"><!--[--><!--]--> Kafka介绍（一） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ShardingSphere-Proxy <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/sharding_sphere_proxy/sharding_sphere_proxy001.md" class="sidebar-item" aria-label="分布式中间件-ShardingSphere-Proxy"><!--[--><!--]--> 分布式中间件-ShardingSphere-Proxy <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ElasticSearch <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/elasticsearch/elasticsearch001.md" class="sidebar-item" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/elasticsearch/elasticsearch002.md" class="sidebar-item" aria-label="ElasticSearch-分词器"><!--[--><!--]--> ElasticSearch-分词器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active collapsible">分布式中间件-Minio <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/minio/minio001.md" class="sidebar-item active" aria-label="Minio"><!--[--><!--]--> Minio <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式任务调度中间件-ScheduleMaster <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/schedule_master/schedule_master001.md" class="sidebar-item" aria-label="分布式任务调度中间件-ScheduleMaster"><!--[--><!--]--> 分布式任务调度中间件-ScheduleMaster <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">性能调优 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/tuning/tuning001.md" class="sidebar-item" aria-label="DNS调优"><!--[--><!--]--> DNS调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning002.md" class="sidebar-item" aria-label="CDN调优"><!--[--><!--]--> CDN调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning003.md" class="sidebar-item" aria-label="Nginx调优"><!--[--><!--]--> Nginx调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning004.md" class="sidebar-item" aria-label="WebAPI调优"><!--[--><!--]--> WebAPI调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning005.md" class="sidebar-item" aria-label="EFCore调优"><!--[--><!--]--> EFCore调优 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">数据库设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">MySql数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mysql/index.md" class="sidebar-item" aria-label="Mysql8.0 Ubuntu 20.4 安装"><!--[--><!--]--> Mysql8.0 Ubuntu 20.4 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/09mysql_centos.md" class="sidebar-item" aria-label="Mysql8.0 CentOS Stream 9 安装"><!--[--><!--]--> Mysql8.0 CentOS Stream 9 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/10mysql_write_read.md" class="sidebar-item" aria-label="Mysql 8.0 主从部署-读写分离"><!--[--><!--]--> Mysql 8.0 主从部署-读写分离 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="sidebar-item" aria-label="Mysql 架构体系详解"><!--[--><!--]--> Mysql 架构体系详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/02mysql_info.md" class="sidebar-item" aria-label="InnoDB架构详解、事务介绍"><!--[--><!--]--> InnoDB架构详解、事务介绍 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/03mysql_innoDB.md" class="sidebar-item" aria-label="InnoDB事务"><!--[--><!--]--> InnoDB事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/04mysql_info.md" class="sidebar-item" aria-label="InnoDB索引"><!--[--><!--]--> InnoDB索引 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/05InnoDB_lock.md" class="sidebar-item" aria-label="Mysql InnoDB锁"><!--[--><!--]--> Mysql InnoDB锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/06mysql_info.md" class="sidebar-item" aria-label="Mysql 性能优化"><!--[--><!--]--> Mysql 性能优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/07mysql_info.md" class="sidebar-item" aria-label="MySQL分库分表"><!--[--><!--]--> MySQL分库分表 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/08mysql_info.md" class="sidebar-item" aria-label="MySQL集群篇"><!--[--><!--]--> MySQL集群篇 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">MongoDB数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mongodb/mongodb001.md" class="sidebar-item" aria-label="分布式中间件-MongoDB"><!--[--><!--]--> 分布式中间件-MongoDB <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Redis数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/redis/redis001.md" class="sidebar-item" aria-label="分布式中间件-Redis"><!--[--><!--]--> 分布式中间件-Redis <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">架构设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">设计模式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/design/design001.md" class="sidebar-item" aria-label="工厂、抽象工厂、策略模式"><!--[--><!--]--> 工厂、抽象工厂、策略模式 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design002.md" class="sidebar-item" aria-label="设计模式-应用场景和优缺点"><!--[--><!--]--> 设计模式-应用场景和优缺点 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design003.md" class="sidebar-item" aria-label="存储高可用"><!--[--><!--]--> 存储高可用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">EA工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="sidebar-item" aria-label="UML、类图、顺序图 "><!--[--><!--]--> UML、类图、顺序图  <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">部署与运维技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">linux系统 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/linux/index.md" class="sidebar-item" aria-label="linux基础"><!--[--><!--]--> linux基础 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/centos9_001.md" class="sidebar-item" aria-label="linux（centos9）root密码忘记了，怎么重置或修改密码"><!--[--><!--]--> linux（centos9）root密码忘记了，怎么重置或修改密码 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn01.md" class="sidebar-item" aria-label="Ubuntu20.4 搭建vpn服务器"><!--[--><!--]--> Ubuntu20.4 搭建vpn服务器 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn02.md" class="sidebar-item" aria-label="Linux实现socks终端代理、全局代理"><!--[--><!--]--> Linux实现socks终端代理、全局代理 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn03.md" class="sidebar-item" aria-label="搭建 vpn 使用 x-ui 部署配置"><!--[--><!--]--> 搭建 vpn 使用 x-ui 部署配置 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux001.md" class="sidebar-item" aria-label="yum及yum-config-manager命令详解"><!--[--><!--]--> yum及yum-config-manager命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux002.md" class="sidebar-item" aria-label="dnf命令详解"><!--[--><!--]--> dnf命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux003.md" class="sidebar-item" aria-label="linux 运行 AppImage 应用"><!--[--><!--]--> linux 运行 AppImage 应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Nginx工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/nginx/nginx001.md" class="sidebar-item" aria-label="分布式中间件-Nginx"><!--[--><!--]--> 分布式中间件-Nginx <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Docker容器 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/docker/docker01.md" class="sidebar-item" aria-label="微服务部署Docker"><!--[--><!--]--> 微服务部署Docker <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker02.md" class="sidebar-item" aria-label="Docker集群"><!--[--><!--]--> Docker集群 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker03.md" class="sidebar-item" aria-label="微服务部署-k8s(一)"><!--[--><!--]--> 微服务部署-k8s(一) <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker04.md" class="sidebar-item" aria-label="微服务部署-k8s(二)-应用"><!--[--><!--]--> 微服务部署-k8s(二)-应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">jenkins工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/jenkins/jenkins001.md" class="sidebar-item" aria-label="Jenkins 安装部署"><!--[--><!--]--> Jenkins 安装部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">frp 网络穿透工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/frp/frp001.md" class="sidebar-item" aria-label="Frp网络穿透工具"><!--[--><!--]--> Frp网络穿透工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">产品设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Axure原型工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/product_design_analysis/axure/axure_rp_10_001.md" class="sidebar-item" aria-label="axure原型设计工具"><!--[--><!--]--> axure原型设计工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">代码管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">git工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/git/index.md" class="sidebar-item" aria-label="git 常用命令"><!--[--><!--]--> git 常用命令 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Markdown语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/markdown/index.md" class="sidebar-item" aria-label="Markdown使用手册"><!--[--><!--]--> Markdown使用手册 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/artificial_intelligence/ai/ai0001.md" class="sidebar-item" aria-label="什么是人工智能"><!--[--><!--]--> 什么是人工智能 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">项目管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">工作职责 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/project_management/project/management_0001.md" class="sidebar-item" aria-label="项目管理工作职责"><!--[--><!--]--> 项目管理工作职责 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><nav class="table-of-contents"><ul><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#目录" class="router-link-active router-link-exact-active">目录</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#分布式文件系统中间件-minio" class="router-link-active router-link-exact-active">分布式文件系统中间件-Minio</a><ul><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#什么是minio" class="router-link-active router-link-exact-active">什么是Minio</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#什么地方使用minio" class="router-link-active router-link-exact-active">什么地方使用Minio</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#微服务系统中为什么要使用minio" class="router-link-active router-link-exact-active">微服务系统中为什么要使用Minio</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#微服务中如何落地minio" class="router-link-active router-link-exact-active">微服务中如何落地Minio</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#上传批量商品图片业务场景落地" class="router-link-active router-link-exact-active">上传批量商品图片业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#下载商品图片业务场景落地" class="router-link-active router-link-exact-active">下载商品图片业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#删除商品图片业务场景落地" class="router-link-active router-link-exact-active">删除商品图片业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#删除批量商品业务场景落地" class="router-link-active router-link-exact-active">删除批量商品业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#复制商品图片业务场景落地" class="router-link-active router-link-exact-active">复制商品图片业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#商品图片监听场景落地" class="router-link-active router-link-exact-active">商品图片监听场景落地</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#minio多租户" class="router-link-active router-link-exact-active">Minio多租户</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#为什么要在微服务系统中使用多租户" class="router-link-active router-link-exact-active">为什么要在微服务系统中使用多租户</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#微服务系统中如何落地多租户" class="router-link-active router-link-exact-active">微服务系统中如何落地多租户</a></li><li><a aria-current="page" href="/technology/back_end/minio/minio001.html#minio集群" class="router-link-active router-link-exact-active">Minio集群</a></li></ul></li></ul></nav><h2 id="分布式文件系统中间件-minio" tabindex="-1"><a class="header-anchor" href="#分布式文件系统中间件-minio" aria-hidden="true">#</a> 分布式文件系统中间件-Minio</h2><h3 id="什么是minio" tabindex="-1"><a class="header-anchor" href="#什么是minio" aria-hidden="true">#</a> 什么是Minio</h3><p>Minio是分布式文件系统。指：文件可以存储在多个主机中 如图所示：</p><p><img src="/images/minio/minio001_0001image.png" alt="Alt text"></p><p>文件：<strong>图片，视频，音频</strong>等等<br> 主机：linux 、 windows 、 mac 等等<br> 图片可以存储到多个linux,或者多个windows,或者从个Mac 换句话说：Minio就是OSS。对象存储系统。对象代表的是任何文件都可以存储。一般，目前主流的云平台，基本使用的都是OSS存储文件方式。Minio中存储最大文件可以达到5TB。任何类型的文件都是支持的。</p><h3 id="什么地方使用minio" tabindex="-1"><a class="header-anchor" href="#什么地方使用minio" aria-hidden="true">#</a> 什么地方使用Minio</h3><p>Minio主要使用在微服务中。单体系统中，图片资源是比较少的，所以，没有必要使用分布文件系统。</p><h3 id="微服务系统中为什么要使用minio" tabindex="-1"><a class="header-anchor" href="#微服务系统中为什么要使用minio" aria-hidden="true">#</a> 微服务系统中为什么要使用Minio</h3><p>微服务系统有很多，包含电商微服务系统，包含OA微服务系统，以及其他不同微服务系统。主要通过电商微服务系统进行举例说明为什么要使用Minio?<br> 先得到一个电商微服务系统。如何得到？电商微服务系统是由单体电商系统而来</p><h4 id="单体电商系统" tabindex="-1"><a class="header-anchor" href="#单体电商系统" aria-hidden="true">#</a> 单体电商系统</h4><p>搜索商品实现过程，客户端发起查询请求——&gt;电商系统——&gt;电商数据库。</p><p>如果客户端有这一个要求，查询订单时候，需要查询出商品。如何实现这个规则要求呢？</p><p>查询订单实现过程，客户端发武查询请求——&gt;电商系统——&gt;电商数据库——&gt;订单表和商品表进行关联。</p><p>当时，如果电商系统并发量、业务量、数据量全部上升之后，单体系统查询，添加、修改、删除性能会急剧下降。进一步甚至会导致系统宕机（宕机也就无法访问），如果系统出现了宕机问题，直接导致系统无法访问。</p><p>在允许电商系统并发量、业务量、数据量上升的情况下，如何提升系统性能，防止系统宕机呢？<br> 方案：需要进行系统业务模块拆分<br> 结果：形成电商微服务系统</p><h4 id="电商微服务系统" tabindex="-1"><a class="header-anchor" href="#电商微服务系统" aria-hidden="true">#</a> 电商微服务系统</h4><p><img src="/images/minio/minio001_0002image.png" alt="Alt text"></p><p>在微服务电商系统中，我们主要看一个业务场景，搜索商品业务场景。</p><p>搜索商品实现过程，客户端发起查询请求——&gt;电商系统——&gt;电商数据库。</p><p>如果客户端有这样一个要求，查询订单的时候，需要搜索出商品。如何实现这个规则要求呢？<br> 查询订单实现过程，客户端发起查询请求——&gt;电商网站——&gt;订单微服务——&gt;电商数据库。<br> 电商网站——&gt;商品微服务——&gt;电商数据库。<br> 一次订单查询需要涉及到2个微服务（订单微服务，商品微服务）查询。 如果并发量比较大，会导致2个微服务查询性能下降。因为是同步请求，同步请求并发处理有限<br> 如果两个微服务其中一个微服务宕机了，会导致无法进行查询。<br> 如何提升系统性能和防止系统宕机呢？<br> 方案：使用Minio</p><h4 id="电商微服务系统-上传图片" tabindex="-1"><a class="header-anchor" href="#电商微服务系统-上传图片" aria-hidden="true">#</a> 电商微服务系统-上传图片</h4><p><img src="/images/minio/minio001_0003image.png" alt="Alt text"></p><h4 id="电商微服务系统-电商网站拆分" tabindex="-1"><a class="header-anchor" href="#电商微服务系统-电商网站拆分" aria-hidden="true">#</a> 电商微服务系统-电商网站拆分</h4><p><img src="/images/minio/minio001_0004image.png" alt="Alt text"></p><h4 id="电商微服务系统-minio" tabindex="-1"><a class="header-anchor" href="#电商微服务系统-minio" aria-hidden="true">#</a> 电商微服务系统-Minio</h4><p><img src="/images/minio/minio001_0005image.png" alt="Alt text"></p><p>在微服务电商系统中，我们主要看一个业务场景，搜索商品业务场景。<br> 搜索商品实现过程，客户端发起查询请求——&gt;电商系统——&gt;商品微服务——&gt;电商数据库。<br> 如果客户端有这样一个要求，查询订单的时候，需要查询出商品。如何实现这个规则要求呢？<br> 查询订单实现过程，客户端发起查询请求——&gt;电商网站——&gt;Minio。<br> 在Minio中可以一次性查询出订单商品数据。而且还可以提升性能<br> 总结：这就是我们在电商系统中使用Minio原因<br> 1、先从单体电商系统分析<br> 2、然后再从电商微服务系统分析<br> 3、最后引入 Minio<br> 4、由此得到微服务系统为什么要使用Minio</p><h3 id="微服务中如何落地minio" tabindex="-1"><a class="header-anchor" href="#微服务中如何落地minio" aria-hidden="true">#</a> 微服务中如何落地Minio</h3><p>前提<br> 1、电商微服务系统<br> 2、Minio<br> 3、mc<br> 步骤<br> 1、电商微服务系统准备<br> 通过vs2022创建Net7电商微服务系统<br><img src="/images/minio/minio001_0006image.png" alt="Alt text"></p><p>2、Minio准备</p><p>下载地址：https://dl.min.io/server/minio/release/windows-amd64/minio.exe<br><a href="https://dl.min.io/server/minio/release/windows-amd64/minio.exe" target="_blank" rel="noopener noreferrer">windows-amd64/minio.exe 下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>​ 如图所示</p><p><img src="/images/minio/minio001_0007image.png" alt="Alt text"></p><p>3、mc准备<br> 下载地址：https://dl.min.io/client/mc/release/windows-amd64/mc.exe</p><p>​ 如图所示</p><p><img src="/images/minio/minio001_0008image.png" alt="Alt text"></p><h4 id="上传商品图片业务场景落地" tabindex="-1"><a class="header-anchor" href="#上传商品图片业务场景落地" aria-hidden="true">#</a> 上传商品图片业务场景落地</h4><p>条件<br> 1、电商微服务系统LKN.EBusiness<br> 2、Minio<br> 3、客户端<br> 步骤<br> 1、先进行电商微服务系统LKN.EBusiness 1.1 在项目中通过nuget引入Minio</p><p><img src="/images/minio/minio001_0009image.png" alt="Alt text"></p><p>1.2、先在商品网站中创建ProductController类</p><p><img src="/images/minio/minio001_0010image.png" alt="Alt text"></p><p>然后再ProductController类添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>using Microsoft.AspNetCore.Http;
using Microsoft.AspNetCore.Mvc;
using Minio;

namespace LKN.EBusiness.Controllers
{
    /// &lt;summary&gt;
    /// 商品图片控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductFileController : ControllerBase
    {

        private readonly ILogger&lt;ProductFileController&gt; _logger;

        public ProductFileController(ILogger&lt;ProductFileController&gt; logger)
        {
            _logger = logger;
        }

        /// &lt;summary&gt;
        /// 文件上传
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost(&quot;Upload&quot;)]
        public IActionResult Upload(IFormFile formFile)
        {
            // 2.1 创建MinioClient客户端
            MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

            // 2.2 创建文件桶
            if (!minioClient.BucketExistsAsync(&quot;product&quot;).Result)
            {
                minioClient.MakeBucketAsync(&quot;product&quot;).Wait();
            }

            // 2.3 上传文件
            minioClient.PutObjectAsync(&quot;product&quot;, formFile.FileName, formFile.OpenReadStream(), formFile.Length).Wait();

            _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);

            return new JsonResult(&quot;上传成功&quot;);
        }
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、Minio准备 2.1 先进入到Minio目录</p><p><img src="/images/minio/minio001_0011image.png" alt="Alt text"></p><p>2.2、然后使用cmd启动Minio</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>D:<span class="token punctuation">\</span>experimental environment<span class="token punctuation">\</span>minio<span class="token operator">&gt;</span>minio.exe server .<span class="token punctuation">\</span>data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0012image.png" alt="Alt text"></p><p>2.3、Minio启动成功后<br> 进入浏览器访问Minio后台管理系统<br> 2.3.1、 查看后台管理地址</p><p><img src="/images/minio/minio001_0013image.png" alt="Alt text"></p><p>2.3.2 然后进入浏览器访问</p><p><img src="/images/minio/minio001_0014image.png" alt="Alt text"></p><p>2.3.3、 输入Minio用户名和密码<br> 用户名：minioadmin 密码：minioadmin</p><p><img src="/images/minio/minio001_0015image.png" alt="Alt text"></p><p>3、客户端访问</p><p><img src="/images/minio/minio001_0016image.png" alt="Alt text"></p><p>4、结果查看<br> 4.1、进入到Minio后台管理中</p><p><img src="/images/minio/minio001_0017image.png" alt="Alt text"></p><p>然后查看文件</p><p><img src="/images/minio/minio001_0018image.png" alt="Alt text"></p><h5 id="添加商品图片原理" tabindex="-1"><a class="header-anchor" href="#添加商品图片原理" aria-hidden="true">#</a> 添加商品图片原理</h5><h3 id="上传批量商品图片业务场景落地" tabindex="-1"><a class="header-anchor" href="#上传批量商品图片业务场景落地" aria-hidden="true">#</a> 上传批量商品图片业务场景落地</h3><p>步骤<br> 1、先在ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>    /// &lt;summary&gt;
    /// 商品图片控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductFileController : ControllerBase
    {

        private readonly ILogger&lt;ProductFileController&gt; _logger;

        public ProductFileController(ILogger&lt;ProductFileController&gt; logger)
        {
            _logger = logger;
        }

        /// &lt;summary&gt;
        /// 批量商品上传
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost(&quot;UploadList&quot;)]
        public IActionResult UploadList(IFormFile[] files)
        {
            // 2.1 遍历所有文件
            foreach (var formFile in files)
            {
                if (formFile.Length &gt; 0)
                {
                    // 2.1 创建MinioClient客户端
                    MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

                    // 2.2 创建文件桶
                    if (!minioClient.BucketExistsAsync(&quot;product&quot;).Result)
                    {
                        minioClient.MakeBucketAsync(&quot;product&quot;).Wait();
                    }

                    // 2.3 上传文件
                    minioClient.PutObjectAsync(&quot;product&quot;, formFile.FileName, formFile.OpenReadStream(), formFile.Length).Wait();

                    _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);
                }
            }

            return new JsonResult(&quot;上传成功&quot;);
        }
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、客户端访问，进入到浏览器进行访问</p><p><img src="/images/minio/minio001_0019image.png" alt="Alt text"></p><h3 id="下载商品图片业务场景落地" tabindex="-1"><a class="header-anchor" href="#下载商品图片业务场景落地" aria-hidden="true">#</a> 下载商品图片业务场景落地</h3><p>步骤</p><p>1、先在ProductController类中添加代码</p><div class="language-C line-numbers-mode" data-ext="C"><pre class="language-C"><code>/// &lt;summary&gt;
    /// 商品图片控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductFileController : ControllerBase
    {

        private readonly ILogger&lt;ProductFileController&gt; _logger;

        public ProductFileController(ILogger&lt;ProductFileController&gt; logger)
        {
            _logger = logger;
        }

        /// &lt;summary&gt;
        /// 商品图片下载
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost(&quot;Download&quot;)]
        [HttpGet(&quot;Download&quot;)]
        public IActionResult Download(string fileName)
        {
            FileStreamResult fileStreamResult = null;
            try
            {
                // 1、创建MioIO客户端
                MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

                var imgStream = new MemoryStream();
                // 2、下载图片
                minioClient.GetObjectAsync(&quot;product&quot;, fileName, stream =&gt; stream.CopyTo(imgStream)).Wait();
                imgStream.Position = 0;

                fileStreamResult = new FileStreamResult(imgStream, &quot;image/jpg&quot;);
                
            }
            catch (MinioException e)
            {

                Console.WriteLine(&quot;Error: &quot; + e);
            }

            return fileStreamResult;
        }
    }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、客户端访问，进入到浏览器进行访问</p><p><img src="/images/minio/minio001_0020image.png" alt="Alt text"></p><h3 id="删除商品图片业务场景落地" tabindex="-1"><a class="header-anchor" href="#删除商品图片业务场景落地" aria-hidden="true">#</a> 删除商品图片业务场景落地</h3><p>步骤<br> 1、先在ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>        /// &lt;summary&gt;
        /// 商品图片删除
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpDelete]
        public IActionResult FileDelete(string fileName)
        {
                try
                {
                    // 2.1、创建客户端
                    MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

                    var imgStream = new MemoryStream();
                    // 2.2、单个图片删除
                    minioClient.RemoveObjectAsync(&quot;product&quot;, fileName).Wait();
                }
                catch (MinioException e)
                {
                    Console.WriteLine(&quot;Error: &quot; + e);
                }

            return Ok(&quot;删除成功&quot;);
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、客户端访问，进入到浏览器进行访问</p><p><img src="/images/minio/minio001_0021image.png" alt="Alt text"></p><p>3、然后进入到minio后台查看结果</p><p><img src="/images/minio/minio001_0022image.png" alt="Alt text"></p><h3 id="删除批量商品业务场景落地" tabindex="-1"><a class="header-anchor" href="#删除批量商品业务场景落地" aria-hidden="true">#</a> 删除批量商品业务场景落地</h3><p>步骤<br> 1、先在ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>        /// &lt;summary&gt;
        /// 批量商品图片删除
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpDelete(&quot;DeleteList&quot;)]
        public IActionResult FileDeleteList(string[] fileNames)
        {

            #region 2、MinIO分布式文件系统下载
            {
                try
                {
                    // 2.1、创建客户端
                    MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

                    var imgStream = new MemoryStream();
                    // 2.2、批量删除
                    minioClient.RemoveObjectAsync(&quot;productpictures&quot;, fileNames.ToList()).Wait();
                }
                catch (MinioException e)
                {
                    Console.WriteLine(&quot;Error: &quot; + e);
                }

            }
            #endregion

            return Ok(&quot;删除成功&quot;);
        }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、客户端访问，进入到浏览器进行访问</p><p><img src="/images/minio/minio001_0023image.png" alt="Alt text"></p><h3 id="复制商品图片业务场景落地" tabindex="-1"><a class="header-anchor" href="#复制商品图片业务场景落地" aria-hidden="true">#</a> 复制商品图片业务场景落地</h3><p>步骤<br> 1、先在ProductController类中添加代码</p><div class="language-c# line-numbers-mode" data-ext="c#"><pre class="language-c#"><code>/// &lt;summary&gt;
    /// 商品图片控制器
    /// &lt;/summary&gt;
    [ApiController]
    [Route(&quot;[controller]&quot;)]
    public class ProductFileController : ControllerBase
    {

        private readonly ILogger&lt;ProductFileController&gt; _logger;

        public ProductFileController(ILogger&lt;ProductFileController&gt; logger)
        {
            _logger = logger;
        }

         /// &lt;summary&gt;
        /// 商品图片复制
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost(&quot;FileCopy&quot;)]
        public IActionResult FileCopy(string fileName, string destFileName)
        {
            #region 1、图片复制
            {
                try
                {
                    // 2.1、创建客户端
                    MinioClient minioClient = new MinioClient(&quot;127.0.0.1:9000&quot;, &quot;minioadmin&quot;, &quot;minioadmin&quot;);

                    var imgStream = new MemoryStream();
                    // 2.2、批量删除
                    minioClient.CopyObjectAsync(&quot;product&quot;, fileName, &quot;productnew&quot;, destFileName).Wait();
                }
                catch (MinioException e)
                {
                    Console.WriteLine(&quot;Error: &quot; + e);
                }

            }
            #endregion

            return Ok(&quot;复制成功&quot;);
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、浏览器添加</p><p><img src="/images/minio/minio001_0024image.png" alt="Alt text"></p><p>注意Copy的对象，需要在Minio客户端创建目标数据库</p><p><img src="/images/minio/minio001_0025image.png" alt="Alt text"></p><p>3、进入Minio中查看图片数据</p><p><img src="/images/minio/minio001_0026image.png" alt="Alt text"><br><img src="/images/minio/minio001_0027image.png" alt="Alt text"></p><p>然后查看复制的图片</p><p><img src="/images/minio/minio001_0028image.png" alt="Alt text"></p><h3 id="商品图片监听场景落地" tabindex="-1"><a class="header-anchor" href="#商品图片监听场景落地" aria-hidden="true">#</a> 商品图片监听场景落地</h3><p>分析：当客户端通过电商微服务往Minio中添加数据的时候，商品数据已经被成功添加到Minio中。如何从Minio中搜索商品数据？<br> 方案： 商品图片监听</p><h4 id="如何落地商品图片监听" tabindex="-1"><a class="header-anchor" href="#如何落地商品图片监听" aria-hidden="true">#</a> 如何落地商品图片监听</h4><p>条件<br> 1、Mysql<br> 2、Minio Console<br> 3、Minio<br> 4、Minio mc<br> 步骤<br> 1、Mysql 准备<br> 1.1、在Mysql 中创建miniodb数据库</p><p><img src="/images/minio/minio001_0029image.png" alt="Alt text"></p><p>2、Minio Console准备<br> 2.1、进入Minio Console, 选择<code>Events</code></p><p><img src="/images/minio/minio001_0030image.png" alt="Alt text"></p><p>2.2、在Event Destinations 中 选择Mysql</p><p><img src="/images/minio/minio001_0031image.png" alt="Alt text"></p><p>2.3、Mysql Event Destination 填写连接数据库信息</p><p><img src="/images/minio/minio001_0032image.png" alt="Alt text"></p><p>3、Minio准备<br> 3.1、进入Minio目录中，然后重启，输入</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
minio server <span class="token parameter variable">--address</span> :9000 --console-address <span class="token string">&quot;:9001&quot;</span> ./data

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0033image.png" alt="Alt text"></p><p>获取Mysql队列名：<code>arn:minio:sqs::miniok01:mysql</code></p><p>4、Minio mc 准备<br> 4.1、进入到Minio目录，使用 cmd ,输入</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mc.exe <span class="token builtin class-name">alias</span> <span class="token builtin class-name">set</span> myminio http://127.0.0.1:9000 minioadmin minioadmin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0034image.png" alt="Alt text"></p><p>4.2、进入到Minio目录，使用cmd ,输入</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mc</span> event <span class="token function">add</span> <span class="token parameter variable">--event</span> <span class="token string">&quot;put,delete&quot;</span> myminio/productpictures arn:minio:sqs::miniok01:mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0035image.png" alt="Alt text"></p><p>5、浏览器准备</p><p><img src="/images/minio/minio001_0036image.png" alt="Alt text"></p><p>6、数据库中查看结果</p><p><img src="/images/minio/minio001_0037image.png" alt="Alt text"></p><h3 id="minio多租户" tabindex="-1"><a class="header-anchor" href="#minio多租户" aria-hidden="true">#</a> Minio多租户</h3><h4 id="什么是多租户" tabindex="-1"><a class="header-anchor" href="#什么是多租户" aria-hidden="true">#</a> 什么是多租户</h4><p>多租户：系统运行多个实例给个不同的客户使用</p><p>多租户如图所示</p><p><img src="/images/minio/minio001_0038image.png" alt="Alt text"></p><h3 id="为什么要在微服务系统中使用多租户" tabindex="-1"><a class="header-anchor" href="#为什么要在微服务系统中使用多租户" aria-hidden="true">#</a> 为什么要在微服务系统中使用多租户</h3><p>分析： Minio默认给一个客户使用，当客户变多之后，所有客户的数据都集中在Minio内部的时候，导致数据冲突的问题。例如：客户A的数据，可能会修改成客户B的数据，客户B可能查询客户A的数据。所以，如何解决客户数据冲突问题？</p><p>方案：Minio多租户</p><h3 id="微服务系统中如何落地多租户" tabindex="-1"><a class="header-anchor" href="#微服务系统中如何落地多租户" aria-hidden="true">#</a> 微服务系统中如何落地多租户</h3><p>条件<br> 1、Minio<br> 2、电商项目</p><p>步骤</p><p>1、租户1启动</p><p>1.1 进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>1.2 然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9001 --console-address <span class="token string">&quot;:9002&quot;</span> ./tenant1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0040image.png" alt="Alt text"></p><p>1.3、进入到Minio查看结果</p><p><img src="/images/minio/minio001_0041image.png" alt="Alt text"></p><p>1.4、电商项目连接</p><p>​ 1.4.1、先在ProductController类中添加代码</p><div class="language-c# line-numbers-mode" data-ext="c#"><pre class="language-c#"><code>    /// &lt;summary&gt;
    /// 文件上传
    /// &lt;/summary&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    [HttpPost(&quot;UploadList&quot;)]
    public IActionResult UploadList(IFormFile[] files)
    {
        // 2.1 遍历所有文件
        foreach (var formFile in files)
        {
            if (formFile.Length &gt; 0)
            {
                // 2.1 创建MinioClient客户端
                MinioClient minioClient = new MinioClient()
                                    .WithEndpoint(&quot;127.0.0.1&quot;, 9000)
                                    .WithCredentials(&quot;minioadmin&quot;, &quot;minioadmin&quot;)
                                    .Build();
                //minioClient.WithSSL();
                // 2.2 创建文件桶(数据库)
                if (!minioClient.BucketExistsAsync(new BucketExistsArgs().WithBucket(&quot;productpictures&quot;)).Result)
                {
                    minioClient.MakeBucketAsync(new MakeBucketArgs().WithBucket(&quot;productpictures&quot;)).Wait();
                }


                // 2.3 上传文件
                minioClient.PutObjectAsync(new PutObjectArgs().WithBucket(&quot;productpictures&quot;).WithObject(formFile.FileName).WithStreamData(formFile.OpenReadStream()).WithObjectSize(formFile.Length)).ConfigureAwait(false);

                _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);
            }
        }

        return new JsonResult(&quot;上传成功&quot;);
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、租户2启动 2.1 进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>2.2 然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9001 --console-address <span class="token string">&quot;:9002&quot;</span> ./tenant2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>​ 2.3、进入到Minio查看结果,会生成<code>tenant2</code>文件 。 2.4、电商项目连接 ​ 2.4.1、先在ProductController类中添加代码</p><div class="language-c# line-numbers-mode" data-ext="c#"><pre class="language-c#"><code> /// &lt;summary&gt;
    /// 文件上传
    /// &lt;/summary&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    [HttpPost(&quot;UploadList&quot;)]
    public IActionResult UploadList(IFormFile[] files)
    {
        // 2.1 遍历所有文件
        foreach (var formFile in files)
        {
            if (formFile.Length &gt; 0)
            {
                // 2.1 创建MinioClient客户端
                MinioClient minioClient = new MinioClient()
                                    .WithEndpoint(&quot;127.0.0.1&quot;, 9000)
                                    .WithCredentials(&quot;minioadmin&quot;, &quot;minioadmin&quot;)
                                    .Build();
                //minioClient.WithSSL();
                // 2.2 创建文件桶(数据库)
                if (!minioClient.BucketExistsAsync(new BucketExistsArgs().WithBucket(&quot;productpictures&quot;)).Result)
                {
                    minioClient.MakeBucketAsync(new MakeBucketArgs().WithBucket(&quot;productpictures&quot;)).Wait();
                }


                // 2.3 上传文件
                minioClient.PutObjectAsync(new PutObjectArgs().WithBucket(&quot;productpictures&quot;).WithObject(formFile.FileName).WithStreamData(formFile.OpenReadStream()).WithObjectSize(formFile.Length)).ConfigureAwait(false);

                _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);
            }
        }

        return new JsonResult(&quot;上传成功&quot;);
    }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、租户3启动</p><p>​ 3.1、进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>3.2、然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9005 --console-address <span class="token string">&quot;:9006&quot;</span> ./tenant3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.4、电商项目连接</p><p>​ 3.4.1、先在ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>/// &lt;summary&gt;
    /// 文件上传
    /// &lt;/summary&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    [HttpPost(&quot;UploadList&quot;)]
    public IActionResult UploadList(IFormFile[] files)
    {
        // 2.1 遍历所有文件
        foreach (var formFile in files)
        {
            if (formFile.Length &gt; 0)
            {
                // 2.1 创建MinioClient客户端
                MinioClient minioClient = new MinioClient()
                                    .WithEndpoint(&quot;127.0.0.1&quot;, 9000)
                                    .WithCredentials(&quot;minioadmin&quot;, &quot;minioadmin&quot;)
                                    .Build();
                //minioClient.WithSSL();
                // 2.2 创建文件桶(数据库)
                if (!minioClient.BucketExistsAsync(new BucketExistsArgs().WithBucket(&quot;productpictures&quot;)).Result)
                {
                    minioClient.MakeBucketAsync(new MakeBucketArgs().WithBucket(&quot;productpictures&quot;)).Wait();
                }


                // 2.3 上传文件
                minioClient.PutObjectAsync(new PutObjectArgs().WithBucket(&quot;productpictures&quot;).WithObject(formFile.FileName).WithStreamData(formFile.OpenReadStream()).WithObjectSize(formFile.Length)).ConfigureAwait(false);

                _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);
            }
        }

        return new JsonResult(&quot;上传成功&quot;);
    }

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="minio集群" tabindex="-1"><a class="header-anchor" href="#minio集群" aria-hidden="true">#</a> Minio集群</h3><h4 id="单主机-多硬盘模式" tabindex="-1"><a class="header-anchor" href="#单主机-多硬盘模式" aria-hidden="true">#</a> 单主机/多硬盘模式</h4><h5 id="什么是单主机-多硬盘模式" tabindex="-1"><a class="header-anchor" href="#什么是单主机-多硬盘模式" aria-hidden="true">#</a> 什么是单主机/多硬盘模式</h5><p>一个主机下，有多个硬盘或者多个磁盘来存储文件。</p><p>如果所示：</p><p><img src="/images/minio/minio001_0042image.png" alt="Alt text"></p><p>架构说明<br> 1、1个主节点（Master node） 管理索引（创建索引、删除索引）、分配分片<br> 维护元数据<br> 管理集群节点状态<br> 一个Minoa集群中，只有一个Master节点。在生产环境中，内存可以相对小一点，但机器要稳定。<br> 2、2个数据（Data node）<br> 在Minio集群中，会有N个DataNode节点。DataNode节点主要负责：<br> 数据写入、数据检索、大部分Minio的压力都在DataNode节点上<br> 在生产环境中，内存最好配置大一些<br> 1、高可用集群<br> 2、海量数据并发读副本<br> 3、海量数据并发写分片<br> 4、海量数据存储分片</p><h5 id="为什么要使用单主机-多硬盘模式" tabindex="-1"><a class="header-anchor" href="#为什么要使用单主机-多硬盘模式" aria-hidden="true">#</a> 为什么要使用单主机/多硬盘模式</h5><p>分析：商品图片数据通过客户端，使用Minio存储到磁盘下，当磁盘中的商品图片，商品图片从磁盘中删除了，导致商品图片不可用。客户端无法正常查询商品图片。如何解决当图片从磁盘上删除除后，能够正常访问？</p><p>方案：单主机，多硬盘</p><h6 id="如何落地单主机-多硬盘" tabindex="-1"><a class="header-anchor" href="#如何落地单主机-多硬盘" aria-hidden="true">#</a> 如何落地单主机/多硬盘</h6><p>步骤<br> 1、单主机，多硬盘模式搭建<br> 1.1 进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>1.2、然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9010 --console-address <span class="token string">&quot;:9011&quot;</span> ./data1 ./data2 ./data3 ./data4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0043image.png" alt="Alt text"><br> 1.3 、 进入到Minio查看结果</p><p><img src="/images/minio/minio001_0044image.png" alt="Alt text"></p><h5 id="微服务项目落地单主机-多硬盘" tabindex="-1"><a class="header-anchor" href="#微服务项目落地单主机-多硬盘" aria-hidden="true">#</a> 微服务项目落地单主机/多硬盘</h5><p>2、先在ProductController类中添加代码</p><div class="language-C# line-numbers-mode" data-ext="C#"><pre class="language-C#"><code>     /// &lt;summary&gt;
        /// 批量文件上传
        /// &lt;/summary&gt;
        /// &lt;returns&gt;&lt;/returns&gt;
        [HttpPost(&quot;UploadList&quot;)]
        public IActionResult UploadList(IFormFile[] files)
        {
            // 2.1 遍历所有文件
            foreach (var formFile in files)
            {
                if (formFile.Length &gt; 0)
                {
                    // 2.1 创建MinioClient客户端
                    MinioClient minioClient = new MinioClient()
                                       .WithEndpoint(&quot;127.0.0.1&quot;, 9000)
                                       .WithCredentials(&quot;minioadmin&quot;, &quot;minioadmin&quot;)
                                       .Build();
                    //minioClient.WithSSL();
                    // 2.2 创建文件桶(数据库)
                    if (!minioClient.BucketExistsAsync(new BucketExistsArgs().WithBucket(&quot;productpictures&quot;)).Result)
                    {
                        minioClient.MakeBucketAsync(new MakeBucketArgs().WithBucket(&quot;productpictures&quot;)).Wait();
                    }


                    // 2.3 上传文件
                    minioClient.PutObjectAsync(new PutObjectArgs().WithBucket(&quot;productpictures&quot;).WithObject(formFile.FileName).WithStreamData(formFile.OpenReadStream()).WithObjectSize(formFile.Length)).ConfigureAwait(false);

                    _logger.LogInformation($&quot;文件:{formFile.FileName}上传到MinIO成功&quot;);
                }
            }

            return new JsonResult(&quot;上传成功&quot;);
        }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="minio单主机-多硬盘原理" tabindex="-1"><a class="header-anchor" href="#minio单主机-多硬盘原理" aria-hidden="true">#</a> Minio单主机/多硬盘原理</h5><h6 id="多副本" tabindex="-1"><a class="header-anchor" href="#多副本" aria-hidden="true">#</a> 多副本</h6><p>多副本技术就比较简单直接了，既然要冗余关键数据，就干脆多存几份好了，单个数据的盘坏了不要紧，还有备份可以使用。<br> 这种技术现在的软件系统中随处可见，比如mysql的同步/异步备份，分布式数据库中的三副本存储+一致性协议。<br> 这种方法的优缺点也比较明显，优点是写入效率高，无需多余的计算，直接存储多份即可，数据恢复也比较快，从副本复制即可。缺点就是存储效率低，以前需要的磁盘容量直接x2或者x3了，成本很高。</p><p><img src="/images/minio/minio001_0045image.png" alt="Alt text"></p><h6 id="纠删码" tabindex="-1"><a class="header-anchor" href="#纠删码" aria-hidden="true">#</a> 纠删码</h6><p>数据——&gt;加密而已</p><p>纠删码——&gt; 纠正（恢复）删除的代码。允许你删对象 。</p><p>保证数据高可用。</p><p>常规思路：存储两份。 如：xxx.png xxx.png</p><p>冗余：</p><p>纠删码：xxx.png ——&gt; 图片分片，分成两份</p><p>xxx.png ——&gt; 图片分片，分成两份<br> 4份数据。都是相同的。<br> 开始编码：<br> 1、xxx.png ——&gt;图片分片，编码<br> 2、xxx.png ——&gt;图片分片，编码</p><p>删除data1 data 2——&gt;恢复</p><p>ErasureCode(纠删码)以更低成本的方式提供近似三个副本的可靠性，吸引众多分布式存储、云存储的厂商和用户。可以说纠删码是云存储，尤其是现在广泛使用的对象存储的核心。 纠删码（ErasoureCode ES）是一种编码容错技术，最早是在通信行业解决部分的数据在传输中的损耗问题。其基本原理就是把传输的信号分段，加入一些数据的校验再让各段间发生相互关联，即使在传输 过程中丢失部分信号，接收端仍然通过算法将完整的信息计算出来。在数据存储中，纠删码将数据分割成片段，把冗余数据块扩展和编码，并将其存储在不同的位置，例如磁盘、存储节点或其他物理位置。</p><div class="custom-container tip"><p class="custom-container-title">思考</p><p>现在思考一个问题：现在有两份数据（有可能其实一份数据被分成了两部分），允许你做2的冗余（就是实际存储的使用是要存储数据的2倍（（2+2）/ 2 = 2）），要求达到这样的效果：任意两份数据的丢失，数据都能恢复。</p></div><p>如何来解决这个问题呢。一个简单的想法是，给两个数据都做一下备份。</p><p><img src="/images/minio/minio001_0046image.png" alt="Alt text"></p><p>将数据存储为 X1,X2,X3,X4分别等于A1，A2,A1,A2; 这样假设数据 X1 X2丢失了，数据就可以从X3,X4中恢复出来。但是这样存储存在问题： 如果丢失的数据刚好是X1,X3呢，那么原先的数据A1就彻底丢失找不回来了。但是你可以使用下面的一种存储方式X1,X2还是不变，X3=A1+A2,X4=A1+2*A2 这样任意两份数据丢失，都可以恢复A1和A2了。</p><p>Minio使用纠删码<br> Minio中： 至少有4个数据目录<br> 1、传统冗余：至少2个数据目录等分片。4份数据。<br> 2、4个目录中。</p><p>总结：Minio至少都有4个数据目录。<br> 规则：必须有一半数据，数据不丢失，才能恢复。<br> N/2例如：4个目录中，必须保证2个数据不丢失。才能正常使用。 1、恢复任何磁盘损坏的数据<br> 包括直接删除、磁盘性道丢失、磁盘中毒。</p><h6 id="单主机-多硬盘模式-情况1" tabindex="-1"><a class="header-anchor" href="#单主机-多硬盘模式-情况1" aria-hidden="true">#</a> 单主机/多硬盘模式-情况1</h6><p>分析：目前部署的单主机使用的单主机多硬盘模式，只有一个客户，如果需要给多客户使用多租户方式部署不同的单主机多硬盘模式。如何实现呢？</p><p>方案： 多租户单主机/多硬盘</p><p>多租户单主机/多硬盘落地<br> 步骤<br> 1、租户1单主机，多硬盘启动<br> 1.1、进入到Minio目录</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>1.2、然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9001 --console-address <span class="token string">&quot;:9002&quot;</span> ./tenant1/data1 ./tenant1/data2 ./tenant1/data3 ./tenant1/data4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0047image.png" alt="Alt text"></p><p>1.3 进入到tenant1目录中</p><p><img src="/images/minio/minio001_0048image.png" alt="Alt text"></p><p>2、租户2单主机，多硬盘启动<br> 2.1、进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>2.2、然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9003 --console-address <span class="token string">&quot;:9004&quot;</span> ./tenant2/data1 ./tenant2/data2 ./tenant2/data3 ./tenant2/data4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0049image.png" alt="Alt text"><br> 2.3、进入到tenant2目录中</p><p><img src="/images/minio/minio001_0050image.png" alt="Alt text"></p><p>3、租户3单主机，多硬盘启动</p><p>3.1、进入到Minio目录中</p><p><img src="/images/minio/minio001_0039image.png" alt="Alt text"></p><p>3.2、然后输入以下命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>minio server <span class="token parameter variable">--address</span> :9005 --console-address <span class="token string">&quot;:9006&quot;</span> ./tenant3/data1 ./tenant3/data2 ./tenant3/data3 ./tenant3/data4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0051image.png" alt="Alt text"></p><p>3.3、进入到tenant3目录中</p><p><img src="/images/minio/minio001_0052image.png" alt="Alt text"></p><h6 id="单主机-多硬盘模式-情况2" tabindex="-1"><a class="header-anchor" href="#单主机-多硬盘模式-情况2" aria-hidden="true">#</a> 单主机/多硬盘模式-情况2</h6><p>分析：目前Minio部署在windows上，直接根据Minio文件来做Minio硬盘的区分，能够直接运行。但是，当我们需要在Linux系统上运行Minio,如何在Linux上运行？<br> 方案：linux虚拟机</p><h6 id="linux系统minio单主机-多硬盘" tabindex="-1"><a class="header-anchor" href="#linux系统minio单主机-多硬盘" aria-hidden="true">#</a> linux系统Minio单主机/多硬盘</h6><p>条件<br> 1、linux虚拟机<br> 2、磁盘<br> 3、Minio<br> 步骤<br> 1、 Linux 虚拟机准备<br> 1.1 安装Linux虚拟机<br> 在虚拟机管理 <code>Oracle VM VirtualBox</code> 安装 <code>centos9.0 </code> 选择着【设置】——&gt;【存储】——&gt;【控制器】 添加，如果没有虚拟硬盘，先创建，然后再选择中</p><p><img src="/images/minio/minio001_0053image.png" alt="Alt text"></p><p>1.2 连接Linux虚拟机<br> 使用xshell连接linux虚拟机</p><p><img src="/images/minio/minio001_0054image.png" alt="Alt text"></p><p>2、磁盘准备</p><p>2.1 磁盘安装</p><p><img src="/images/minio/minio001_0055image.png" alt="Alt text"></p><p>2.2、磁盘加载</p><p>将虚拟添加磁盘加载到linux系统中，输入命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># for host in $(ls /sys/class/scsi_host) ; do echo &quot;- - -&quot; &gt; /sys/class/scsi_host/$host/scan; done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.3 磁盘状态<br> 查看磁盘状态，输入：<code>lsblk</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda           <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1        <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
└─sda2        <span class="token number">8</span>:2    <span class="token number">0</span>   19G  <span class="token number">0</span> part 
  ├─cs-root <span class="token number">253</span>:0    <span class="token number">0</span>   17G  <span class="token number">0</span> lvm  /
  └─cs-swap <span class="token number">253</span>:1    <span class="token number">0</span>    2G  <span class="token number">0</span> lvm  <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb           <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sdc           <span class="token number">8</span>:32   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sdd           <span class="token number">8</span>:48   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sde           <span class="token number">8</span>:64   <span class="token number">0</span>    1G  <span class="token number">0</span> disk 
sr0          <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># </span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.4、磁盘格式分区操作 2.4.1、磁盘格式化sdb分区<br> 输入命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfs.ext4 /dev/sdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.ext4  /dev/sdb </span>
<span class="token function">mke2fs</span> <span class="token number">1.46</span>.5 <span class="token punctuation">(</span><span class="token number">30</span>-Dec-2021<span class="token punctuation">)</span>
创建含有 <span class="token number">262144</span> 个块（每块 4k）和 <span class="token number">65536</span> 个inode的文件系统
文件系统UUID：c24a422b-b4f9-4a2c-a60f-8e15ab44f3bf
超级块的备份存储于下列块： 
	<span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>

正在分配组表： 完成                            
正在写入inode表： 完成                            
创建日志（8192 个块）完成
写入超级块和文件系统账户统计信息： 已完成

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.4.2、磁盘格式化sdc分区<br> 输入命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfs.ext4 /dev/sdc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.ext4  /dev/sdc </span>
<span class="token function">mke2fs</span> <span class="token number">1.46</span>.5 <span class="token punctuation">(</span><span class="token number">30</span>-Dec-2021<span class="token punctuation">)</span>
创建含有 <span class="token number">262144</span> 个块（每块 4k）和 <span class="token number">65536</span> 个inode的文件系统
文件系统UUID：9f5d7649-f9a7-43a5-a8a5-7d99a6bab951
超级块的备份存储于下列块： 
	<span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>

正在分配组表： 完成                            
正在写入inode表： 完成                            
创建日志（8192 个块）完成
写入超级块和文件系统账户统计信息： 已完成

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.4.3、磁盘格式化sdd分区<br> 输入命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfs.ext4 /dev/sdd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.ext4  /dev/sdd </span>
<span class="token function">mke2fs</span> <span class="token number">1.46</span>.5 <span class="token punctuation">(</span><span class="token number">30</span>-Dec-2021<span class="token punctuation">)</span>
创建含有 <span class="token number">262144</span> 个块（每块 4k）和 <span class="token number">65536</span> 个inode的文件系统
文件系统UUID：eeec8a03-5d8b-41a1-b975-2c297271402c
超级块的备份存储于下列块： 
	<span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>

正在分配组表： 完成                            
正在写入inode表： 完成                            
创建日志（8192 个块）完成
写入超级块和文件系统账户统计信息： 已完成
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.4.4、磁盘格式化sde分区<br> 输入命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mkfs.ext4 /dev/sde
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># mkfs.ext4  /dev/sde </span>
<span class="token function">mke2fs</span> <span class="token number">1.46</span>.5 <span class="token punctuation">(</span><span class="token number">30</span>-Dec-2021<span class="token punctuation">)</span>
创建含有 <span class="token number">262144</span> 个块（每块 4k）和 <span class="token number">65536</span> 个inode的文件系统
文件系统UUID：7bab6404-172c-4f81-b4e6-7e757bef0071
超级块的备份存储于下列块： 
	<span class="token number">32768</span>, <span class="token number">98304</span>, <span class="token number">163840</span>, <span class="token number">229376</span>

正在分配组表： 完成                            
正在写入inode表： 完成                            
创建日志（8192 个块）完成
写入超级块和文件系统账户统计信息： 已完成

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3、Minio准备<br> 3.1 Minio 文件夹 输入命令： <code>mkdir minio</code></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># ll</span>
drwxr-xr-x.  <span class="token number">2</span> root root       <span class="token number">6</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">14</span>:01 minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>3.2 进入minio文件夹，下载Minio<br> [下载](wget https://dl.min.io/server/minio/release/linux-amd64/minio)：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://dl.min.io/server/minio/release/linux-amd64/minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.3 ​ 执行命令：<code>chmod +x minio</code> 设置权限</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chmod</span> +x minio  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.4 Minio磁盘挂载 3.4.1、在minio文件中，创建四个数据目录</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># mkdir  data1 data2 data3 data4</span>
<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">96640</span>
drwxr-xr-x. <span class="token number">2</span> root root        <span class="token number">6</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">15</span>:29 data1
drwxr-xr-x. <span class="token number">2</span> root root        <span class="token number">6</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">15</span>:29 data2
drwxr-xr-x. <span class="token number">2</span> root root        <span class="token number">6</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">15</span>:29 data3
drwxr-xr-x. <span class="token number">2</span> root root        <span class="token number">6</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">15</span>:29 data4
-rwxr-xr-x. <span class="token number">1</span> root root <span class="token number">98959360</span>  <span class="token number">9</span>月 <span class="token number">12</span> <span class="token number">15</span>:24 minio
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.4.2、将4个数据</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb /root/minio/data1</span>
<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdc /root/minio/data2</span>
<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdd /root/minio/data3</span>
<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># mount /dev/sde /root/minio/data4</span>

<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># lsblk </span>
NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS
sda           <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1        <span class="token number">8</span>:1    <span class="token number">0</span>    1G  <span class="token number">0</span> part /boot
└─sda2        <span class="token number">8</span>:2    <span class="token number">0</span>   19G  <span class="token number">0</span> part 
  ├─cs-root <span class="token number">253</span>:0    <span class="token number">0</span>   17G  <span class="token number">0</span> lvm  /
  └─cs-swap <span class="token number">253</span>:1    <span class="token number">0</span>    2G  <span class="token number">0</span> lvm  <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
sdb           <span class="token number">8</span>:16   <span class="token number">0</span>    1G  <span class="token number">0</span> disk /root/minio/data1
sdc           <span class="token number">8</span>:32   <span class="token number">0</span>    1G  <span class="token number">0</span> disk /root/minio/data2
sdd           <span class="token number">8</span>:48   <span class="token number">0</span>    1G  <span class="token number">0</span> disk /root/minio/data3
sde           <span class="token number">8</span>:64   <span class="token number">0</span>    1G  <span class="token number">0</span> disk /root/minio/data4
sr0          <span class="token number">11</span>:0    <span class="token number">1</span> 1024M  <span class="token number">0</span> rom  

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.4 Minio运行<br> 3.4.1 minio默认用户名和密码 ，输入命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># export MINIO_ROOT_USER=adminminio</span>
<span class="token punctuation">[</span>root@localhost minio<span class="token punctuation">]</span><span class="token comment"># export MINIO_ROOT_PASSWORD=adminminio</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>3.4.2 minio运行命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./minio server /root/minio/data1 /root/minio/data2 /root/minio/data3 /root/minio/data4 --console-address <span class="token string">&quot;:9001&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="/images/minio/minio001_0056image.png" alt="Alt text"></p><h4 id="多主机-单硬盘模式" tabindex="-1"><a class="header-anchor" href="#多主机-单硬盘模式" aria-hidden="true">#</a> 多主机/单硬盘模式</h4><p>分析：如果一个主机宕机了，就会导致所有的图片数据全部丢失，客户端无法进行访问，如何保证当主机宕机了，商品图片数据依然可以访问呢？<br> 方案：多主机/单硬盘</p><h5 id="如何落地多主机单硬盘" tabindex="-1"><a class="header-anchor" href="#如何落地多主机单硬盘" aria-hidden="true">#</a> 如何落地多主机单硬盘</h5><p>条件<br> 1、4台linux虚拟主机<br> 2、Minio<br> 步骤<br> 1、 linux虚拟机准备 1.1、linux虚拟机 192.168.3.60 、192.168.3.61 、192.168.3.62、192.168.3.63 1.2、虚拟机磁盘准备，及添加。 1.3、xshell 虚拟机连接<br> 2、Minio准备 2.1、linux虚拟机主机192.168.3.66 2.1.1、Minio准备</p><p><img src="/images/minio/minio001_0057image.png" alt="Alt text"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./minio server <span class="token parameter variable">--address</span> :9000 http://192.168.3.60/root/minio/data1/zz http://192.168.3.61/root/minio/data1/zz http://192.168.3.62/root/minio/data1/zz http://192.168.3.63/root/minio/data1/zz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="多主机-多硬盘模式" tabindex="-1"><a class="header-anchor" href="#多主机-多硬盘模式" aria-hidden="true">#</a> 多主机/多硬盘模式</h4></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-c1c3c937.js" defer></script>
  </body>
</html>
