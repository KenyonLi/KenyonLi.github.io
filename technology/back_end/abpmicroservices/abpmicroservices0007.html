<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/logo_v.png"><meta name="keywords" content="kenyonli"><title>微服务链路监控-skywalking | Kenyon Li 随笔 </title><meta name="description" content="欢迎您，来到 Kenyon Li 世界！">
    <link rel="preload" href="/assets/style-d5da7002.css" as="style"><link rel="stylesheet" href="/assets/style-d5da7002.css">
    <link rel="modulepreload" href="/assets/app-c1c3c937.js"><link rel="modulepreload" href="/assets/abpmicroservices0007.html-69b1b7dd.js"><link rel="modulepreload" href="/assets/abpmicroservices0007.html-943fd56b.js"><link rel="prefetch" href="/assets/index.html-0c5df828.js" as="script"><link rel="prefetch" href="/assets/index.html-122d66cc.js" as="script"><link rel="prefetch" href="/assets/index.html-1565d8e0.js" as="script"><link rel="prefetch" href="/assets/index.html-6eb9f9a2.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-f8b49934.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-e84486e3.js" as="script"><link rel="prefetch" href="/assets/read01.html-3499d74d.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-ebc74c11.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-c0b97768.js" as="script"><link rel="prefetch" href="/assets/design001.html-683e1b25.js" as="script"><link rel="prefetch" href="/assets/design002.html-d00aa6ad.js" as="script"><link rel="prefetch" href="/assets/design003.html-ac2e30f0.js" as="script"><link rel="prefetch" href="/assets/ea001.html-e8ab0da6.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-fbb9c4b1.js" as="script"><link rel="prefetch" href="/assets/abp001.html-4d078b9b.js" as="script"><link rel="prefetch" href="/assets/abp002.html-361c1354.js" as="script"><link rel="prefetch" href="/assets/abp003.html-370e112b.js" as="script"><link rel="prefetch" href="/assets/abp004.html-2a550719.js" as="script"><link rel="prefetch" href="/assets/abp005.html-b7b8040d.js" as="script"><link rel="prefetch" href="/assets/abp006.html-afe3148a.js" as="script"><link rel="prefetch" href="/assets/abp007.html-c73814a2.js" as="script"><link rel="prefetch" href="/assets/abp008.html-3c920bb6.js" as="script"><link rel="prefetch" href="/assets/abp009.html-5aa18139.js" as="script"><link rel="prefetch" href="/assets/abp010.html-2f60cd08.js" as="script"><link rel="prefetch" href="/assets/abp011.html-144ed9f8.js" as="script"><link rel="prefetch" href="/assets/abp012.html-b0b755c1.js" as="script"><link rel="prefetch" href="/assets/abp013.html-07f9ef95.js" as="script"><link rel="prefetch" href="/assets/abp014.html-d9b342ae.js" as="script"><link rel="prefetch" href="/assets/abp015.html-2f03e87a.js" as="script"><link rel="prefetch" href="/assets/abp016.html-94352902.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-af71ea93.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-22ac1590.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-fe194269.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-c78a6bc2.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-658ff302.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-229b0517.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-c0fd71da.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-1a1fd836.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-8139592f.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-da7de1f7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-cf03f10f.js" as="script"><link rel="prefetch" href="/assets/index.html-e99c2026.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-08c0927b.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-9daf028e.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-6c7c2a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-6379db3c.js" as="script"><link rel="prefetch" href="/assets/socket001.html-7e4e5d27.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-da1479cf.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-bb49ddf5.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d20844e4.js" as="script"><link rel="prefetch" href="/assets/minio001.html-98035ebe.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-6d96f442.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-d7e85cf9.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-4e11cba4.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-3469aa09.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-61d6ef57.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-6628017a.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-a5dde2f7.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-054bc685.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-f5259f7c.js" as="script"><link rel="prefetch" href="/assets/index.html-89e48f33.js" as="script"><link rel="prefetch" href="/assets/index.html-33fe1ab6.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-fc05ec9d.js" as="script"><link rel="prefetch" href="/assets/redis001.html-235bdc89.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-a6b66b2f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-068822cb.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-506d1653.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-790a1718.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-223ae1b5.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-4b2d3f6a.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-50ae10d4.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-7601e865.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-43a9f4a0.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-84b83419.js" as="script"><link rel="prefetch" href="/assets/index.html-106989a1.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1eda9371.js" as="script"><link rel="prefetch" href="/assets/dns001.html-d38b2d4f.js" as="script"><link rel="prefetch" href="/assets/docker01.html-c099819b.js" as="script"><link rel="prefetch" href="/assets/docker02.html-2fa931a0.js" as="script"><link rel="prefetch" href="/assets/docker03.html-feb12d1f.js" as="script"><link rel="prefetch" href="/assets/docker04.html-8213c817.js" as="script"><link rel="prefetch" href="/assets/frp001.html-86b24d68.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-d0fcb613.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-e73b097e.js" as="script"><link rel="prefetch" href="/assets/index.html-7a43a8bb.js" as="script"><link rel="prefetch" href="/assets/linux001.html-a464543d.js" as="script"><link rel="prefetch" href="/assets/linux002.html-58cf1ca5.js" as="script"><link rel="prefetch" href="/assets/linux003.html-51f3f2b1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-23a1a9e7.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-d411bec4.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-9041f95f.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-10bdbaeb.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-c838e0a5.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-e8ab8a03.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-c594a14a.js" as="script"><link rel="prefetch" href="/assets/index.html-f213c134.js" as="script"><link rel="prefetch" href="/assets/index.html-d290a688.js" as="script"><link rel="prefetch" href="/assets/index.html-32bd2362.js" as="script"><link rel="prefetch" href="/assets/index.html-aae62809.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-337bca08.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-8076a85d.js" as="script"><link rel="prefetch" href="/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/assets/index.html-1db2663f.js" as="script"><link rel="prefetch" href="/assets/index.html-e7f831f3.js" as="script"><link rel="prefetch" href="/assets/index.html-8b52f0d9.js" as="script"><link rel="prefetch" href="/assets/index.html-4648e07d.js" as="script"><link rel="prefetch" href="/assets/lan_dao.html-8a98ac78.js" as="script"><link rel="prefetch" href="/assets/mo_fei_din_lu.html-f5dc1ae7.js" as="script"><link rel="prefetch" href="/assets/read01.html-1687e123.js" as="script"><link rel="prefetch" href="/assets/yan_pi_juen.html-64856c47.js" as="script"><link rel="prefetch" href="/assets/object_oriented_analysis.html-1470ec02.js" as="script"><link rel="prefetch" href="/assets/design001.html-2dca36d3.js" as="script"><link rel="prefetch" href="/assets/design002.html-d7f05fa3.js" as="script"><link rel="prefetch" href="/assets/design003.html-d38fa6cb.js" as="script"><link rel="prefetch" href="/assets/ea001.html-a0d6ab52.js" as="script"><link rel="prefetch" href="/assets/ai0001.html-570f8bf2.js" as="script"><link rel="prefetch" href="/assets/abp001.html-e8e8c350.js" as="script"><link rel="prefetch" href="/assets/abp002.html-8b64116a.js" as="script"><link rel="prefetch" href="/assets/abp003.html-97dcc164.js" as="script"><link rel="prefetch" href="/assets/abp004.html-61336e39.js" as="script"><link rel="prefetch" href="/assets/abp005.html-c353f637.js" as="script"><link rel="prefetch" href="/assets/abp006.html-1440855d.js" as="script"><link rel="prefetch" href="/assets/abp007.html-ab8fed2b.js" as="script"><link rel="prefetch" href="/assets/abp008.html-6d348981.js" as="script"><link rel="prefetch" href="/assets/abp009.html-49dfe559.js" as="script"><link rel="prefetch" href="/assets/abp010.html-9c827b9c.js" as="script"><link rel="prefetch" href="/assets/abp011.html-3fb5d44f.js" as="script"><link rel="prefetch" href="/assets/abp012.html-97019b82.js" as="script"><link rel="prefetch" href="/assets/abp013.html-70d09ec2.js" as="script"><link rel="prefetch" href="/assets/abp014.html-df3b5c55.js" as="script"><link rel="prefetch" href="/assets/abp015.html-68bba06f.js" as="script"><link rel="prefetch" href="/assets/abp016.html-301af947.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0001.html-fb866520.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0002.html-aac60f40.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0003.html-72bb2608.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0004.html-0aa290ee.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0005.html-84e05aa9.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0006.html-4fda8e55.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0008.html-cf956168.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0009.html-9ac9702e.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0010.html-87af3317.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0011.html-3da615b7.js" as="script"><link rel="prefetch" href="/assets/abpmicroservices0012.html-e913010d.js" as="script"><link rel="prefetch" href="/assets/index.html-318c85d6.js" as="script"><link rel="prefetch" href="/assets/csharp01.html-2c14b5d2.js" as="script"><link rel="prefetch" href="/assets/dotnet01.html-01750e0b.js" as="script"><link rel="prefetch" href="/assets/dotnet02.html-8c224ecf.js" as="script"><link rel="prefetch" href="/assets/index.html-1916077d.js" as="script"><link rel="prefetch" href="/assets/socket001.html-ba30a642.js" as="script"><link rel="prefetch" href="/assets/elasticsearch001.html-7430deaa.js" as="script"><link rel="prefetch" href="/assets/elasticsearch002.html-c4327d81.js" as="script"><link rel="prefetch" href="/assets/kafka01.html-d0597fdb.js" as="script"><link rel="prefetch" href="/assets/minio001.html-e4e18988.js" as="script"><link rel="prefetch" href="/assets/rabbitmq01.html-94778e50.js" as="script"><link rel="prefetch" href="/assets/rabbitmq02.html-5d7ed981.js" as="script"><link rel="prefetch" href="/assets/schedule_master001.html-db33de28.js" as="script"><link rel="prefetch" href="/assets/sharding_sphere_proxy001.html-e178b1f2.js" as="script"><link rel="prefetch" href="/assets/tuning001.html-81ee10f0.js" as="script"><link rel="prefetch" href="/assets/tuning002.html-3915c089.js" as="script"><link rel="prefetch" href="/assets/tuning003.html-d28fbc5d.js" as="script"><link rel="prefetch" href="/assets/tuning004.html-45498f86.js" as="script"><link rel="prefetch" href="/assets/tuning005.html-53075a0a.js" as="script"><link rel="prefetch" href="/assets/index.html-83472dc7.js" as="script"><link rel="prefetch" href="/assets/index.html-2e07e830.js" as="script"><link rel="prefetch" href="/assets/mongodb001.html-ac44abd4.js" as="script"><link rel="prefetch" href="/assets/redis001.html-81baf7e4.js" as="script"><link rel="prefetch" href="/assets/01mysql_info.html-d7f1867f.js" as="script"><link rel="prefetch" href="/assets/02mysql_info.html-8fc8d63a.js" as="script"><link rel="prefetch" href="/assets/03mysql_innoDB.html-9c9af126.js" as="script"><link rel="prefetch" href="/assets/04mysql_info.html-4b3160ce.js" as="script"><link rel="prefetch" href="/assets/05InnoDB_lock.html-205ddc38.js" as="script"><link rel="prefetch" href="/assets/06mysql_info.html-76bb44c4.js" as="script"><link rel="prefetch" href="/assets/07mysql_info.html-e1071d89.js" as="script"><link rel="prefetch" href="/assets/08mysql_info.html-c24d3548.js" as="script"><link rel="prefetch" href="/assets/09mysql_centos.html-4826990b.js" as="script"><link rel="prefetch" href="/assets/10mysql_write_read.html-f8502a25.js" as="script"><link rel="prefetch" href="/assets/index.html-341ba3fa.js" as="script"><link rel="prefetch" href="/assets/cdn001.html-1e454cb6.js" as="script"><link rel="prefetch" href="/assets/dns001.html-2add38d8.js" as="script"><link rel="prefetch" href="/assets/docker01.html-748273dd.js" as="script"><link rel="prefetch" href="/assets/docker02.html-d1864030.js" as="script"><link rel="prefetch" href="/assets/docker03.html-b13fc535.js" as="script"><link rel="prefetch" href="/assets/docker04.html-4a38e8b5.js" as="script"><link rel="prefetch" href="/assets/frp001.html-92c57efc.js" as="script"><link rel="prefetch" href="/assets/jenkins001.html-c62bbaa1.js" as="script"><link rel="prefetch" href="/assets/centos9_001.html-186fb4f5.js" as="script"><link rel="prefetch" href="/assets/index.html-aed31d7b.js" as="script"><link rel="prefetch" href="/assets/linux001.html-99ea1dd0.js" as="script"><link rel="prefetch" href="/assets/linux002.html-2fbd42df.js" as="script"><link rel="prefetch" href="/assets/linux003.html-3c59ddc1.js" as="script"><link rel="prefetch" href="/assets/linux004.html-b7f6db9b.js" as="script"><link rel="prefetch" href="/assets/vpn01.html-42016abb.js" as="script"><link rel="prefetch" href="/assets/vpn02.html-2ae1a7b1.js" as="script"><link rel="prefetch" href="/assets/vpn03.html-66ddcbf5.js" as="script"><link rel="prefetch" href="/assets/vpn04.html-022cbbf6.js" as="script"><link rel="prefetch" href="/assets/nginx001.html-5dfd0aa1.js" as="script"><link rel="prefetch" href="/assets/nginx002.html-23a7ed3a.js" as="script"><link rel="prefetch" href="/assets/index.html-b3e0fb83.js" as="script"><link rel="prefetch" href="/assets/index.html-1142373e.js" as="script"><link rel="prefetch" href="/assets/index.html-06a86388.js" as="script"><link rel="prefetch" href="/assets/index.html-5ce4eeab.js" as="script"><link rel="prefetch" href="/assets/axure_rp_10_001.html-e60bbb12.js" as="script"><link rel="prefetch" href="/assets/management_0001.html-c805580e.js" as="script"><link rel="prefetch" href="/assets/404.html-e3ed7bad.js" as="script"><link rel="prefetch" href="/assets/index-e32a7948.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-f21db64e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/home_logo_v.png" alt="Kenyon Li 随笔 "><span class="site-name can-hide">Kenyon Li 随笔 </span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="生活"><span class="title">生活</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="生活"><span class="title">生活</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/life/index.md" class="router-link-active" aria-label="生活之旅"><!--[--><!--]--> 生活之旅 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术"><span class="title">技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术"><span class="title">技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/technology/front_end/vue/index.md" class="router-link-active" aria-label="前端设计与技术"><!--[--><!--]--> 前端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/back_end/csharp/csharp01.md" class="router-link-active" aria-label="后端设计与技术"><!--[--><!--]--> 后端设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="router-link-active" aria-label="数据库设计与技术"><!--[--><!--]--> 数据库设计与技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="router-link-active" aria-label="架构设计与分析"><!--[--><!--]--> 架构设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/deployment_operations/docker/docker01.md" class="router-link-active" aria-label="部署与运维技术"><!--[--><!--]--> 部署与运维技术 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/product_design_analysis/axure_rp_10_001.md" class="router-link-active" aria-label="产品设计与分析"><!--[--><!--]--> 产品设计与分析 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/code_management/git/index.md" class="router-link-active" aria-label="代码管理"><!--[--><!--]--> 代码管理 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/artificial_intelligence/ai/ai0001.md" class="router-link-active" aria-label="人工智能"><!--[--><!--]--> 人工智能 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/technology/project_management/project_management_0001.md" class="router-link-active" aria-label="项目管理"><!--[--><!--]--> 项目管理 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="阅读"><span class="title">阅读</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="阅读"><span class="title">阅读</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/read/social_interaction/yan_pi_juen.md" class="router-link-active" aria-label="羊皮卷"><!--[--><!--]--> 羊皮卷 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/lan_dao.md" class="router-link-active" aria-label="狼道"><!--[--><!--]--> 狼道 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/mo_fei_din_lu.md" class="router-link-active" aria-label="墨菲定律"><!--[--><!--]--> 墨菲定律 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/social_interaction/read01.md" class="router-link-active" aria-label="什么反刍思维"><!--[--><!--]--> 什么反刍思维 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/read/technology/object_oriented_analysis.md" class="router-link-active" aria-label="面向对象分析与设计"><!--[--><!--]--> 面向对象分析与设计 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="收藏"><span class="title">收藏</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="收藏"><span class="title">收藏</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/collect/index.md" class="router-link-active" aria-label="浏览器书签"><!--[--><!--]--> 浏览器书签 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">前端设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">javasrcipt <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/javascript/index.md" class="sidebar-item" aria-label="js语法基础"><!--[--><!--]--> js语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">H5语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/h5/index.md" class="sidebar-item" aria-label="H5语法基础"><!--[--><!--]--> H5语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">CSS样式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/css/index.md" class="sidebar-item" aria-label="CSS语法基础"><!--[--><!--]--> CSS语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Vue语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/front_end/vue/index.md" class="sidebar-item" aria-label="vue语法基础"><!--[--><!--]--> vue语法基础 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">后端设计与技术 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">C#语法特性 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/csharp/csharp01.md" class="sidebar-item" aria-label="C#语法特性"><!--[--><!--]--> C#语法特性 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">C/C++ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/cppreference/index.md" class="sidebar-item" aria-label="c/c++"><!--[--><!--]--> c/c++ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">dotnet Core <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/dotnetcore/dotnet01.md" class="sidebar-item" aria-label="dotnet 安装 CLI/SDK"><!--[--><!--]--> dotnet 安装 CLI/SDK <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/index.md" class="sidebar-item" aria-label="EFCore数据库迁移命令"><!--[--><!--]--> EFCore数据库迁移命令 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/socket001.md" class="sidebar-item" aria-label="Socket网络编程"><!--[--><!--]--> Socket网络编程 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/dotnetcore/dotnet02.md" class="sidebar-item" aria-label="Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法"><!--[--><!--]--> Net 后台代码模拟浏览器请求 Get、Post、Put的扩展方法 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">ABP vNnext <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abp/abp001.md" class="sidebar-item" aria-label="ABP CLI"><!--[--><!--]--> ABP CLI <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp002.md" class="sidebar-item" aria-label="ABP vNnext  核心根基模块化"><!--[--><!--]--> ABP vNnext  核心根基模块化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp003.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(一)-落地实战"><!--[--><!--]--> ABP核心项目-电商项目(一)-落地实战 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp004.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(二)-领域层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(二)-领域层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp005.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(三)-仓储、服务层优化"><!--[--><!--]--> ABP核心项目-电商项目落地实战(三)-仓储、服务层优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp006.md" class="sidebar-item" aria-label="ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理"><!--[--><!--]--> ABP核心项目-电商项目落地实战(四)-应用、web层优化、原理 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp007.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(五)-动态c#API客户端模块"><!--[--><!--]--> ABP核心项目-电商项目(五)-动态c#API客户端模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp008.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(六)-用户组件-用户身份模块"><!--[--><!--]--> ABP核心项目-电商项目(六)-用户组件-用户身份模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp009.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(七)-用户组件-账户模块"><!--[--><!--]--> ABP核心项目-电商项目(七)-用户组件-账户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp010.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(八)-用户组件-权限模块"><!--[--><!--]--> ABP核心项目-电商项目(八)-用户组件-权限模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp011.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(九)-用户组件-多租户模块"><!--[--><!--]--> ABP核心项目-电商项目(九)-用户组件-多租户模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp012.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十)-疑问记录"><!--[--><!--]--> ABP核心项目-电商项目(十)-疑问记录 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp013.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十一)-设置模块"><!--[--><!--]--> ABP核心项目-电商项目(十一)-设置模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp014.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十二)-特征模块"><!--[--><!--]--> ABP核心项目-电商项目(十二)-特征模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp015.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十三)-异常/认证/本地化模块"><!--[--><!--]--> ABP核心项目-电商项目(十三)-异常/认证/本地化模块 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abp/abp016.md" class="sidebar-item" aria-label="ABP核心项目-电商项目(十四)-虚拟文件系统"><!--[--><!--]--> ABP核心项目-电商项目(十四)-虚拟文件系统 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item active collapsible">Apb微服务项目 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0001.md" class="sidebar-item" aria-label="微服务电商项目落地"><!--[--><!--]--> 微服务电商项目落地 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0002.md" class="sidebar-item" aria-label="微服务通信"><!--[--><!--]--> 微服务通信 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0003.md" class="sidebar-item" aria-label="微服务网关-Ocelot"><!--[--><!--]--> 微服务网关-Ocelot <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0004.md" class="sidebar-item" aria-label="微服务注册中心-Consul"><!--[--><!--]--> 微服务注册中心-Consul <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0005.md" class="sidebar-item" aria-label="微服务注配置中心-Nacos"><!--[--><!--]--> 微服务注配置中心-Nacos <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0006.md" class="sidebar-item" aria-label="微服务事件总线-CAP"><!--[--><!--]--> 微服务事件总线-CAP <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0007.md" class="sidebar-item active" aria-label="微服务链路监控-skywalking"><!--[--><!--]--> 微服务链路监控-skywalking <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0008.md" class="sidebar-item" aria-label="微服务日志中心"><!--[--><!--]--> 微服务日志中心 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0009.md" class="sidebar-item" aria-label="微服务分布式事务"><!--[--><!--]--> 微服务分布式事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0010.md" class="sidebar-item" aria-label="微服务分布式权限"><!--[--><!--]--> 微服务分布式权限 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0011.md" class="sidebar-item" aria-label="微服务分布式文件系统、分布式缓存、分布式锁"><!--[--><!--]--> 微服务分布式文件系统、分布式缓存、分布式锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/abpmicroservices/abpmicroservices0012.md" class="sidebar-item" aria-label="微服务大数据库MongoDB、任务调度Hangfire"><!--[--><!--]--> 微服务大数据库MongoDB、任务调度Hangfire <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-RabbitMQ <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/rabbitmq/rabbitmq01.md" class="sidebar-item" aria-label="RabbitMQ简介（一）"><!--[--><!--]--> RabbitMQ简介（一） <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/rabbitmq/rabbitmq02.md" class="sidebar-item" aria-label="RabbitMQ（二）"><!--[--><!--]--> RabbitMQ（二） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式消息中间件-Kafka <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/kafka/kafka01.md" class="sidebar-item" aria-label="Kafka介绍（一）"><!--[--><!--]--> Kafka介绍（一） <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ShardingSphere-Proxy <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/sharding_sphere_proxy/sharding_sphere_proxy001.md" class="sidebar-item" aria-label="分布式中间件-ShardingSphere-Proxy"><!--[--><!--]--> 分布式中间件-ShardingSphere-Proxy <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-ElasticSearch <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/elasticsearch/elasticsearch001.md" class="sidebar-item" aria-label="ElasticSearch"><!--[--><!--]--> ElasticSearch <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/elasticsearch/elasticsearch002.md" class="sidebar-item" aria-label="ElasticSearch-分词器"><!--[--><!--]--> ElasticSearch-分词器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式中间件-Minio <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/minio/minio001.md" class="sidebar-item" aria-label="Minio"><!--[--><!--]--> Minio <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">分布式任务调度中间件-ScheduleMaster <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/schedule_master/schedule_master001.md" class="sidebar-item" aria-label="分布式任务调度中间件-ScheduleMaster"><!--[--><!--]--> 分布式任务调度中间件-ScheduleMaster <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">性能调优 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/back_end/tuning/tuning001.md" class="sidebar-item" aria-label="DNS调优"><!--[--><!--]--> DNS调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning002.md" class="sidebar-item" aria-label="CDN调优"><!--[--><!--]--> CDN调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning003.md" class="sidebar-item" aria-label="Nginx调优"><!--[--><!--]--> Nginx调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning004.md" class="sidebar-item" aria-label="WebAPI调优"><!--[--><!--]--> WebAPI调优 <!--[--><!--]--></a><!----></li><li><a href="/technology/back_end/tuning/tuning005.md" class="sidebar-item" aria-label="EFCore调优"><!--[--><!--]--> EFCore调优 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">数据库设计与技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">MySql数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mysql/index.md" class="sidebar-item" aria-label="Mysql8.0 Ubuntu 20.4 安装"><!--[--><!--]--> Mysql8.0 Ubuntu 20.4 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/09mysql_centos.md" class="sidebar-item" aria-label="Mysql8.0 CentOS Stream 9 安装"><!--[--><!--]--> Mysql8.0 CentOS Stream 9 安装 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/10mysql_write_read.md" class="sidebar-item" aria-label="Mysql 8.0 主从部署-读写分离"><!--[--><!--]--> Mysql 8.0 主从部署-读写分离 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/01mysql_info.md" class="sidebar-item" aria-label="Mysql 架构体系详解"><!--[--><!--]--> Mysql 架构体系详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/02mysql_info.md" class="sidebar-item" aria-label="InnoDB架构详解、事务介绍"><!--[--><!--]--> InnoDB架构详解、事务介绍 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/03mysql_innoDB.md" class="sidebar-item" aria-label="InnoDB事务"><!--[--><!--]--> InnoDB事务 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/04mysql_info.md" class="sidebar-item" aria-label="InnoDB索引"><!--[--><!--]--> InnoDB索引 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/05InnoDB_lock.md" class="sidebar-item" aria-label="Mysql InnoDB锁"><!--[--><!--]--> Mysql InnoDB锁 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/06mysql_info.md" class="sidebar-item" aria-label="Mysql 性能优化"><!--[--><!--]--> Mysql 性能优化 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/07mysql_info.md" class="sidebar-item" aria-label="MySQL分库分表"><!--[--><!--]--> MySQL分库分表 <!--[--><!--]--></a><!----></li><li><a href="/technology/database_design_analysis/mysql/08mysql_info.md" class="sidebar-item" aria-label="MySQL集群篇"><!--[--><!--]--> MySQL集群篇 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">MongoDB数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/mongodb/mongodb001.md" class="sidebar-item" aria-label="分布式中间件-MongoDB"><!--[--><!--]--> 分布式中间件-MongoDB <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Redis数据库 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/database_design_analysis/redis/redis001.md" class="sidebar-item" aria-label="分布式中间件-Redis"><!--[--><!--]--> 分布式中间件-Redis <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">架构设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">设计模式 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/design/design001.md" class="sidebar-item" aria-label="工厂、抽象工厂、策略模式"><!--[--><!--]--> 工厂、抽象工厂、策略模式 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design002.md" class="sidebar-item" aria-label="设计模式-应用场景和优缺点"><!--[--><!--]--> 设计模式-应用场景和优缺点 <!--[--><!--]--></a><!----></li><li><a href="/technology/architecture_design_analysis/design/design003.md" class="sidebar-item" aria-label="存储高可用"><!--[--><!--]--> 存储高可用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">EA工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/architecture_design_analysis/enterprise_architect/ea001.md" class="sidebar-item" aria-label="UML、类图、顺序图 "><!--[--><!--]--> UML、类图、顺序图  <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">部署与运维技术 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">linux系统 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/linux/index.md" class="sidebar-item" aria-label="linux基础"><!--[--><!--]--> linux基础 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/centos9_001.md" class="sidebar-item" aria-label="linux（centos9）root密码忘记了，怎么重置或修改密码"><!--[--><!--]--> linux（centos9）root密码忘记了，怎么重置或修改密码 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn01.md" class="sidebar-item" aria-label="Ubuntu20.4 搭建vpn服务器"><!--[--><!--]--> Ubuntu20.4 搭建vpn服务器 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn02.md" class="sidebar-item" aria-label="Linux实现socks终端代理、全局代理"><!--[--><!--]--> Linux实现socks终端代理、全局代理 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/vpn03.md" class="sidebar-item" aria-label="搭建 vpn 使用 x-ui 部署配置"><!--[--><!--]--> 搭建 vpn 使用 x-ui 部署配置 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux001.md" class="sidebar-item" aria-label="yum及yum-config-manager命令详解"><!--[--><!--]--> yum及yum-config-manager命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux002.md" class="sidebar-item" aria-label="dnf命令详解"><!--[--><!--]--> dnf命令详解 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/linux/linux003.md" class="sidebar-item" aria-label="linux 运行 AppImage 应用"><!--[--><!--]--> linux 运行 AppImage 应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Nginx工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/nginx/nginx001.md" class="sidebar-item" aria-label="分布式中间件-Nginx"><!--[--><!--]--> 分布式中间件-Nginx <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Docker容器 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/docker/docker01.md" class="sidebar-item" aria-label="微服务部署Docker"><!--[--><!--]--> 微服务部署Docker <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker02.md" class="sidebar-item" aria-label="Docker集群"><!--[--><!--]--> Docker集群 <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker03.md" class="sidebar-item" aria-label="微服务部署-k8s(一)"><!--[--><!--]--> 微服务部署-k8s(一) <!--[--><!--]--></a><!----></li><li><a href="/technology/deployment_operations/docker/docker04.md" class="sidebar-item" aria-label="微服务部署-k8s(二)-应用"><!--[--><!--]--> 微服务部署-k8s(二)-应用 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">jenkins工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/jenkins/jenkins001.md" class="sidebar-item" aria-label="Jenkins 安装部署"><!--[--><!--]--> Jenkins 安装部署 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">frp 网络穿透工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/deployment_operations/frp/frp001.md" class="sidebar-item" aria-label="Frp网络穿透工具"><!--[--><!--]--> Frp网络穿透工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">产品设计与分析 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">Axure原型工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/product_design_analysis/axure/axure_rp_10_001.md" class="sidebar-item" aria-label="axure原型设计工具"><!--[--><!--]--> axure原型设计工具 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">代码管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">git工具 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/git/index.md" class="sidebar-item" aria-label="git 常用命令"><!--[--><!--]--> git 常用命令 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item collapsible">Markdown语法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/code_management/markdown/index.md" class="sidebar-item" aria-label="Markdown使用手册"><!--[--><!--]--> Markdown使用手册 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">人工智能 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/artificial_intelligence/ai/ai0001.md" class="sidebar-item" aria-label="什么是人工智能"><!--[--><!--]--> 什么是人工智能 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">项目管理 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><p tabindex="0" class="sidebar-item collapsible">工作职责 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/technology/project_management/project/management_0001.md" class="sidebar-item" aria-label="项目管理工作职责"><!--[--><!--]--> 项目管理工作职责 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录" aria-hidden="true">#</a> 目录</h2><nav class="table-of-contents"><ul><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#目录" class="router-link-active router-link-exact-active">目录</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#微服务链路监控-skywalking" class="router-link-active router-link-exact-active">微服务链路监控-skywalking</a><ul><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#什么是链路" class="router-link-active router-link-exact-active">什么是链路</a></li></ul></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务中为什么要使用链路监控" class="router-link-active router-link-exact-active">电商微服务中为什么要使用链路监控</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务" class="router-link-active router-link-exact-active">电商微服务</a><ul><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务-链路监控" class="router-link-active router-link-exact-active">电商微服务-链路监控</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务系统中落地链路监控" class="router-link-active router-link-exact-active">电商微服务系统中落地链路监控</a></li></ul></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务系统中落地skywalking" class="router-link-active router-link-exact-active">电商微服务系统中落地SkyWalking</a><ul><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务系统准备" class="router-link-active router-link-exact-active">电商微服务系统准备</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#apache-skywalking-apm-bin-es7准备" class="router-link-active router-link-exact-active">apache-skywalking-apm-bin-es7准备</a></li></ul></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#电商微服务系统skywalking集成架构" class="router-link-active router-link-exact-active">电商微服务系统SkyWalking集成架构</a><ul><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#链路监控基本角色" class="router-link-active router-link-exact-active">链路监控基本角色：</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#skywalking-角色作用" class="router-link-active router-link-exact-active">skywalking 角色作用</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#订单查询业务场景落地" class="router-link-active router-link-exact-active">订单查询业务场景落地</a></li><li><a aria-current="page" href="/technology/back_end/abpmicroservices/abpmicroservices0007.html#订单查询业务场景落地-1" class="router-link-active router-link-exact-active">订单查询业务场景落地</a></li></ul></li></ul></nav><h2 id="微服务链路监控-skywalking" tabindex="-1"><a class="header-anchor" href="#微服务链路监控-skywalking" aria-hidden="true">#</a> 微服务链路监控-skywalking</h2><h3 id="什么是链路" tabindex="-1"><a class="header-anchor" href="#什么是链路" aria-hidden="true">#</a> 什么是链路</h3><p>链路：请求执行的路径的集合<br> 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0001image.png" alt="Alt text"></p><p>客户端发起一个请求，这个请求需要执行微服务1，然后执行微服务2，然后执行微服务3<br> 微服务1，微服务2，微服务3组成3条路径，这3个路径集合就是一个链路。</p><h4 id="什么是链路监控" tabindex="-1"><a class="header-anchor" href="#什么是链路监控" aria-hidden="true">#</a> 什么是链路监控</h4><p>链路监控：就是监控一个请求的所有执行路径。<br> 主要是监控执行路径的时间。用来得到每一个执行路径的性能。方便做性能优化。</p><h2 id="电商微服务中为什么要使用链路监控" tabindex="-1"><a class="header-anchor" href="#电商微服务中为什么要使用链路监控" aria-hidden="true">#</a> 电商微服务中为什么要使用链路监控</h2><h2 id="电商微服务" tabindex="-1"><a class="header-anchor" href="#电商微服务" aria-hidden="true">#</a> 电商微服务</h2><p>目前：电商微服务状态如图所示</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0002image.png" alt="Alt text"></p><p>目前完成查询订单，执行路径如下：</p><p>客户端——&gt;API外部网关——&gt;consul——&gt;订单详情聚合服务——&gt;API内部网关——&gt;consul——&gt;订单微服务——&gt;数据库</p><p>完成订单查询，整体上需要7个流程。</p><p>完成订单查询后，会有一个执行时间。<br> 如果执行为3s,我们可能会思考，为什么查询一个订单，需要花费3s时间。是什么原因导致查询订单需要花费3s?这个时候，我们就陷入了性能瓶颈中，为了弄 清楚原因，我们必须知道7个流程中的每一个流程执行时间，我们才能找到原因。<br> 如何知道每一个流程的执行时间呢？<br> 所以：我们就需要使用链路监控</p><h3 id="电商微服务-链路监控" tabindex="-1"><a class="header-anchor" href="#电商微服务-链路监控" aria-hidden="true">#</a> 电商微服务-链路监控</h3><p>电商微服务中，集成链路监控如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0003image.png" alt="Alt text"></p><p>在电商微服务系统中，集成链路监控，主要就是为了在查询订单时候，执行7个流程中，每一个流程执行的时间。</p><h3 id="电商微服务系统中落地链路监控" tabindex="-1"><a class="header-anchor" href="#电商微服务系统中落地链路监控" aria-hidden="true">#</a> 电商微服务系统中落地链路监控</h3><h4 id="链路监控技术选项" tabindex="-1"><a class="header-anchor" href="#链路监控技术选项" aria-hidden="true">#</a> 链路监控技术选项</h4><p>目前一些主流的链路监控工具，如表所示：</p><table><thead><tr><th>维度</th><th>Cat</th><th>Zipkin</th><th>PinPoint</th><th>Skywalking</th></tr></thead><tbody><tr><td>实现方式</td><td>代码埋点（拦截器，注解，过滤器等）</td><td>拦截请求，发送（HTTP，MQ）数据至Zipkin服务</td><td>Java探针，字节码增强</td><td>Java探针，字节码增强</td></tr><tr><td>接入方式</td><td>代码侵入</td><td>基于Linkerd或者Sleuth方式，引入配置即可</td><td>JavaAgent字节码，高并发情况下，代理对吞吐量的影响比skywalking和zipkin都大</td><td>JavaAgent字节码，支持20+的中间件、框架、类库</td></tr><tr><td>agent到collector的协议</td><td>http/tcp</td><td>http,MQ</td><td>thrift</td><td>gRPC</td></tr><tr><td>可扩展性</td><td>水平扩展服务端</td><td>多个zipkin-Server实例进行异步消费mq中的监控信息</td><td>collector+web+agent+存储，使得能够水平扩展以便支持大规模服务器集群。</td><td>OAP（skywalking6.x才有OAP这个概念，skywalking5.x叫collector）+Web+agent+存储+zk，使得能够水平扩展以便支持大规模服务器集群。</td></tr><tr><td>数据存储</td><td>Mysql,Hdfs</td><td>ES，mysql,Cassandra</td><td>Hbase(RowKey精确查找，SCAN范围查找，全表扫描),Mysql</td><td>ES，H2，Mysql，TiDB，Sharding-Sphere</td></tr><tr><td>分析粒度</td><td>代码级，全局调用统计，报警，JVM监控</td><td>接口级，支持traceid查询</td><td>方法级，全局调用统计、报警</td><td>方法级，全局调用统计、traceid查询，报警，JVM监控</td></tr><tr><td>调用链可视化</td><td>有</td><td>有</td><td>有</td><td>有</td></tr><tr><td>报表</td><td>丰富</td><td>少</td><td>中</td><td>中</td></tr><tr><td>调用链应用拓扑</td><td>简单，仅限于服务与服务之间</td><td>简单，仅限于服务与服务之间</td><td>好</td><td>好</td></tr><tr><td>埋点方式</td><td>侵入</td><td>侵入</td><td>无侵入</td><td>无侵入</td></tr><tr><td>Heartbeat支持</td><td>有</td><td>无</td><td>有</td><td>有</td></tr><tr><td>Metric支持</td><td>有</td><td>无</td><td>无</td><td>有</td></tr><tr><td>是否支持webflux</td><td>否</td><td>是</td><td>是</td><td>是</td></tr><tr><td>客户端支持</td><td>Java、C/C++、Node.js、Python</td><td>java</td><td>Java,php</td><td>Java, C#, PHP, Node.js, Go</td></tr><tr><td>中文支持</td><td>好</td><td>无</td><td>无</td><td>好</td></tr><tr><td>社区支持</td><td>好</td><td>好</td><td>一般</td><td>好</td></tr><tr><td>国内案例</td><td>美团、携程、陆金所等等</td><td>京东，阿里定制后不开源</td><td>暂无</td><td>阿里，小米，滴滴，华为、当当等等</td></tr><tr><td>社区活跃度（截止2020-2）</td><td>12.7k</td><td>12.5k</td><td>9.9k</td><td>12.3k</td></tr><tr><td>社区活跃度（截止2019-12</td><td>12.3K</td><td>12.2K</td><td>11.8K</td><td></td></tr><tr><td>社区活跃度（截止2018-5）</td><td>4.9k</td><td>8.4k</td><td>5.9k</td><td>3.3k</td></tr></tbody></table><h2 id="电商微服务系统中落地skywalking" tabindex="-1"><a class="header-anchor" href="#电商微服务系统中落地skywalking" aria-hidden="true">#</a> 电商微服务系统中落地SkyWalking</h2><p>基础前提</p><p>1、电商微服务系统<br> 2、jdk 1.8<br> 3、elasticesearch-7.10.1<br> 4、apache-skywalking-apm-bin-es7</p><h3 id="电商微服务系统准备" tabindex="-1"><a class="header-anchor" href="#电商微服务系统准备" aria-hidden="true">#</a> 电商微服务系统准备</h3><p>电商微服务系统如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0004image.png" alt="Alt text"></p><p>电商微服务目前由聚合层，框架基础设施层，网关层，微服务层组成</p><h4 id="jdk-准备" tabindex="-1"><a class="header-anchor" href="#jdk-准备" aria-hidden="true">#</a> jdk 准备</h4><p>1、jdk1.8下载地址：https://www.oracle.com/cn/java/technologies/javase/javase-jdk8-downloads.html</p><p>​ 2、jdk1.8安装：直接搜索安装</p><h4 id="elasticsearch准备" tabindex="-1"><a class="header-anchor" href="#elasticsearch准备" aria-hidden="true">#</a> elasticsearch准备</h4><p>​ 1、下载地址：https://www.elastic.co/cn/downloads/past-releases/elasticsearch-7-10-0</p><p>​ 2、文档地址：https://www.elastic.co/guide/en/elasticsearch/reference/7.10/index.html</p><p>3、Elasticsearch安装 <a href="/technology/back_end/elasticsearch/elasticsearch001.html" class="">参考分布式中间件-ElasticSearch 安装</a></p><p>4、Elasticsearch启动，如图所示：</p><h3 id="apache-skywalking-apm-bin-es7准备" tabindex="-1"><a class="header-anchor" href="#apache-skywalking-apm-bin-es7准备" aria-hidden="true">#</a> apache-skywalking-apm-bin-es7准备</h3><p>1、下载地址：https://archive.apache.org/dist/skywalking/8.7.0/apache-skywalking-apm-es7-8.7.0.tar.gz ​ 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0005image.png" alt="Alt text"></p><h2 id="电商微服务系统skywalking集成架构" tabindex="-1"><a class="header-anchor" href="#电商微服务系统skywalking集成架构" aria-hidden="true">#</a> 电商微服务系统SkyWalking集成架构</h2><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0006image.png" alt="Alt text"></p><h3 id="链路监控基本角色" tabindex="-1"><a class="header-anchor" href="#链路监控基本角色" aria-hidden="true">#</a> 链路监控基本角色：</h3><p>1、 Agent</p><p>​ SkyWalking客户端，具体就是每一个微服务或网关项目</p><p>2、Collecter</p><p>​ SkyWalking收集器，用来收集微服务发送的时间数据</p><p>3、Storage</p><p>​ SkyWalking存储器(就是ElasticSearch)，存储Storage发送的时间数据</p><p>4、APM(UI)</p><p>SkyWalking显示器，显示ElasticSearch中的时间数据</p><h3 id="skywalking-角色作用" tabindex="-1"><a class="header-anchor" href="#skywalking-角色作用" aria-hidden="true">#</a> skywalking 角色作用</h3><ol><li>ES7:存储链路（查询订单）时间</li><li>collector:收集链路（查询订单）时间</li><li>webapp:显示链路（查询订单）时间</li><li>skyAPM.Agent.AspNetCore:发送链路（查询订单）时间<br> 查询订单时间的流程： 1、订单微服务——&gt;SkyAPM.Agent.AspNetCore 2、SkyAPM.Agent.AspNentCore——&gt;Collector 3、collector——&gt;ES7 4、webapp显示查询订单的时间。</li></ol><h3 id="订单查询业务场景落地" tabindex="-1"><a class="header-anchor" href="#订单查询业务场景落地" aria-hidden="true">#</a> 订单查询业务场景落地</h3><p>条件</p><p>1、订单微服务链路监控基本角色：</p><p>1、 Agent</p><p>​ SkyWalking客户端，具体就是每一个微服务或网关项目</p><p>2、Collecter</p><p>​ SkyWalking收集器，用来收集微服务发送的时间数据</p><p>3、Storage</p><p>​ SkyWalking存储器(就是ElasticSearch)，存储Storage发送的时间数据</p><p>4、APM(UI)</p><p>SkyWalking显示器，显示ElasticSearch中的时间数据</p><h3 id="订单查询业务场景落地-1" tabindex="-1"><a class="header-anchor" href="#订单查询业务场景落地-1" aria-hidden="true">#</a> 订单查询业务场景落地</h3><p>条件</p><p>1、订单微服务LKN.Order.HttpApi.Host</p><p>2、SkyAPM.Agent.AspNetCore</p><p>步骤</p><p>1、elasticsearch-7.10.1准备</p><p>​ 1.1、先进入elasticsearch-7.10.1 中bin目录中</p><p>1.2、然后使用cmd通过elasticsearch.bat启动</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0007image.png" alt="Alt text"></p><p>2、apache-skywalking-apm-bin-es7准备</p><p>​ 2.1、先进入apache-skywalking-apm-bin-es7 中config目录中</p><p>​ 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0008image.png" alt="Alt text"></p><p>2.2、然后进入application.yml文件中，修改配置，代码如下</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">core</span><span class="token punctuation">:</span>
 <span class="token key atrule">selector</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE<span class="token punctuation">:</span>default<span class="token punctuation">}</span>
 <span class="token key atrule">default</span><span class="token punctuation">:</span>
   <span class="token comment"># Mixed: Receive agent data, Level 1 aggregate, Level 2 aggregate</span>
   <span class="token comment"># Receiver: Receive agent data, Level 1 aggregate</span>
   <span class="token comment"># Aggregator: Level 2 aggregate</span>
   <span class="token key atrule">role</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_ROLE<span class="token punctuation">:</span>Mixed<span class="token punctuation">}</span> <span class="token comment"># Mixed/Receiver/Aggregator</span>
   <span class="token key atrule">restHost</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_HOST<span class="token punctuation">:</span>0.0.0.0<span class="token punctuation">}</span>
   <span class="token key atrule">restPort</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_PORT<span class="token punctuation">:</span><span class="token number">12800</span><span class="token punctuation">}</span>
   <span class="token key atrule">restContextPath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_CONTEXT_PATH<span class="token punctuation">:</span>/<span class="token punctuation">}</span>
   <span class="token key atrule">restMinThreads</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_JETTY_MIN_THREADS<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span>
   <span class="token key atrule">restMaxThreads</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_JETTY_MAX_THREADS<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">restIdleTimeOut</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_JETTY_IDLE_TIMEOUT<span class="token punctuation">:</span><span class="token number">30000</span><span class="token punctuation">}</span>
   <span class="token key atrule">restAcceptorPriorityDelta</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_JETTY_DELTA<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
   <span class="token key atrule">restAcceptQueueSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_REST_JETTY_QUEUE_SIZE<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
   <span class="token key atrule">httpMaxRequestHeaderSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_HTTP_MAX_REQUEST_HEADER_SIZE<span class="token punctuation">:</span><span class="token number">8192</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCHost</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_HOST<span class="token punctuation">:</span>0.0.0.0<span class="token punctuation">}</span>
   <span class="token key atrule">gRPCPort</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_PORT<span class="token punctuation">:</span><span class="token number">11800</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxConcurrentCallsPerConnection</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_MAX_CONCURRENT_CALL<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxMessageSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_MAX_MESSAGE_SIZE<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCThreadPoolQueueSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_POOL_QUEUE_SIZE<span class="token punctuation">:</span><span class="token number">-1</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCThreadPoolSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_THREAD_POOL_SIZE<span class="token punctuation">:</span><span class="token number">-1</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCSslEnabled</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_SSL_ENABLED<span class="token punctuation">:</span><span class="token boolean important">false</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCSslKeyPath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_SSL_KEY_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCSslCertChainPath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_SSL_CERT_CHAIN_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">gRPCSslTrustedCAPath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_GRPC_SSL_TRUSTED_CA_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">downsampling</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> Hour
     <span class="token punctuation">-</span> Day
   <span class="token comment"># Set a timeout on metrics data. After the timeout has expired, the metrics data will automatically be deleted.</span>
   <span class="token key atrule">enableDataKeeperExecutor</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_ENABLE_DATA_KEEPER_EXECUTOR<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span> <span class="token comment"># Turn it off then automatically metrics data delete will be close.</span>
   <span class="token key atrule">dataKeeperExecutePeriod</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_DATA_KEEPER_EXECUTE_PERIOD<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment"># How often the data keeper executor runs periodically, unit is minute</span>
   <span class="token key atrule">recordDataTTL</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_RECORD_DATA_TTL<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">}</span> <span class="token comment"># Unit is day</span>
   <span class="token key atrule">metricsDataTTL</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_METRICS_DATA_TTL<span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">}</span> <span class="token comment"># Unit is day</span>
   <span class="token comment"># The period of L1 aggregation flush to L2 aggregation. Unit is ms.</span>
   <span class="token key atrule">l1FlushPeriod</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_L1_AGGREGATION_FLUSH_PERIOD<span class="token punctuation">:</span><span class="token number">500</span><span class="token punctuation">}</span>
   <span class="token comment"># The threshold of session time. Unit is ms. Default value is 70s.</span>
   <span class="token key atrule">storageSessionTimeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_STORAGE_SESSION_TIMEOUT<span class="token punctuation">:</span><span class="token number">70000</span><span class="token punctuation">}</span>
   <span class="token comment"># Cache metrics data for 1 minute to reduce database queries, and if the OAP cluster changes within that minute,</span>
   <span class="token comment"># the metrics may not be accurate within that minute.</span>
   <span class="token key atrule">enableDatabaseSession</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_ENABLE_DATABASE_SESSION<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
   <span class="token key atrule">topNReportPeriod</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_TOPN_REPORT_PERIOD<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span> <span class="token comment"># top_n record worker report cycle, unit is minute</span>
   <span class="token comment"># Extra model column are the column defined by in the codes, These columns of model are not required logically in aggregation or further query,</span>
   <span class="token comment"># and it will cause more load for memory, network of OAP and storage.</span>
   <span class="token comment"># But, being activated, user could see the name in the storage entities, which make users easier to use 3rd party tool, such as Kibana-&gt;ES, to query the data by themselves.</span>
   <span class="token key atrule">activeExtraModelColumns</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_ACTIVE_EXTRA_MODEL_COLUMNS<span class="token punctuation">:</span><span class="token boolean important">false</span><span class="token punctuation">}</span>
   <span class="token comment"># The max length of service + instance names should be less than 200</span>
   <span class="token key atrule">serviceNameMaxLength</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SERVICE_NAME_MAX_LENGTH<span class="token punctuation">:</span><span class="token number">70</span><span class="token punctuation">}</span>
   <span class="token key atrule">instanceNameMaxLength</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_INSTANCE_NAME_MAX_LENGTH<span class="token punctuation">:</span><span class="token number">70</span><span class="token punctuation">}</span>
   <span class="token comment"># The max length of service + endpoint names should be less than 240</span>
   <span class="token key atrule">endpointNameMaxLength</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ENDPOINT_NAME_MAX_LENGTH<span class="token punctuation">:</span><span class="token number">150</span><span class="token punctuation">}</span>
   <span class="token comment"># Define the set of span tag keys, which should be searchable through the GraphQL.</span>
   <span class="token key atrule">searchableTracesTags</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SEARCHABLE_TAG_KEYS<span class="token punctuation">:</span>http.method<span class="token punctuation">,</span>status_code<span class="token punctuation">,</span>db.type<span class="token punctuation">,</span>db.instance<span class="token punctuation">,</span>mq.queue<span class="token punctuation">,</span>mq.topic<span class="token punctuation">,</span>mq.broker<span class="token punctuation">}</span>
   <span class="token comment"># Define the set of log tag keys, which should be searchable through the GraphQL.</span>
   <span class="token key atrule">searchableLogsTags</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SEARCHABLE_LOGS_TAG_KEYS<span class="token punctuation">:</span>level<span class="token punctuation">}</span>
   <span class="token comment"># Define the set of alarm tag keys, which should be searchable through the GraphQL.</span>
   <span class="token key atrule">searchableAlarmTags</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SEARCHABLE_ALARM_TAG_KEYS<span class="token punctuation">:</span>level<span class="token punctuation">}</span>
   <span class="token comment"># The number of threads used to prepare metrics data to the storage.</span>
   <span class="token key atrule">prepareThreads</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_PREPARE_THREADS<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span>
   <span class="token comment"># Turn it on then automatically grouping endpoint by the given OpenAPI definitions.</span>
   <span class="token key atrule">enableEndpointNameGroupingByOpenapi</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_CORE_ENABLE_ENDPOINT_NAME_GROUPING_BY_OPAENAPI<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
<span class="token key atrule">storage</span><span class="token punctuation">:</span>
 <span class="token key atrule">selector</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE<span class="token punctuation">:</span>elasticsearch7<span class="token punctuation">}</span>
 <span class="token key atrule">elasticsearch</span><span class="token punctuation">:</span>
   <span class="token key atrule">nameSpace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_NAMESPACE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">clusterNodes</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CLUSTER_NODES<span class="token punctuation">:</span>localhost<span class="token punctuation">:</span><span class="token number">9200</span><span class="token punctuation">}</span>
   <span class="token key atrule">protocol</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_HTTP_PROTOCOL<span class="token punctuation">:</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">connectTimeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CONNECT_TIMEOUT<span class="token punctuation">:</span><span class="token number">500</span><span class="token punctuation">}</span>
   <span class="token key atrule">socketTimeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SOCKET_TIMEOUT<span class="token punctuation">:</span><span class="token number">30000</span><span class="token punctuation">}</span>
   <span class="token key atrule">user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_USER<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_PASSWORD<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePass</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PASS<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">secretsManagementFile</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_SECRETS_MANAGEMENT_FILE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span> <span class="token comment"># Secrets management file in the properties format includes the username, password, which are managed by 3rd party tool.</span>
   <span class="token key atrule">dayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the one minute/hour/day index.</span>
   <span class="token key atrule">indexShardsNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_SHARDS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Shard number of new indexes</span>
   <span class="token key atrule">indexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Replicas number of new indexes</span>
   <span class="token comment"># Super data set has been defined in the codes, such as trace segments.The following 3 config would be improve es performance when storage super size data in es.</span>
   <span class="token key atrule">superDatasetDayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SUPERDATASET_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">-1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the super size dataset record index, the default value is the same as dayStep when the value is less than 0</span>
   <span class="token key atrule">superDatasetIndexShardsFactor</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_SHARDS_FACTOR<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">#  This factor provides more shards for the super data set, shards number = indexShardsNumber * superDatasetIndexShardsFactor. Also, this factor effects Zipkin and Jaeger traces.</span>
   <span class="token key atrule">superDatasetIndexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># Represent the replicas number in the super size dataset record index, the default value is 0.</span>
   <span class="token key atrule">indexTemplateOrder</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_TEMPLATE_ORDER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># the order of index template</span>
   <span class="token key atrule">bulkActions</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_BULK_ACTIONS<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span> <span class="token comment"># Execute the async bulk record data every ${SW_STORAGE_ES_BULK_ACTIONS} requests</span>
   <span class="token comment"># flush the bulk every 10 seconds whatever the number of requests</span>
   <span class="token comment"># INT(flushInterval * 2/3) would be used for index refresh period.</span>
   <span class="token key atrule">flushInterval</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_FLUSH_INTERVAL<span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">}</span>
   <span class="token key atrule">concurrentRequests</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CONCURRENT_REQUESTS<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token comment"># the number of concurrent requests</span>
   <span class="token key atrule">resultWindowMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_WINDOW_SIZE<span class="token punctuation">:</span><span class="token number">10000</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">segmentQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_SEGMENT_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">profileTaskQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_PROFILE_TASK_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">oapAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_analyzer\&quot;:{\&quot;type\&quot;:\&quot;stop\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap analyzer.</span>
   <span class="token key atrule">oapLogAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_LOG_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_log_analyzer\&quot;:{\&quot;type\&quot;:\&quot;standard\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap log analyzer. It could be customized by the ES analyzer configuration to support more language log formats, such as Chinese log, Japanese log and etc.</span>
   <span class="token key atrule">advanced</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_ADVANCED<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
 <span class="token key atrule">elasticsearch7</span><span class="token punctuation">:</span>
   <span class="token key atrule">nameSpace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_NAMESPACE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">clusterNodes</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CLUSTER_NODES<span class="token punctuation">:</span>localhost<span class="token punctuation">:</span><span class="token number">9200</span><span class="token punctuation">}</span>
   <span class="token key atrule">protocol</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_HTTP_PROTOCOL<span class="token punctuation">:</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">connectTimeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CONNECT_TIMEOUT<span class="token punctuation">:</span><span class="token number">500</span><span class="token punctuation">}</span>
   <span class="token key atrule">socketTimeout</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SOCKET_TIMEOUT<span class="token punctuation">:</span><span class="token number">30000</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePass</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PASS<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">dayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the one minute/hour/day index.</span>
   <span class="token key atrule">indexShardsNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_SHARDS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Shard number of new indexes</span>
   <span class="token key atrule">indexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Replicas number of new indexes</span>
   <span class="token comment"># Super data set has been defined in the codes, such as trace segments.The following 3 config would be improve es performance when storage super size data in es.</span>
   <span class="token key atrule">superDatasetDayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SUPERDATASET_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">-1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the super size dataset record index, the default value is the same as dayStep when the value is less than 0</span>
   <span class="token key atrule">superDatasetIndexShardsFactor</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_SHARDS_FACTOR<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">#  This factor provides more shards for the super data set, shards number = indexShardsNumber * superDatasetIndexShardsFactor. Also, this factor effects Zipkin and Jaeger traces.</span>
   <span class="token key atrule">superDatasetIndexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># Represent the replicas number in the super size dataset record index, the default value is 0.</span>
   <span class="token key atrule">indexTemplateOrder</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_TEMPLATE_ORDER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># the order of index template</span>
   <span class="token key atrule">user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_USER<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_PASSWORD<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">secretsManagementFile</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_SECRETS_MANAGEMENT_FILE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span> <span class="token comment"># Secrets management file in the properties format includes the username, password, which are managed by 3rd party tool.</span>
   <span class="token key atrule">bulkActions</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_BULK_ACTIONS<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span> <span class="token comment"># Execute the async bulk record data every ${SW_STORAGE_ES_BULK_ACTIONS} requests</span>
   <span class="token comment"># flush the bulk every 10 seconds whatever the number of requests</span>
   <span class="token comment"># INT(flushInterval * 2/3) would be used for index refresh period.</span>
   <span class="token key atrule">flushInterval</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_FLUSH_INTERVAL<span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">}</span>
   <span class="token key atrule">concurrentRequests</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CONCURRENT_REQUESTS<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token comment"># the number of concurrent requests</span>
   <span class="token key atrule">resultWindowMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_WINDOW_SIZE<span class="token punctuation">:</span><span class="token number">10000</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">segmentQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_SEGMENT_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">profileTaskQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_PROFILE_TASK_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">oapAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_analyzer\&quot;:{\&quot;type\&quot;:\&quot;stop\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap analyzer.</span>
   <span class="token key atrule">oapLogAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_LOG_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_log_analyzer\&quot;:{\&quot;type\&quot;:\&quot;standard\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap log analyzer. It could be customized by the ES analyzer configuration to support more language log formats, such as Chinese log, Japanese log and etc.</span>
   <span class="token key atrule">advanced</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_ADVANCED<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>

 <span class="token key atrule">h2</span><span class="token punctuation">:</span>
   <span class="token key atrule">driver</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_H2_DRIVER<span class="token punctuation">:</span>org.h2.jdbcx.JdbcDataSource<span class="token punctuation">}</span>
   <span class="token key atrule">url</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_H2_URL<span class="token punctuation">:</span>jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>mem<span class="token punctuation">:</span>skywalking<span class="token punctuation">-</span>oap<span class="token punctuation">-</span>db;DB_CLOSE_DELAY=<span class="token punctuation">-</span><span class="token number">1</span><span class="token punctuation">}</span>
   <span class="token key atrule">user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_H2_USER<span class="token punctuation">:</span>sa<span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_H2_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxSizeOfArrayColumn</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MAX_SIZE_OF_ARRAY_COLUMN<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
   <span class="token key atrule">numOfSearchableValuesPerTag</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_NUM_OF_SEARCHABLE_VALUES_PER_TAG<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span>
 <span class="token key atrule">mysql</span><span class="token punctuation">:</span>
   <span class="token key atrule">properties</span><span class="token punctuation">:</span>
     <span class="token key atrule">jdbcUrl</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_JDBC_URL<span class="token punctuation">:</span><span class="token string">&quot;jdbc:mysql://localhost:3306/swtest&quot;</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USER<span class="token punctuation">:</span>root<span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PASSWORD<span class="token punctuation">:</span>root@1234<span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.cachePrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_CACHE_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_SIZE<span class="token punctuation">:</span><span class="token number">250</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSqlLimit</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_LIMIT<span class="token punctuation">:</span><span class="token number">2048</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.useServerPrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USE_SERVER_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MYSQL_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxSizeOfArrayColumn</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MAX_SIZE_OF_ARRAY_COLUMN<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
   <span class="token key atrule">numOfSearchableValuesPerTag</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_NUM_OF_SEARCHABLE_VALUES_PER_TAG<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span>
 <span class="token key atrule">tidb</span><span class="token punctuation">:</span>
   <span class="token key atrule">properties</span><span class="token punctuation">:</span>
     <span class="token key atrule">jdbcUrl</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_JDBC_URL<span class="token punctuation">:</span><span class="token string">&quot;jdbc:mysql://localhost:4000/tidbswtest&quot;</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USER<span class="token punctuation">:</span>root<span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PASSWORD<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.cachePrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_CACHE_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_SIZE<span class="token punctuation">:</span><span class="token number">250</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSqlLimit</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_LIMIT<span class="token punctuation">:</span><span class="token number">2048</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.useServerPrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USE_SERVER_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.useAffectedRows</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USE_AFFECTED_ROWS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MYSQL_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxSizeOfArrayColumn</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MAX_SIZE_OF_ARRAY_COLUMN<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
   <span class="token key atrule">numOfSearchableValuesPerTag</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_NUM_OF_SEARCHABLE_VALUES_PER_TAG<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span>
 <span class="token key atrule">influxdb</span><span class="token punctuation">:</span>
   <span class="token comment"># InfluxDB configuration</span>
   <span class="token key atrule">url</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_URL<span class="token punctuation">:</span>http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8086</span><span class="token punctuation">}</span>
   <span class="token key atrule">user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_USER<span class="token punctuation">:</span>root<span class="token punctuation">}</span>
   <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_PASSWORD<span class="token punctuation">:</span><span class="token punctuation">}</span>
   <span class="token key atrule">database</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_DATABASE<span class="token punctuation">:</span>skywalking<span class="token punctuation">}</span>
   <span class="token key atrule">actions</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_ACTIONS<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">}</span> <span class="token comment"># the number of actions to collect</span>
   <span class="token key atrule">duration</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_DURATION<span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">}</span> <span class="token comment"># the time to wait at most (milliseconds)</span>
   <span class="token key atrule">batchEnabled</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_BATCH_ENABLED<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
   <span class="token key atrule">fetchTaskLogMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_FETCH_TASK_LOG_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span> <span class="token comment"># the max number of fetch task log in a request</span>
   <span class="token key atrule">connectionResponseFormat</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_INFLUXDB_CONNECTION_RESPONSE_FORMAT<span class="token punctuation">:</span>MSGPACK<span class="token punctuation">}</span> <span class="token comment"># the response format of connection to influxDB, cannot be anything but MSGPACK or JSON.</span>
 <span class="token key atrule">postgresql</span><span class="token punctuation">:</span>
   <span class="token key atrule">properties</span><span class="token punctuation">:</span>
     <span class="token key atrule">jdbcUrl</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_JDBC_URL<span class="token punctuation">:</span><span class="token string">&quot;jdbc:postgresql://localhost:5432/skywalking&quot;</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USER<span class="token punctuation">:</span>postgres<span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PASSWORD<span class="token punctuation">:</span><span class="token number">123456</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.cachePrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_CACHE_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_SIZE<span class="token punctuation">:</span><span class="token number">250</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.prepStmtCacheSqlLimit</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_PREP_STMT_CACHE_SQL_LIMIT<span class="token punctuation">:</span><span class="token number">2048</span><span class="token punctuation">}</span>
     <span class="token key atrule">dataSource.useServerPrepStmts</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_DATA_SOURCE_USE_SERVER_PREP_STMTS<span class="token punctuation">:</span><span class="token boolean important">true</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MYSQL_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">maxSizeOfArrayColumn</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_MAX_SIZE_OF_ARRAY_COLUMN<span class="token punctuation">:</span><span class="token number">20</span><span class="token punctuation">}</span>
   <span class="token key atrule">numOfSearchableValuesPerTag</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_NUM_OF_SEARCHABLE_VALUES_PER_TAG<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span>
 <span class="token key atrule">zipkin-elasticsearch7</span><span class="token punctuation">:</span>
   <span class="token key atrule">nameSpace</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_NAMESPACE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">clusterNodes</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CLUSTER_NODES<span class="token punctuation">:</span>localhost<span class="token punctuation">:</span><span class="token number">9200</span><span class="token punctuation">}</span>
   <span class="token key atrule">protocol</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_HTTP_PROTOCOL<span class="token punctuation">:</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePath</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PATH<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">trustStorePass</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SSL_JKS_PASS<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">dayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the one minute/hour/day index.</span>
   <span class="token key atrule">indexShardsNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_SHARDS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Shard number of new indexes</span>
   <span class="token key atrule">indexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span> <span class="token comment"># Replicas number of new indexes</span>
   <span class="token comment"># Super data set has been defined in the codes, such as trace segments.The following 3 config would be improve es performance when storage super size data in es.</span>
   <span class="token key atrule">superDatasetDayStep</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_SUPERDATASET_STORAGE_DAY_STEP<span class="token punctuation">:</span><span class="token number">-1</span><span class="token punctuation">}</span> <span class="token comment"># Represent the number of days in the super size dataset record index, the default value is the same as dayStep when the value is less than 0</span>
   <span class="token key atrule">superDatasetIndexShardsFactor</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_SHARDS_FACTOR<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span> <span class="token comment">#  This factor provides more shards for the super data set, shards number = indexShardsNumber * superDatasetIndexShardsFactor. Also, this factor effects Zipkin and Jaeger traces.</span>
   <span class="token key atrule">superDatasetIndexReplicasNumber</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_SUPER_DATASET_INDEX_REPLICAS_NUMBER<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token comment"># Represent the replicas number in the super size dataset record index, the default value is 0.</span>
   <span class="token key atrule">user</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_USER<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_PASSWORD<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
   <span class="token key atrule">secretsManagementFile</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_ES_SECRETS_MANAGEMENT_FILE<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span> <span class="token comment"># Secrets management file in the properties format includes the username, password, which are managed by 3rd party tool.</span>
   <span class="token key atrule">bulkActions</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_BULK_ACTIONS<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span> <span class="token comment"># Execute the async bulk record data every ${SW_STORAGE_ES_BULK_ACTIONS} requests</span>
   <span class="token comment"># flush the bulk every 10 seconds whatever the number of requests</span>
   <span class="token comment"># INT(flushInterval * 2/3) would be used for index refresh period.</span>
   <span class="token key atrule">flushInterval</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_FLUSH_INTERVAL<span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">}</span>
   <span class="token key atrule">concurrentRequests</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_CONCURRENT_REQUESTS<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span> <span class="token comment"># the number of concurrent requests</span>
   <span class="token key atrule">resultWindowMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_WINDOW_SIZE<span class="token punctuation">:</span><span class="token number">10000</span><span class="token punctuation">}</span>
   <span class="token key atrule">metadataQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_MAX_SIZE<span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">}</span>
   <span class="token key atrule">segmentQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_SEGMENT_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">profileTaskQueryMaxSize</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_QUERY_PROFILE_TASK_SIZE<span class="token punctuation">:</span><span class="token number">200</span><span class="token punctuation">}</span>
   <span class="token key atrule">oapAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_analyzer\&quot;:{\&quot;type\&quot;:\&quot;stop\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap analyzer.</span>
   <span class="token key atrule">oapLogAnalyzer</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_OAP_LOG_ANALYZER<span class="token punctuation">:</span><span class="token string">&quot;{\&quot;analyzer\&quot;:{\&quot;oap_log_analyzer\&quot;:{\&quot;type\&quot;:\&quot;standard\&quot;}}}&quot;</span><span class="token punctuation">}</span> <span class="token comment"># the oap log analyzer. It could be customized by the ES analyzer configuration to support more language log formats, such as Chinese log, Japanese log and etc.</span>
   <span class="token key atrule">advanced</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>SW_STORAGE_ES_ADVANCED<span class="token punctuation">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="核心配置" tabindex="-1"><a class="header-anchor" href="#核心配置" aria-hidden="true">#</a> 核心配置：</h5><p>​ 1、selector: ${SW_STORAGE:elasticsearch7} 选择elasticsearch7存储</p><p>​ 2、gRPCHost: ${SW_CORE_GRPC_HOST:0.0.0.0} 数据收集IP ​ gRPCPort: ${SW_CORE_GRPC_PORT:11800}数据收集端口</p><p>​ 3、restHost: ${SW_CORE_REST_HOST:0.0.0.0}数据显示IP restPort: ${SW_CORE_REST_PORT:12800}数据显示端口</p><p>2.3、然后进入apache-skywalking-apm-bin-es7中bin目录中</p><p>​ 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0009image.png" alt="Alt text"></p><p>2.4、然后使用oapService.bat启动apache-skywalking-apm-bin-es7</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    oapService.bat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>​ 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0010image.png" alt="Alt text"></p><p>2.5、然后进入apache-skywalking-apm-bin-es7中logs目录中</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0011image.png" alt="Alt text"></p><p>2.6、然后再logs目录中查看日志文件</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0012image.png" alt="Alt text"></p><p>2.7、然后进入apache-skywalking-apm-bin-es7中webapp目录中</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0013image.png" alt="Alt text"></p><p>2.8、然后在webapp.yml文件中，修改配置内容</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># Licensed to the Apache Software Foundation (ASF) under one or more</span>
<span class="token comment"># contributor license agreements.  See the NOTICE file distributed with</span>
<span class="token comment"># this work for additional information regarding copyright ownership.</span>
<span class="token comment"># The ASF licenses this file to You under the Apache License, Version 2.0</span>
<span class="token comment"># (the &quot;License&quot;); you may not use this file except in compliance with</span>
<span class="token comment"># the License.  You may obtain a copy of the License at</span>
<span class="token comment">#</span>
<span class="token comment">#     http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="token comment">#</span>
<span class="token comment"># Unless required by applicable law or agreed to in writing, software</span>
<span class="token comment"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="token comment"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="token comment"># See the License for the specific language governing permissions and</span>
<span class="token comment"># limitations under the License.</span>

<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> oap<span class="token punctuation">-</span>route
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//oap<span class="token punctuation">-</span>service
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/graphql/<span class="token important">**</span>
    <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
      <span class="token key atrule">client</span><span class="token punctuation">:</span>
        <span class="token key atrule">simple</span><span class="token punctuation">:</span>
          <span class="token key atrule">instances</span><span class="token punctuation">:</span>
            <span class="token key atrule">oap-service</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span><span class="token number">12800</span>
            <span class="token comment"># - uri: http://&lt;oap-host-1&gt;:&lt;oap-port1&gt;</span>
            <span class="token comment"># - uri: http://&lt;oap-host-2&gt;:&lt;oap-port2&gt;</span>

  <span class="token key atrule">mvc</span><span class="token punctuation">:</span>
    <span class="token key atrule">throw-exception-if-no-handler-found</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">resources</span><span class="token punctuation">:</span>
      <span class="token key atrule">add-mappings</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">base-path</span><span class="token punctuation">:</span> /manage
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="核心配置-1" tabindex="-1"><a class="header-anchor" href="#核心配置-1" aria-hidden="true">#</a> 核心配置：</h5><p>​ 1、server: port: 8081 浏览器访问端口</p><p>​ 2、- uri: http://127.0.0.1:12800 连接collcetor收集器地址</p><p>2.9、然后进入apache-skywalking-apm-bin-es7中bin目录中</p><p>如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0014image.png" alt="Alt text"></p><p>2.10、然后使用webappService.bat启动apache-skywalking-apm-bin-es7</p><p>如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0015image.png" alt="Alt text"></p><p>2.11、然后使用浏览器访问apache-skywalking-apm-bin-es7</p><p>输入地址：http://localhost:8080/</p><p>结果如图所示:</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0016image.png" alt="Alt text"></p><p>3、LKN.Order.HttpApi.Host准备</p><p>​ 3.1、 先在LKN.Order.HttpApi.Host中通过nuget引入SkyAPM.Agent.AspNetCore<br> ​ 如图所示：</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0017image.png" alt="Alt text"></p><p>3.2、 然后在LKN.Order.HttpApi.Host中找到launchSettings.json文件</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0018image.png" alt="Alt text"></p><p>3.3、 然后在launchSettings.json文件中引入环境变量SkyAPM.Agent.AspNetCore 主要是在环境变量中添加： “ASPNETCORE_HOSTINGSTARTUPASSEMBLIES”: “SkyAPM.Agent.AspNetCore”</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;iisSettings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;windowsAuthentication&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;anonymousAuthentication&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iisExpress&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;applicationUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://localhost:44392&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sslPort&quot;</span><span class="token operator">:</span> <span class="token number">44392</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profiles&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;IIS Express&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;commandName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;IISExpress&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;launchBrowser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;environmentVariables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Development&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;LKN.Order.DemoApp&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;commandName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Project&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;launchBrowser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;applicationUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://localhost:44397&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;environmentVariables&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ASPNETCORE_ENVIRONMENT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Development&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ASPNETCORE_HOSTINGSTARTUPASSEMBLIES&quot;</span><span class="token operator">:</span><span class="token string">&quot;SkyAPM.Agent.AspNetCore&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3.4、 然后在LKN.Order.HttpApi.Host中创建skyapm.json文件</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0019image.png" alt="Alt text"></p><p>3.5、 然后在skyapm.json文件中添加</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;SkyWalking&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ServiceName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;OrderServices&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;HeaderVersions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;sw8&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Sampling&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;SamplePer3Secs&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Percentage&quot;</span><span class="token operator">:</span> <span class="token number">-1.0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Logging&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Information&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;FilePath&quot;</span><span class="token operator">:</span> <span class="token string">&quot;logs\\skyapm-{Date}.log&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Transport&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;Interval&quot;</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ProtocolVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;v8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;QueueSize&quot;</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;BatchSize&quot;</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;gRPC&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;Servers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost:11800&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Timeout&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ConnectTimeout&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;ReportTimeout&quot;</span><span class="token operator">:</span> <span class="token number">600000</span><span class="token punctuation">,</span>
        <span class="token property">&quot;Authentication&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>​ ##### 核心配置：</p><p>​ 1、“ServiceName”: “OrderServices”,配置服务名称，用来标识唯一性</p><p>​ 2、“Servers”: “localhost:11800”,配置collector收集地址</p><p>3.6、 然后启动LKN.Order.HttpApi.Host</p><p>3.7、 然后通过浏览器访问LKN.Order.HttpApi.Host</p><p>输入地址：https://localhost:44397/swagger/index.html</p><p>结果如图所示： <img src="/images/abpmicroservices/micro007/abpmicroservices0007_0020image.png" alt="Alt text"></p><p>3.8、 然后查看skywalking UI界面查看仪表盘</p><p><img src="/images/abpmicroservices/micro007/abpmicroservices0007_0021image.png" alt="Alt text"></p><p>参数解析</p><p>​ 1、OrderServices：代表订单微服务名称</p><p>​ 2、仪表盘：为统计订单微服务微服务数据</p><p>3.9、 然后查看skywalking UI界面查看追踪 <img src="/images/abpmicroservices/micro007/abpmicroservices0007_0022image.png" alt="Alt text"></p><p>参数解析</p><p>​ 1、追踪：订单微服务查询订单链路，链路上各路径执行时间</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-c1c3c937.js" defer></script>
  </body>
</html>
