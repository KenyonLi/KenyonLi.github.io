import{_ as o,r,o as c,c as i,a as s,b as a,w as l,d as n,e as p}from"./app-c1c3c937.js";const u="/images/mysql/09mysql_centos001.png",m={},b=s("h2",{id:"目录",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#目录","aria-hidden":"true"},"#"),n(" 目录")],-1),d={class:"table-of-contents"},k=s("h2",{id:"centos-stream-9-安装mysql8",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#centos-stream-9-安装mysql8","aria-hidden":"true"},"#"),n(" CentOS stream 9 安装MySQL8")],-1),v={href:"https://blog.csdn.net/moli_Y/article/details/127895970",target:"_blank",rel:"noopener noreferrer"},y={class:"custom-container tip"},q=p(`<p class="custom-container-title">环境安装</p><blockquote><ul><li>mysql: centos stream 9 安装 mysql 8.0</li><li>1、 yum 安装：</li></ul></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>yum install mysql-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),h={href:"https://cdn.mysql.com//Downloads/MySQL-8.0/mysql-8.0.31-1.el9.x86_64.rpm-bundle.tar",target:"_blank",rel:"noopener noreferrer"},x=s("br",null,null,-1),w=p(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token function">tar</span> <span class="token parameter variable">-xvf</span> mysql-8.0.31-1.el9.x86_64.rpm-bundle.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>安装</code></p><blockquote><ul><li>需要注意按照对应顺序安装</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-common-8.0.31-1.el9.x86_64.rpm
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-libs-8.0.31-1.el9.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-8.0.31-1.el9.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-server-8.0.31-1.el9.x86_64.rpm <span class="token parameter variable">--nodeps</span> <span class="token parameter variable">--force</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ul><li>检查安装</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep mysql</span>
mysql-common-8.0.32-1.el9.x86_64
mysql-8.0.32-1.el9.x86_64
mysql-selinux-1.0.5-1.el9.noarch
mysql-errmsg-8.0.32-1.el9.x86_64
mysql-server-8.0.32-1.el9.x86_64

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),g=p(`<blockquote><h3 id="初始化mysqld" tabindex="-1"><a class="header-anchor" href="#初始化mysqld" aria-hidden="true">#</a> 初始化mysqld</h3></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost<span class="token punctuation">]</span>~<span class="token comment"># mysqld --initialize</span>

<span class="token comment"># 修改表名，忽略大小配置 lower_case_table_names=1 ,初始化密码为空</span>
mysqld <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql <span class="token parameter variable">--lower_case_table_names</span><span class="token operator">=</span><span class="token number">1</span> --initialize-insecure
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><h3 id="启动mysql-数据库" tabindex="-1"><a class="header-anchor" href="#启动mysql-数据库" aria-hidden="true">#</a> 启动mysql 数据库</h3></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost<span class="token punctuation">]</span>~<span class="token comment"># systemctl start mysqld.service</span>
Job <span class="token keyword">for</span> mysqld.service failed because the control process exited with error code.
See <span class="token string">&quot;systemctl status mysqld.service&quot;</span> and <span class="token string">&quot;journalctl -xeu mysqld.service&quot;</span> <span class="token keyword">for</span> details.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意，这里启动时报异常了，查看状态结果</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost<span class="token punctuation">]</span>~<span class="token comment"># systemctl status mysqld.service</span>
× mysqld.service - MySQL <span class="token number">8.0</span> database server
     Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/mysqld.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> preset: disabled<span class="token punctuation">)</span>
     Active: failed <span class="token punctuation">(</span>Result: exit-code<span class="token punctuation">)</span> since Tue <span class="token number">2023</span>-08-15 <span class="token number">10</span>:03:12 CST<span class="token punctuation">;</span> 41s ago
    Process: <span class="token number">34490</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/libexec/mysql-check-socket <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
    Process: <span class="token number">34512</span> <span class="token assign-left variable">ExecStartPre</span><span class="token operator">=</span>/usr/libexec/mysql-prepare-db-dir mysqld.service <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
    Process: <span class="token number">34546</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/libexec/mysqld <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>/FAILURE<span class="token punctuation">)</span>
    Process: <span class="token number">34547</span> <span class="token assign-left variable">ExecStopPost</span><span class="token operator">=</span>/usr/libexec/mysql-wait-stop <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
   Main PID: <span class="token number">34546</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>/FAILURE<span class="token punctuation">)</span>
     Status: <span class="token string">&quot;Server shutdown complete&quot;</span>
      Error: <span class="token number">13</span> <span class="token punctuation">(</span>权限不够<span class="token punctuation">)</span>
        CPU: 430ms
<span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03:11 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting MySQL <span class="token number">8.0</span> database server<span class="token punctuation">..</span>.
<span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03:12 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: mysqld.service: Main process exited, <span class="token assign-left variable">code</span><span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">1</span>/FAILURE
<span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03:12 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: mysqld.service: Failed with result <span class="token string">&#39;exit-code&#39;</span><span class="token builtin class-name">.</span>
<span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03:12 localhost.localdomain systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Failed to start MySQL <span class="token number">8.0</span> database server.

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>这里提示 <code>/var/lib/mysql</code></li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>
<span class="token punctuation">[</span>root@localhost<span class="token punctuation">]</span>~<span class="token comment"># cd /var/lib/mysql</span>
<span class="token punctuation">[</span>root@localhost<span class="token punctuation">]</span>/var/lib/mysql<span class="token comment"># ll</span>
总用量 <span class="token number">78268</span>
-rw-r-----. <span class="token number">1</span> root  root        <span class="token number">56</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  auto.cnf
-rw-r-----. <span class="token number">1</span> mysql mysql        <span class="token number">0</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03  binlog.index
-rw-------. <span class="token number">1</span> root  root      <span class="token number">1709</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca-key.pem
-rw-r--r--. <span class="token number">1</span> root  root      <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca.pem
-rw-r--r--. <span class="token number">1</span> root  root      <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-cert.pem
-rw-------. <span class="token number">1</span> root  root      <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-key.pem
-rw-r-----. <span class="token number">1</span> root  root    <span class="token number">196608</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_0.dblwr&#39;</span>
-rw-r-----. <span class="token number">1</span> root  root   <span class="token number">8585216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_1.dblwr&#39;</span>
-rw-r-----. <span class="token number">1</span> root  root      <span class="token number">5618</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ib_buffer_pool
-rw-r-----. <span class="token number">1</span> root  root  <span class="token number">12582912</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ibdata1
drwxr-x---. <span class="token number">2</span> root  root      <span class="token number">4096</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_redo&#39;</span>
drwxr-x---. <span class="token number">2</span> root  root         <span class="token number">6</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_temp&#39;</span>
drwxr-x---. <span class="token number">2</span> root  root       <span class="token number">143</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql
-rw-r-----. <span class="token number">1</span> root  root  <span class="token number">25165824</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql.ibd
drwxr-x---. <span class="token number">2</span> root  root      <span class="token number">8192</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  performance_schema
-rw-------. <span class="token number">1</span> root  root      <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  private_key.pem
-rw-r--r--. <span class="token number">1</span> root  root       <span class="token number">452</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  public_key.pem
-rw-r--r--. <span class="token number">1</span> root  root      <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-cert.pem
-rw-------. <span class="token number">1</span> root  root      <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-key.pem
drwxr-x---. <span class="token number">2</span> root  root        <span class="token number">28</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  sys
-rw-r-----. <span class="token number">1</span> root  root  <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_001
-rw-r-----. <span class="token number">1</span> root  root  <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_002

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>查看<code>/var/lib/mysql</code>目录，发现有的文件时<code>root</code>权限,有的是<code>mysql</code>权限。</li></ul><h3 id="修改权限" tabindex="-1"><a class="header-anchor" href="#修改权限" aria-hidden="true">#</a> 修改权限</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># chown  -R mysql:mysql /var/lib/mysql</span>
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">78268</span>
-rw-r-----. <span class="token number">1</span> mysql mysql       <span class="token number">56</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  auto.cnf
-rw-r-----. <span class="token number">1</span> mysql mysql        <span class="token number">0</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03  binlog.index
-rw-------. <span class="token number">1</span> mysql mysql     <span class="token number">1709</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca-key.pem
-rw-r--r--. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca.pem
-rw-r--r--. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-cert.pem
-rw-------. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-key.pem
-rw-r-----. <span class="token number">1</span> mysql mysql   <span class="token number">196608</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_0.dblwr&#39;</span>
-rw-r-----. <span class="token number">1</span> mysql mysql  <span class="token number">8585216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_1.dblwr&#39;</span>
-rw-r-----. <span class="token number">1</span> mysql mysql     <span class="token number">5618</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ib_buffer_pool
-rw-r-----. <span class="token number">1</span> mysql mysql <span class="token number">12582912</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ibdata1
drwxr-x---. <span class="token number">2</span> mysql mysql     <span class="token number">4096</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_redo&#39;</span>
drwxr-x---. <span class="token number">2</span> mysql mysql        <span class="token number">6</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_temp&#39;</span>
drwxr-x---. <span class="token number">2</span> mysql mysql      <span class="token number">143</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql
-rw-r-----. <span class="token number">1</span> mysql mysql <span class="token number">25165824</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql.ibd
drwxr-x---. <span class="token number">2</span> mysql mysql     <span class="token number">8192</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  performance_schema
-rw-------. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  private_key.pem
-rw-r--r--. <span class="token number">1</span> mysql mysql      <span class="token number">452</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  public_key.pem
-rw-r--r--. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-cert.pem
-rw-------. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-key.pem
drwxr-x---. <span class="token number">2</span> mysql mysql       <span class="token number">28</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  sys
-rw-r-----. <span class="token number">1</span> mysql mysql <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_001
-rw-r-----. <span class="token number">1</span> mysql mysql <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># chmod -R 777 /var/lib/mysql</span>
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">78268</span>
-rwxrwxrwx. <span class="token number">1</span> mysql mysql       <span class="token number">56</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  auto.cnf
-rwxrwxrwx. <span class="token number">1</span> mysql mysql        <span class="token number">0</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:03  binlog.index
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1709</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca-key.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ca.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-cert.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  client-key.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql   <span class="token number">196608</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_0.dblwr&#39;</span>
-rwxrwxrwx. <span class="token number">1</span> mysql mysql  <span class="token number">8585216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#ib_16384_1.dblwr&#39;</span>
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">5618</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ib_buffer_pool
-rwxrwxrwx. <span class="token number">1</span> mysql mysql <span class="token number">12582912</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  ibdata1
drwxrwxrwx. <span class="token number">2</span> mysql mysql     <span class="token number">4096</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_redo&#39;</span>
drwxrwxrwx. <span class="token number">2</span> mysql mysql        <span class="token number">6</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02 <span class="token string">&#39;#innodb_temp&#39;</span>
drwxrwxrwx. <span class="token number">2</span> mysql mysql      <span class="token number">143</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql
-rwxrwxrwx. <span class="token number">1</span> mysql mysql <span class="token number">25165824</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  mysql.ibd
drwxrwxrwx. <span class="token number">2</span> mysql mysql     <span class="token number">8192</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  performance_schema
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  private_key.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql      <span class="token number">452</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  public_key.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1112</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-cert.pem
-rwxrwxrwx. <span class="token number">1</span> mysql mysql     <span class="token number">1705</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  server-key.pem
drwxrwxrwx. <span class="token number">2</span> mysql mysql       <span class="token number">28</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  sys
-rwxrwxrwx. <span class="token number">1</span> mysql mysql <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_001
-rwxrwxrwx. <span class="token number">1</span> mysql mysql <span class="token number">16777216</span>  <span class="token number">8</span>月 <span class="token number">15</span> <span class="token number">10</span>:02  undo_002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动mysql" tabindex="-1"><a class="header-anchor" href="#启动mysql" aria-hidden="true">#</a> 启动mysql</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># systemctl start  mysqld.service</span>
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep mysql</span>
mysql      <span class="token number">34713</span>       <span class="token number">1</span>  <span class="token number">1</span> <span class="token number">10</span>:12 ?        00:00:01 /usr/libexec/mysqld <span class="token parameter variable">--basedir</span><span class="token operator">=</span>/usr
root       <span class="token number">34780</span>   <span class="token number">34576</span>  <span class="token number">0</span> <span class="token number">10</span>:13 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto mysql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查看临时密码" tabindex="-1"><a class="header-anchor" href="#查看临时密码" aria-hidden="true">#</a> 查看临时密码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># cat /var/log/mysql/mysqld.log  | grep password</span>
<span class="token number">2023</span>-08-15T02:02:21.206804Z <span class="token number">6</span> <span class="token punctuation">[</span>Note<span class="token punctuation">]</span> <span class="token punctuation">[</span>MY-010454<span class="token punctuation">]</span> <span class="token punctuation">[</span>Server<span class="token punctuation">]</span> A temporary password is generated <span class="token keyword">for</span> root@localhost: RkaAA<span class="token operator"><span class="token file-descriptor important">8</span>&lt;</span>qp3Tu
<span class="token punctuation">[</span>root@localhost mysql<span class="token punctuation">]</span><span class="token comment"># mysql -uroot -p&#39;RkaAA8&lt;qp3Tu&#39;</span>
mysql: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
Welcome to the MySQL monitor.  Commands end with <span class="token punctuation">;</span> or <span class="token punctuation">\\</span>g.
Your MySQL connection <span class="token function">id</span> is <span class="token number">8</span>
Server version: <span class="token number">8.0</span>.32

Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>, <span class="token number">2023</span>, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="token string">&#39;help;&#39;</span> or <span class="token string">&#39;\\h&#39;</span> <span class="token keyword">for</span> help. Type <span class="token string">&#39;\\c&#39;</span> to <span class="token function">clear</span> the current input statement.

mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> host,user,plugin,authentication_string from user<span class="token punctuation">;</span>
ERROR <span class="token number">1046</span> <span class="token punctuation">(</span>3D000<span class="token punctuation">)</span>: No database selected
mysql<span class="token operator">&gt;</span> use mysql<span class="token punctuation">;</span>
No connection. Trying to reconnect<span class="token punctuation">..</span>.
Connection id:    <span class="token number">9</span>
Current database: *** NONE ***

ERROR <span class="token number">1820</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: You must reset your password using ALTER <span class="token environment constant">USER</span> statement before executing this statement.
mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改密码" tabindex="-1"><a class="header-anchor" href="#修改密码" aria-hidden="true">#</a> 修改密码</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> ALTER <span class="token environment constant">USER</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> IDENTIFIED WITH mysql_native_password BY <span class="token string">&#39;123433356&#39;</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="远程访问" tabindex="-1"><a class="header-anchor" href="#远程访问" aria-hidden="true">#</a> 远程访问</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mysql<span class="token operator">&gt;</span> create user <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> identified with mysql_native_password by <span class="token string">&#39;123433356&#39;</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.03</span> sec<span class="token punctuation">)</span>
<span class="token comment">#授权所有权限</span>
mysql<span class="token operator">&gt;</span> grant all privileges on *.* to <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;%&#39;</span> with grant option<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
<span class="token comment">#刷新权限</span>
mysql<span class="token operator">&gt;</span> flush privileges<span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关闭防火墙" tabindex="-1"><a class="header-anchor" href="#关闭防火墙" aria-hidden="true">#</a> 关闭防火墙</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> systemctl stop firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="终端远程" tabindex="-1"><a class="header-anchor" href="#终端远程" aria-hidden="true">#</a> 终端远程</h3><p><img src="`+u+'" alt="Alt text"></p><h3 id="卸载" tabindex="-1"><a class="header-anchor" href="#卸载" aria-hidden="true">#</a> 卸载</h3>',25);function _(f,S){const e=r("router-link"),t=r("ExternalLinkIcon");return c(),i("div",null,[b,s("nav",d,[s("ul",null,[s("li",null,[a(e,{to:"#目录"},{default:l(()=>[n("目录")]),_:1})]),s("li",null,[a(e,{to:"#centos-stream-9-安装mysql8"},{default:l(()=>[n("CentOS stream 9 安装MySQL8")]),_:1}),s("ul",null,[s("li",null,[a(e,{to:"#修改权限"},{default:l(()=>[n("修改权限")]),_:1})]),s("li",null,[a(e,{to:"#启动mysql"},{default:l(()=>[n("启动mysql")]),_:1})]),s("li",null,[a(e,{to:"#查看临时密码"},{default:l(()=>[n("查看临时密码")]),_:1})]),s("li",null,[a(e,{to:"#修改密码"},{default:l(()=>[n("修改密码")]),_:1})]),s("li",null,[a(e,{to:"#远程访问"},{default:l(()=>[n("远程访问")]),_:1})]),s("li",null,[a(e,{to:"#关闭防火墙"},{default:l(()=>[n("关闭防火墙")]),_:1})]),s("li",null,[a(e,{to:"#终端远程"},{default:l(()=>[n("终端远程")]),_:1})]),s("li",null,[a(e,{to:"#卸载"},{default:l(()=>[n("卸载")]),_:1})])])])])]),k,s("p",null,[s("a",v,[n("参考"),a(t)])]),s("div",y,[q,s("blockquote",null,[s("ul",null,[s("li",null,[n("2、 下载包 安装 "),s("a",h,[n("下载地址：mysql-8.0.31-1.el9.x86_64.rpm-bundle.tar"),a(t)]),x,n(" 解压文件")])])]),w]),g])}const R=o(m,[["render",_],["__file","09mysql_centos.html.vue"]]);export{R as default};
