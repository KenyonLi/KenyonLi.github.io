import{_ as i,r as u,o as t,c as a,a as o,b as c,w as d,d as e,e as s}from"./app-c1c3c937.js";const q={},n=o("h2",{id:"目录",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#目录","aria-hidden":"true"},"#"),e(" 目录")],-1),b={class:"table-of-contents"},r=s('<h2 id="mysql-架构体系详解" tabindex="-1"><a class="header-anchor" href="#mysql-架构体系详解" aria-hidden="true">#</a> Mysql 架构体系详解</h2><h3 id="_1、mysql的文件" tabindex="-1"><a class="header-anchor" href="#_1、mysql的文件" aria-hidden="true">#</a> 1、mysql的文件</h3><blockquote><ul><li><code>1） 配置文件</code></li></ul><blockquote><p><code>/etc/my.cnf</code></p></blockquote></blockquote><ul><li><code>参考配置：</code></li></ul><blockquote><p><a href="/file/mysql/01.MySQL%E6%9E%B6%E6%9E%84%E7%AF%87.pdf">01.Mysql 架构篇</a><br><a href="/file/mysql/02.MySQL%E5%AE%89%E8%A3%85%E7%AF%87.pdf">02.Mysql 安装篇</a></p></blockquote><div class="custom-container tip"><p class="custom-container-title">参考配置</p><blockquote><p><code>MySQL设置大小写不敏感：默认：区分表名的大小写，不区分列名的大小写</code></p></blockquote><ul><li><p><code>0：大小写敏感 1：大小写不敏感</code><code>lower_case_table_names=1</code></p></li><li><p><code>默认字符集</code></p><p><code>character-set-server=utf8</code></p></li><li><p><code>默认时区</code></p></li></ul><p>​ <code>default-time_zone = &#39;+8:00&#39;</code></p></div><blockquote><ul><li><code>2) 数据文件目录</code></li></ul><blockquote><p><code>/var/lib/mysql</code></p></blockquote></blockquote><div class="custom-container tip"><p class="custom-container-title">数据文件目录</p><blockquote><ul><li><code>1.日志文件</code></li></ul><blockquote><p><code>通用日志</code></p><ul><li><code>慢查询日志</code></li><li><code>错误日志</code></li><li><code>二进制日志（binlog）</code></li></ul></blockquote><ul><li><code>2.数据文件</code></li></ul><blockquote><ul><li><code>保存在数据库对应的目录下</code></li><li><code>InnoDB引擎创建的表：</code></li><li><code>*.frm：表结构定义文件</code></li><li><code>*.ibd：数据+索引</code></li><li><code>MyIsam引擎：</code></li><li><code>*.frm：表结构定义文件</code></li><li><code>*.MYD：数据文件</code></li><li><code>*.MYI：索引文件</code></li></ul></blockquote><ul><li><code>3.系统表空间文件</code></li></ul><blockquote><ul><li><code>ibdata1</code></li></ul></blockquote><ul><li><code>4.顺序IO</code></li></ul><blockquote><ul><li><code>日志文件。</code></li><li><code>redolog，保证mysql数据完整性的重要环节。</code></li></ul></blockquote></blockquote></div><h3 id="_2、mysql缓存" tabindex="-1"><a class="header-anchor" href="#_2、mysql缓存" aria-hidden="true">#</a> <code>2、mysql缓存</code></h3><p>​ <code>mysql5.7中可以使用，在mysql8中已经删除此功能。</code> ​ <code>开启缓存：</code> ​ <code>query_cache_type</code> ​ <code>0：缓存关闭</code> ​ <code>1：缓存开启，不缓存带“no_sql_cache”的sql语句</code> ​ <code>2：只缓存带“sql_cache”的sql语句</code></p><h3 id="_3、mysql支持的引擎" tabindex="-1"><a class="header-anchor" href="#_3、mysql支持的引擎" aria-hidden="true">#</a> <code>3、mysql支持的引擎</code></h3><div class="custom-container tip"><p class="custom-container-title">引擎</p><blockquote><ul><li><code>可以通过命令查看mysql支持的引擎：</code></li></ul><blockquote><ul><li><code>show engines;</code></li><li><code>同一个数据库中的不同的表可以使用不同的存储引擎。</code></li><li><code>create table xx () engine=innoDB;</code></li></ul></blockquote></blockquote></div><h3 id="_4、innodb引擎结构" tabindex="-1"><a class="header-anchor" href="#_4、innodb引擎结构" aria-hidden="true">#</a> <code>4、InnoDB引擎结构</code></h3><blockquote><ul><li><code>1）磁盘结构</code></li><li><code>1、系统表空间</code></li></ul><blockquote><ul><li><code>ibdata1</code></li><li><code>包含：</code></li><li><code>数据字典</code></li><li><code>双写缓冲区</code></li><li><code>修改缓冲区</code></li><li><code>undolog</code></li></ul></blockquote></blockquote><blockquote><ul><li><code>2、用户表空间</code></li></ul><blockquote><p><code>每个表都对应一个idb文件。其中包含表中的数据和索引</code></p></blockquote><ul><li><code>3、回滚表空间</code></li></ul><blockquote><p><code>默认包含在系统表空间中，可以配置成独立的文件。</code></p></blockquote><ul><li><code>4、通用表空间</code></li></ul><blockquote><p><code>需要使用create tablespace语句创建，然后建表时指定表所在的表空间。</code></p></blockquote><ul><li><code>5、临时表空间</code></li></ul><blockquote><p><code>创建临时表时使用。</code></p></blockquote><ul><li><code>6、redolog</code></li></ul><blockquote><ul><li><code>重做日志文件</code></li><li><code>由一组文件组成：</code></li><li><code>ib_logfile0</code></li><li><code>ib_logfile1</code></li><li><code>循环写入，一个文件默认是50m</code></li></ul></blockquote><ul><li><code>2）内存结构</code></li></ul><blockquote><ul><li><code>1、缓冲池</code></li></ul><blockquote><p><code>包含数据页+索引页（16k）</code></p></blockquote><ul><li><code>2、修改缓冲区</code></li></ul><blockquote><p><code>包含辅助索引更新的内容。</code></p></blockquote><ul><li><code>3、自适应hash索引</code></li></ul><blockquote><ul><li><code>完全由mysql控制无法人工干预</code></li></ul></blockquote><ul><li><code>4、redolog buffer</code></li></ul><blockquote><ul><li><code>重做日志缓冲区</code></li><li><code>先写redo log buffer，在commit时将缓冲区的内容刷新到磁盘文件。</code></li></ul></blockquote></blockquote></blockquote>',15);function k(p,_){const l=u("router-link");return t(),a("div",null,[n,o("nav",b,[o("ul",null,[o("li",null,[c(l,{to:"#目录"},{default:d(()=>[e("目录")]),_:1})]),o("li",null,[c(l,{to:"#mysql-架构体系详解"},{default:d(()=>[e("Mysql 架构体系详解")]),_:1}),o("ul",null,[o("li",null,[c(l,{to:"#_1、mysql的文件"},{default:d(()=>[e("1、mysql的文件")]),_:1})]),o("li",null,[c(l,{to:"#_2、mysql缓存"},{default:d(()=>[e("2、mysql缓存")]),_:1})]),o("li",null,[c(l,{to:"#_3、mysql支持的引擎"},{default:d(()=>[e("3、mysql支持的引擎")]),_:1})]),o("li",null,[c(l,{to:"#_4、innodb引擎结构"},{default:d(()=>[e("4、InnoDB引擎结构")]),_:1})])])])])]),r])}const m=i(q,[["render",k],["__file","01mysql_info.html.vue"]]);export{m as default};
